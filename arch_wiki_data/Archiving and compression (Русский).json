{
  "title": "Archiving and compression (Русский)",
  "url": "https://wiki.archlinux.org/title/Archiving_and_compression_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Традиционные инструменты архивирования и сжатия Unix разделены в соответствии с философией Unix:\n\n- Архиватор объединяет несколько файлов в один архивный файл, например, tar.\n- Инструмент сжатия сжимает и расжимает данные, например, gzip.\n\nЭти инструменты часто используются последовательно: сперва создаётся архивный файл, а затем он сжимается.\n\nКонечно, существуют и универсальные инструменты, которые умеют выполнять обе задачи, а также дополнительно предлагают шифрование, обнаружение ошибок и восстановление.\n\n"
    },
    {
      "title": "Только архивирование",
      "level": 2,
      "content": "Table content:\nИмя | Пакет | Справка | Описание\nGNU tar | tar | tar(1), info | Основная утилита для работы с вездесущими tar-архивами (tarballs), которые используют в том числе pacman и AUR.\nlibarchive | libarchive | bsdtar(1)bsdcpio(1) | Реализация tar и cpio, которая также предоставляет библиотеку. Используется в pacman и mkinitcpio.\nar | binutils | ar(1) | Устаревший архиватор Unix, который был до tar. Сегодня используется только для создания файлов статических библиотек.\ncpio | cpio | cpio(1) | Архиватор файлов через stdin/stdout, поддерживает форматы cpio и tar.\nDAR | darAUR | dar(1) | Архиватор для резервного копирования больших живых файловых систем, учитывает жёсткие ссылки, расширенные атрибуты, разреженные (sparse) файлы и типы inode.\n\nСмотрите также #Использование инструментов только для архивирования.\n\n"
    },
    {
      "title": "Только сжатие",
      "level": 3,
      "content": "Эти программы сжатия реализуют свой собственный формат файлов.\n\nTable content:\nИмя | Пакет | Справка | Ext | Tar ext | Описание | Многопоточные реализации\nbzip2 | bzip2 | bzip2(1) | .bz2, .bz | .tbz2, .tbz | Использует алгоритм Барроуза-Уилера. | lbzip2, pbzip2\ngzip | gzip | gzip(1) | .gz, .z | .tgz, .taz | GNU zip, основан на алгоритме Deflate. | pigz\nlrzip | lrzip | lrzip(1) | .lrz |  | Улучшенная версия rzip, использует разные алгоритмы. | является многопоточным\nLZ4 | lz4 | lz4(1) | .lz4 |  | Написан на C, сфокусирован на скорости. | является многопоточным\nlzip | lzip | lzip(1) | .lz |  | Использует LZMA. | plzipAUR\nlzop | lzop | lzop(1) | .lzop | .tzo | Использует LZO-библиотеку (lzo). | \nxz | xz | xz(1) | .xz, .lzma | .txz, .tlz | Использует LZMA, стандартный для GNU coreutils и архивов ядра. | является многопоточным, pixz, pxz-gitAUR\nzstd | zstd | zstd(1) | .zst |  | Использует алгоритм Zstandard. | является многопоточным\n\n- Многопоточные реализации улучшают скорость работы за счёт использования нескольких ядер процессора.\n- Tar ext — расширения сжатых архивов, в которых используется tar в связке с инструментом сжатия, например, .tzo — это .tar.lzo.\n- Смотрите также #Использование инструментов только для сжатия.\n\n"
    },
    {
      "title": "Архивирование и сжатие",
      "level": 3,
      "content": "Table content:\nИмя | Пакеты | Справка | Ext | Описание\n7-Zip | 7zip | 7z(1)[устаревшая ссылка 2024-12-26] | .7z | Сторонний POSIX-порт утилиты командной строки 7-zip.\nRAR | rarAUR, unrar | rar(1) | .rar | И формат, и утилита rar являются проприетарными.\nZIP | zip, unzip | zip(1), unzip(1) | .zip | Широко используется вне Linux-мира.\nUnarchiver | unarchiver | unar(1), lsar(1) | много | Инструмент командной строки приложения для Mac, поддерживает более 40 форматов архивов.\nZPAQ | zpaqAUR | zpaq(1) | .zpaq | Архиватор с высокой степенью сжатия, написанный на C++, использует несколько алгоритмов.\nLHa | lhasa, lhaAUR | lha(1) | .lzh (на Amiga: .lha) | Архиватор LZH/LHA, поддерживает lh7-метод.\n\nСмотрите также #Использование инструментов для архивирования и сжатия.\n\n"
    },
    {
      "title": "Таблица возможностей",
      "level": 3,
      "content": "Некоторые инструменты умеют работать с несколькими форматами, что позволяет обойтись установкой меньшего числа пакетов.\n\n"
    },
    {
      "title": "Распаковка",
      "level": 4,
      "content": "Table content:\nИмя | gzip | bzip2 | ZIP | LHa/LZH | RAR | compress | CAB | ARJ\ngzip | Да | Нет | Частично1 | Нет | Нет | Да | Нет | Нет\n7zip | Да | Да | Да | Да | Да | Нет | Да | Да\nunarchiver | Да | Да | Да | Да | Да | Да | Да | Частично\n\n1. Утилита gunzip из пакета gzip может распаковывать только ZIP-архивы с одним файлом внутри.\n\n"
    },
    {
      "title": "Использование инструментов только для архивирования",
      "level": 3,
      "content": "Table content:\nИмя | Создание архива | Извлечение из архива | Просмотр содержимого\ntar(1) | tar cfv archive.tar file1 file2 | tar xfv archive.tar | tar -tvf archive.tar\ncpio(1) | ls file1 file2 | cpio -o > archive.cpio | cpio -i -vd < archive.cpio | cpio -t < archive.cpio\n\n"
    },
    {
      "title": "Использование инструментов только для сжатия",
      "level": 3,
      "content": "Table content:\nИмя | Сжатие | Распаковка | Распаковка в stdout\nbzip2(1) | bzip2 file | bzip2 -d file.bz2 | bzcat file.bz2\ngzip(1) | gzip file | gzip -d file.gz | zcat file.gz\nlrzip(1) | lrzip filelrztar folder | lrzip -d file.lrzlrztar -d folder.tar.lrz | lrzcat file.lrz\nxz(1) | xz file | xz -d file.xz | xzcat file.xz\n\n"
    },
    {
      "title": "Использование инструментов для архивирования и сжатия",
      "level": 3,
      "content": "Table content:\nИмя | Сжатие | Распаковка | Распаковка в stdout | Просмотр содержимого\n7z(1)[устаревшая ссылка 2024-12-26] | 7z a archive.7z file1 file2 | 7z x archive.7z | 7z e -so archive.7z file1 | 7z l archive.7z\nrar(1) | rar a archive.rar file1 file2 | rar x archive.rar | rar p -inul archive.rar file1 | rar l archive.rar\nzip(1), unzip(1) | zip archive.zip file1 file2 | unzip archive.zip | unzip -p archive.zip file1 | unzip -l archive.zip\nlha(1) | lha ao7 archive.lzh file1 file2 | lha x archive.lzh |  | кратко: lha l archive.lzh подробно: lha v archive.lzh\n\n"
    },
    {
      "title": "Вспомогательные инструменты",
      "level": 2,
      "content": "- atool — Скрипт для управления архивами различных типов.\n\n- dtrx — Интеллектуальный инструмент для извлечения архивов.\n\n- J7Z — GUI для Linux на java, который пытается упростить сжатие данных и резервное копирование. Он может создавать архивы 7z, BZip2, Zip, GZip, Tar.\n\n- unp — Инструмент командной строки, позволяющий легко распаковывать архивы.\n\n- unpack — Скрипт-обёртка для работы с несколькими форматами архивов.\n\n- Bash/Функции#Извлечение\n\n"
    },
    {
      "title": "Определение формата архива",
      "level": 2,
      "content": "Для извлечения содержимого архива нужно знать его формат. Если файл архива имеет правильное название, то его формат можно определить по расширению.\n\nВ других случаях можно воспользоваться инструментом file, смотрите file(1).\n\n"
    },
    {
      "title": "Эзотерические, редкие или устаревшие инструменты",
      "level": 2,
      "content": "Table content:\nИмя | Пакеты | Ext | Описание\nARC | arcAUR | .arc, .ark | Был очень популярен в ранние времена BBS. Заменён на ZIP.\nARJ | arj | .arj | Архиватор, использовавшийся в DOS/Windows в середине 1990-х годов. Это клон с открытым исходным кодом.\ncompress | ncompress | .Z | Классическая утилита сжатия unix, которая может работать с древним архивом .Z.\nPAR2 | par2cmdline | .par2 | Parity archiver с контролем целостности файлов. Смотрите также Parchive.\nshar | sharutils | .shar | Создаёт самораспаковывающиеся архивы, которые фактически являются скриптами.\nZoo | zooAUR | .zoo | Часто использовался в ОС OpenVMS до того, как PKZIP стал популярным.\n\n"
    },
    {
      "title": "Сжатие в файловой системе",
      "level": 2,
      "content": "Некоторые файловые системы поддерживают сжатие файловых данных \"на лету\":\n\n- Btrfs может быть настроен на сжатие отдельных файлов, каталогов или целых томов по умолчанию.\n- В ZFS сжатие может быть включено для пулов или файловых систем.\n\n"
    },
    {
      "title": "Сжатие device mapper",
      "level": 2,
      "content": "Ведётся работа над проектом VDO, который обеспечивает уровень дедупликацию и сжатие на уровне device mapper для повышения эффективности хранения данных. Доступны следующие пакеты:\n\n- vdo — Пользовательские инструменты для управления томами VDO\n\n- kvdo — Пара модулей ядра, которые предоставляют пулы дедуплицированного и/или сжатого блочного хранилища\n\n"
    },
    {
      "title": "Библиотеки сжатия",
      "level": 2,
      "content": "- Brotli — Алгоритм сжатия потоков данных с использованием алгоритма LZ77, кодирования Хаффмана и контекстного моделирования второго порядка.\n\n- libzip — Обеспечивает создание и извлечение ZIP-файлов. Используется в KDE и Deepin вместо инструментов zip/unzip.\n\n- zlib — Реализация deflate, используемая в gzip и PKZIP.\n\n- Zopfli — Компрессор файлов с высоким коэффициентом сжатия от Google, использующий совместимый с deflate алгоритм под названием zopfli.\n\n"
    },
    {
      "title": "Проблемы с японскими именами файлов",
      "level": 3,
      "content": "Японские версии Windows кодируют ZIP-архивы с помощью Shift-JIS, из-за чего при извлечении будут получаться кракозябры. Для корректного извлечения используйте `unzip` с опцией shift-jis.\n\n```\n$ unzip -O shift-jis nihongo.zip\n```\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- List of applications/Utilities#Archiving and compression tools\n- List of applications/Multimedia#Image compression\n- Wikipedia:Comparison of file archivers\n- Wikipedia:List of archive formats\n- Wikipedia:Comparison of archive formats\n\n"
    }
  ]
}