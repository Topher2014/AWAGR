{
  "title": "Glusterfs (Русский)",
  "url": "https://wiki.archlinux.org/title/Glusterfs_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- Ceph\n\nGlusterfs — масштабируемая сетевая файловая система.\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите пакет glusterfs.\n\n"
    },
    {
      "title": "Настройка",
      "level": 2,
      "content": "Glusterfs можно настроить для работы во многих различных конфигурациях в зависимости от потребностей, включая распределённые и реплицированные. В приведённом ниже примере создаётся реплицируемый сервер с двумя узлами, каждый из которых (gluster1 и gluster2) имеет два диска, один из которых содержит ОС (sda), а другой — совместно используемый glusterfs (sdb). Если не указано иного, все настройки выполняются на gluster1:\n\n- Запустите/включите службу glusterd.service на обоих серверах.\n- Соедините сервера:\n\n```\n# gluster peer probe gluster2\n```\n\n- Разметьте и отформатируйте диск glusterfs на обоих серверах Upstream советует создать один раздел и отформатировать его в XFS\n- На обоих серверах автоматически смонтируйте диски, добавив следующую строку в /etc/fstab, где /dev/sdXY — подходящее устройство (например, /dev/sdb1).\n\n- Upstream советует создать один раздел и отформатировать его в XFS\n\n```\n/etc/fstab\n```\n\n```\n/dev/sdXY /export/sdXY xfs defaults 0 0\n```\n\n- Смонтируйте диски на обоих серверах. Затем создайте brick:\n\n```\n# mkdir -p /export/sdXY/brick\n```\n\n- Включите репликацию на основном сервере:\n\n```\n# gluster volume create gv0 replica 2 gluster1.mydomain.net:/export/sdb1/brick gluster2.mydomain.net:/export/sdb1/brick\n```\n\n- Убедитесь, что том создан правильно:\n\n```\n# gluster volume info\n```\n\n- Запустите том:\n\n```\n# gluster volume start gv0\n```\n\n- Смонтируйте том:\n\n```\n# mkdir -p /mnt/glusterClientMount\n # mount -t glusterfs gluster1:/gv0 /mnt/glusterClientMount\n```\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- Официальное руководство по установке glusterfs\n- Блог о настройке Glusterfs на Arch Linux\n\n"
    }
  ]
}