{
  "title": "Trusted Platform Module (Polski)/1.2 (Polski)",
  "url": "https://wiki.archlinux.org/title/Trusted_Platform_Module_(Polski)/1.2_(Polski)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "TPM 1.2 wykorzystuje \"TrouSerS\" TSS (stos oprogramowania TCG) firmy IBM, który jest spakowany jako trousersAUR (tcsd) i tpm-toolsAUR (przestrzeń użytkownika). Wszystkie programy uzyskują dostęp do TPM za pośrednictwem demona tcsd.\n\n"
    },
    {
      "title": "Sterowniki",
      "level": 2,
      "content": "Sterowniki TPM są natywnie obsługiwane przez nowoczesne jądra, ale mogą wymagać załadowania:\n\n```\n# modprobe tpm\n```\n\nW zależności od posiadanego chipsetu, konieczne może być również załadowanie jednego z poniższych elementów:\n\n```\n# modprobe -a tpm_{atmel,infineon,nsc,tis,crb}\n```\n\n"
    },
    {
      "title": "Użycie",
      "level": 2,
      "content": "TPM 1.2 jest zarządzany przez tcsd, demona przestrzeni użytkownika, który zarządza zasobami Trusted Computing i powinien być (zgodnie ze specyfikacją TSS) jedynym portalem do sterownika urządzenia TPM. tcsd jest częścią pakietu trousersAUR, który został stworzony i wydany przez IBM i może być skonfigurowany poprzez /etc/tcsd.conf.\n\nAby uruchomić tcsd i obejrzeć dane wyjściowe, uruchom:\n\n```\n# tcsd -f\n```\n\nalbo zwyczajne uruchom i włącz tcsd.service.\n\nPo uruchomieniu tcsd warto również zainstalować tpm-toolsAUR, który zapewnia wiele narzędzi wiersza poleceń do zarządzania modułem TPM.\n\nKilka innych interesujących narzędzi:\n\n- tpmmanager — Nakładka Qt na narzędzia tpm-tools\n\n- opencryptoki — Implementacja PKCS#11 dla systemu Linux. Zawiera sterowniki i biblioteki umożliwiające korzystanie ze sprzętu kryptograficznego IBM, a także token programowy do testowania.\n\n"
    },
    {
      "title": "Podstawy",
      "level": 2,
      "content": "Zacznij od uzyskania podstawowych informacji o wersji:\n\n```\n$ tpm_version\n```\n\ni uruchomienie autotestu:\n\n```\n$ tpm_selftest -l info\n```\n\n```\nTPM Test Results: 00000000 ...\ntpm_selftest succeeded\n```\n\n"
    },
    {
      "title": "Zabezpieczanie kluczy SSH",
      "level": 2,
      "content": "Istnieje kilka metod wykorzystania TPM do zabezpieczenia kluczy, ale tutaj pokażemy prostą metodę opartą na simple-tpm-pk11-gitAUR.\n\nNajpierw utwórz nowy katalog i wygeneruj klucz:\n\n```\n$ mkdir ~/.simple-tpm-pk11\n$ stpm-keygen -o ~/.simple-tpm-pk11/my.key\n```\n\nWskaż konfigurację klucza:\n\n```\n~/.simple-tpm-pk11/config\n```\n\n```\nkey my.key\n```\n\nTeraz skonfiguruj SSH, aby korzystał z odpowiedniego dostawcy PKCS11:\n\n```\n~/.ssh/config\n```\n\n```\nHost *\n    PKCS11Provider /usr/lib/libsimple-tpm-pk11.so\n```\n\nTeraz możliwe jest generowanie kluczy za pomocą dostawcy PKCS11:\n\n```\n$ ssh-keygen -D /usr/lib/libsimple-tpm-pk11.so\n```\n\n"
    },
    {
      "title": "Nie udało się uruchomić tcsd.service",
      "level": 3,
      "content": "Po zainstalowaniu trousersAUR, usługa tcsd.service może nie uruchamiać się poprawnie z powodu problemów z uprawnieniami.[1] Można to naprawić poprzez restart systemu lub uruchomienie reguły udev zawartej w pakiecie trousersAUR:\n\n```\n# udevadm control --reload-rules\n# udevadm trigger\n```\n\n"
    },
    {
      "title": "Zobacz także",
      "level": 2,
      "content": "- Ochrona systemów za pomocą modułu TPM\n- Wbudowany podsystem bezpieczeństwa na Thinkwiki\n- Podstawy TPM (PDF)\n- Korzystanie z modułu TPM\n\n"
    }
  ]
}