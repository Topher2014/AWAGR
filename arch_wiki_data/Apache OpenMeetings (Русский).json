{
  "title": "Apache OpenMeetings (Русский)",
  "url": "https://wiki.archlinux.org/title/Apache_OpenMeetings_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "OpenMeetings — приложение для создания видеоконференций. Поддерживает обмен мгновенными сообщениями, совместную работу с досками конференций и документами, а также некоторые другие инструменты для работы в группах. Использует функции API Media Server для удалённого взаимодействия и потоковой передачи аудио и видео (Red5 или Kurento).\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите пакет openmeetingsAUR.\n\nДля запуска сервера OpenMeetings запустите службу openmeetings.service.\n\n"
    },
    {
      "title": "Java",
      "level": 3,
      "content": "Для работы OpenMeetings необходим пакет jdk11-openjdk. Если параллельно установлены и другие версии Java, выполните следующую команду, чтобы OpenJDK 11 использовался по умолчанию:\n\n```\n# archlinux-java set java-11-openjdk\n```\n\n"
    },
    {
      "title": "ImageMagick",
      "level": 3,
      "content": "Чтобы при загрузке офисных файлов не получать ошибку, убедитесь, что следующие строки в файле /etc/ImageMagick-7/policy.xml закомментированы:\n\n```\n/etc/ImageMagick-7/policy.xml\n```\n\n```\n<!-- <policy domain=\"coder\" rights=\"none\" pattern=\"{PS,PS2,PS3,EPS,PDF,XPS}\" /> -->\n<!-- <policy domain=\"delegate\" rights=\"none\" pattern=\"gs\" /> -->\n```\n\n"
    },
    {
      "title": "Базы данных",
      "level": 3,
      "content": "По умолчанию OpenMeetings использует интегрированную локальную базу данных H2, которая не требует дополнительных настроек и уже готова для использования. Также поддерживаются такие базы данных как MySQL, PostgreSQL, IBM DB2, MSSQL и Oracle (англ.).\n\n"
    },
    {
      "title": "Настройка базы данных MySQL",
      "level": 4,
      "content": "Ниже рассмотрена настройка базы данных MariaDB/MySQL для хранения данных OpenMeetings.\n\nПрежде всего, установите пакет mariadb.\n\nДля работы с базой данных MySQL OpenMeetings использует MySQL Connector/J, который можно установить либо с пакетом openmeetings-mysql-connector-javaAUR[ссылка недействительна: package not found], либо вручную, скачав с официального сайта:\n\n```\n$ wget https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.18/mysql-connector-java-8.0.18.jar \n# cp mysql-connector-java-8.0.18.jar /opt/openmeetings/webapps/openmeetings/WEB-INF/lib\n# chown nobody:nobody /opt/openmeetings/webapps/openmeetings/WEB-INF/lib/mysql-connector-java-8.0.18.jar\n```\n\nЕсли это свежая установка MySQL, то перед первым запуском обязательно необходимо создать базовые таблицы командой:\n\n```\n# mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql\n```\n\nПосле этого запустите/включите службу mysqld.\n\nЗадайте пароль для пользователя root:\n\n```\n# mysqladmin -u root password\n```\n\nСоздайте новую базу данных OpenMeetings:\n\n```\n$ mysql -u root -p\n```\n\n```\nMariaDB [(none)]> CREATE DATABASE openmeetings DEFAULT CHARACTER SET 'utf8';\nquit\n```\n\nСоздайте нового пользователя с необходимыми правами доступа к новой базе данных. Пример для пользователя openmeetings с паролем some_pass:\n\n```\n$ mysql -u root -p\n```\n\n```\nMariaDB> CREATE USER 'openmeetings'@'localhost' IDENTIFIED BY 'some_pass';\nMariaDB> GRANT ALL PRIVILEGES ON openmeetings.* TO 'openmeetings'@'localhost' WITH GRANT OPTION;\nMariaDB> quit\n```\n\nВпоследствии при входе через #Веб-интерфейс укажите эти данные и OpenMeetings создаст в базе данных необходимые таблицы.\n\n"
    },
    {
      "title": "Медиа-сервер KMS",
      "level": 3,
      "content": "Чтобы иметь доступ к камере, микрофону, записи и совместному использованию рабочего стола в комнате, необходимо установить kurento-media-server (KMS).\n\nМедиа-сервер можно установить одним из двух способов: с помощью Docker или через AUR.\n\n"
    },
    {
      "title": "Установка с помощью Docker",
      "level": 4,
      "content": "См. статью Docker для получения информации о его настройке.\n\nЗапустите kurento-media-server из Docker Hub:\n\n```\n# docker run -d --name kms -p 8888:8888 --mount type=bind,source=/opt/openmeetings/webapps/openmeetings/data,target=/opt/openmeetings/webapps/openmeetings/data kurento/kurento-media-server\n```\n\n"
    },
    {
      "title": "Установка с помощью AUR",
      "level": 4,
      "content": "Установите пакеты kurento-media-serverAUR и kms-elementsAUR[ссылка недействительна: package not found].\n\nЗапустите/включите службу kurento-media-server.service.\n\n"
    },
    {
      "title": "Веб-интерфейс",
      "level": 2,
      "content": "OpenMeetings по умолчанию использует два порта для доступа к веб-интерфейсу:\n\n- порт 5443 для протокола HTTPS: https://localhost:5443/openmeetings.\n- порт 5080 для протокола HTTP (незащищенное соединение): http://localhost:5080/openmeetings.\n\nДля настройки альтернативных портов необходимо отредактировать файл /opt/openmeetings/conf/server.xml и перезапустить сервер OpenMeetings, чтобы изменения вступили в силу.\n\nДля автоматического обновления Let's Encrypt-сертификатов OpenMeetings можно воспользоваться пакетом certbot-openmeetingsAUR, предварительно настроив Certbot для своего домена.\n\n"
    },
    {
      "title": "Дополнительные зависимости",
      "level": 2,
      "content": "Для расширения функционала OpenMeetings можно установить дополнительные пакеты:\n\n- unoconv — импорт файлов .doc, .docx, .ppt, .pptx и прочих офисных форматов в OpenMeetings.\n- imagemagick — работа с файлами изображений jpg, png, gif и т.д., также применяется в пост-обработке при импорте офисных форматов файлов.\n- ghostscript — добавление импорта PDF-файлов на доски конференций.\n- ffmpeg — включение записи и импорта файлов .avi, .flv, .mov и .mp4 на доски конференций.\n- sox — обработка звука.\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- OpenMeetengs Wiki (англ.)\n- Официальный сайт OpenMeetings (англ.)\n- Официальный сайт Kurento Media Server (англ.)\n\n"
    }
  ]
}