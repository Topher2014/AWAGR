{
  "title": "Password Recovery (Русский)",
  "url": "https://wiki.archlinux.org/title/Password_Recovery_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "На этой странице вы сможете узнать, как сбросить забытый пароль суперпользователя. Существуют несколько способов, которые могут вам в этом помочь.\n\n"
    },
    {
      "title": "Через sudo",
      "level": 2,
      "content": "Если у вас есть установленный sudo и настроен доступ для группы wheel или для пользователя, чей пароль вы помните, вы можете сменить пароль root с помощью команды sudo passwd root.\n\n"
    },
    {
      "title": "Через отладочную консоль",
      "level": 2,
      "content": "1. Добавьте параметр ядра systemd.debug_shell.\n1. Система загрузится как обычно, но запустит службу debug-shell.service, которая запустит командный интерпретатор (/bin/sh) на консоли tty9. Нажмите Ctrl+Alt+F9 чтобы перейти в неё.\n1. Используйте команду passwd для установки нового пароля суперпользователя.\n1. После завершения остановите debug-shell.service.\n\n"
    },
    {
      "title": "Используя bash в качестве init",
      "level": 2,
      "content": "1. Добавьте параметр ядра init=/bin/bash в настройках вашего загрузчика.\n1. Сейчас ваша корневая файловая система смонтирована только для чтения, поэтому перемонтируйте ее на чтение-запись командой mount -n -o remount,rw /.\n1. Используйте команду passwd для установки нового пароля суперпользователя.\n1. Перезагрузитесь с помощью команды reboot -f и не забудьте свой пароль снова!\n\n"
    },
    {
      "title": "При помощи LiveCD",
      "level": 2,
      "content": "С загрузочным диском у вас есть два варианта: войти в сеанс chroot и использовать команду passwd, либо очистить запись с паролем в файле паролей напрямую. Вы можете использовать любой загрузочный диск на основе Linux, хотя для chroot необходимо, чтобы архитектура LiveCD совпадала с архитектурой установленной системы. Здесь мы приведем лишь способ сброса пароля при помощи chroot, так как ручное редактирование файла паролей представляет значительно больший риск.\n\n"
    },
    {
      "title": "chroot",
      "level": 3,
      "content": "1. Загрузитесь с LiveCD и смонтируйте корневой раздел вашей основной системы.\n1. Используйте команду passwd --root ТОЧКА_МОНТИРОВАНИЯ ИМЯ_ПОЛЬЗОВАТЕЛЯ для установки нового пароля (старый пароль запрошен не будет).\n1. Размонтируйте корневой раздел.\n1. Перезагрузитесь и введите новый пароль.\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- https://www.howtoforge.com/how-to-reset-a-forgotten-root-password-with-knoppix-p2\n- Early Debug Shell\n\n"
    }
  ]
}