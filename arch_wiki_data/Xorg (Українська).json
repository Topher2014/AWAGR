{
  "title": "Xorg (Українська)",
  "url": "https://wiki.archlinux.org/title/Xorg_(%D0%A3%D0%BA%D1%80%D0%B0%D1%97%D0%BD%D1%81%D1%8C%D0%BA%D0%B0)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Повʼязані статті\n\n- Autostarting\n- Display manager (Українська)\n- Window manager (Українська)\n- Font configuration\n- Cursor themes\n- Desktop environment (Українська)\n- Wayland\n- xinit\n- xrandr\n- XDMCP\n\nЗ https://www.x.org/wiki/:\n\nXorg (зазвичай називають просто X) - найпопулярнішою віконною системою серед користувачів Linux. Її поширеність призвела до того, що вона стала невід'ємним атрибутом програм з графічним інтерфейсом, що призвело до масового впровадження у більшості дистрибутивів. Дивіться статтю Xorg у Вікіпедії або відвідайте веб-сайт Xorg для отримання детальнішої інформації.\n\nПро альтернативу та наслідника див. Wayland.\n\n"
    },
    {
      "title": "Встановлення",
      "level": 2,
      "content": "Xorg можна встановити за допомогою пакета xorg-server.\n\nКрім того, деякі пакети з групи xorg-apps необхідні для певних завдань конфігурації. Про них зазначено у відповідних розділах.\n\nНарешті, також доступна група xorg, до якої входять пакети сервера Xorg, пакети з групи xorg-apps та шрифти.\n\n"
    },
    {
      "title": "Встановлення драйверів",
      "level": 3,
      "content": "Ядро Linux містить відеодрайвери з відкритим вихідним кодом та підтримку апаратного прискорення фрейм-буферів. Втім, для OpenGL і 2D-прискорення у X11 потрібна підтримка користувацького середовища.\n\nСпочатку визначте відеокарту (у виводі Subsystem буде показано конкретну модель):\n\n```\n$ lspci -v | grep -A1 -e VGA -e 3D\n```\n\nПотім встановіть відповідний драйвер. Повний список відеодрайверів з відкритим кодом можна знайти у базі даних пакетів:\n\n```\n$ pacman -Ss xf86-video\n```\n\nXorg шукає встановлені драйвери автоматично:\n\n- Якщо не вдається знайти певний драйвер, встановлений для апаратних засобів (перелічено нижче), спочатку шукається fbdev (xf86-video-fbdev), який не включає жодного 2D або 3D прискорення.\n- Якщо його не знайдено, шукає vesa (xf86-video-vesa), типовий драйвер, який працює з великою кількістю чипсетів, але не містить жодного 2D або 3D прискорення.\n- Якщо vesa не знайдено, Xorg повернеться до налаштування режиму ядра, яке включає прискорення GLAMOR (див. modesetting(4)).\n\nДля того, щоб відеоприскорення працювало, і часто для того, щоб показати усі режими, які може встановити графічний процесор, потрібен належний відеодрайвер:\n\nNote: **This article or section needs expansion.** This article or section needs expansion.\n\nThis article or section needs expansion.\n\nTable content:\nВиробник | Тип | Документація | Драйвер | OpenGL | OpenGL (multilib) | Vulkan | Vulkan (multilib)\nAMD (ex-ATI) | Відкритий код | AMDGPU | xf86-video-amdgpu | mesa | lib32-mesa | vulkan-radeon / amdvlk4 | lib32-vulkan-radeon / lib32-amdvlk4\nATI | xf86-video-ati | Немає\nProprietary | AMDGPU PRO | xf86-video-amdgpu | amdgpu-pro-oglpAUR | lib32-amdgpu-pro-oglpAUR | vulkan-amdgpu-proAUR | lib32-vulkan-amdgpu-proAUR\nIntel | Відкритий код | Intel graphics | xf86-video-intel2 | mesa або mesa-amber3 | lib32-mesa | vulkan-intel | lib32-vulkan-intel\nNVIDIA | Відкритий код | Nouveau1 | xf86-video-nouveau | mesa | lib32-mesa | vulkan-nouveau | lib32-vulkan-nouveau\nВласність виробника | NVIDIA1 | nvidia | nvidia-utils | lib32-nvidia-utils | nvidia-utils | lib32-nvidia-utils\nnvidia-470xx-dkmsAUR | nvidia-470xx-utilsAUR | lib32-nvidia-470xx-utilsAUR | nvidia-470xx-utilsAUR | lib32-nvidia-470xx-utilsAUR\nnvidia-390xx-dkmsAUR | nvidia-390xx-utilsAUR | lib32-nvidia-390xx-utilsAUR | nvidia-390xx-utilsAUR | lib32-nvidia-390xx-utilsAUR\n\n1. Для ноутбуків з підтримкою NVIDIA Optimus, які використовують інтегровану відеокарту у поєднанні з виділеним графічним процесором, див. NVIDIA Optimus.\n1. Для графічних процесорів Intel 4-го покоління і вище див. Intel graphics#Installation щодо доступних драйверів.\n1. Класичні драйвери OpenGL (не Gallium3D) для старішого обладнання (Mesa 22.0 і вище не підтримує класичний драйвер i915)\n1. vulkan-radeon / lib32-vulkan-radeon рекомендовано замість amdvlk / lib32-amdvlk (див. AMDGPU#Installation).\n\nІнші відеодрайвери можна знайти у групі xorg-drivers.\n\nXorg має безперебійно працювати без драйверів із закритим кодом, які зазвичай потрібні лише для розширених можливостей, таких як швидкий 3D-рендеринг для ігор. Винятком з цього правила є новітні графічні процесори (особливо NVIDIA GPU), які не підтримуються драйверами з відкритим кодом.\n\n"
    },
    {
      "title": "AMD",
      "level": 3,
      "content": "Переклад назв моделей (наприклад, Radeon RX 6800) на архітектури графічних процесорів (наприклад, RDNA 2) див. у Wikipedia:List of AMD graphics processing units#Features overview.\n\nTable content:\nАрхітектура GPU | Драйвер з відкритим кодом | Власний драйвер\nRDNA і пізніше | AMDGPU | AMDGPU PRO\nGCN 3 і пізніше\nGCN 1&2 | AMDGPU1 / ATI | не доступно\nTeraScaleта старіші | ATI | не доступно\n\n1. Експериментальний.\n\n"
    },
    {
      "title": "Запуск",
      "level": 2,
      "content": "Команду Xorg(1) зазвичай не виконують безпосередньо. Замість цього X-сервер запускається за допомогою віконного менеджера або xinit.\n\n"
    },
    {
      "title": "Конфігурація",
      "level": 2,
      "content": "Xorg використовує файл налаштуваньxorg.conf і файли що закінчуються на .conf для початкового налаштування: повний список тек, в яких знаходяться ці файли, можна знайти у xorg.conf(5), разом з детальним поясненням усіх доступних варіантів.\n\n"
    },
    {
      "title": "Використання .conf файлів",
      "level": 3,
      "content": "Каталог /etc/X11/xorg.conf.d/ зберігає конфігурацію, специфічну для хоста. Ви можете додавати там конфігураційні файли, але вони повинні мати суфікс .conf: файли зчитуються в порядку ASCII, тому, відповідно, їхні імена починаються з XX- (дві цифри і дефіс, для прикладу: 10 читається перед 20). Ці файли аналізуються сервером X під час запуску і обробляються як частина традиційного конфігураційного файлу xorg.conf. Зверніть увагу, що при конфліктній конфігурації цей файл буде оброблено останнім. З цієї причини найбільш загальні конфігураційні файли слід упорядковувати першими за назвою. Записи конфігурації у файлі xorg.conf обробляються наприкінці.\n\nПриклади налаштування дивіться на fedora wiki.\n\n"
    },
    {
      "title": "Використання xorg.conf",
      "level": 3,
      "content": "Xorg також можна налаштувати за допомогою /etc/X11/xorg.conf або /etc/xorg.conf. Ви також можете створити основу для xorg.conf з:\n\n```\n# Xorg :0 -configure\n```\n\nЦе має створити файл xorg.conf.new в /root/, в який можна скопіювати /etc/X11/xorg.conf.\n\nКрім того, драйвери пропрієтарних відеокарт можуть постачатися з інструментом для автоматичної настройки Xorg: див. Статтю вашого відео-драйвера, NVIDIA або AMDGPU PRO.\n\n"
    },
    {
      "title": "Пристрої введення",
      "level": 2,
      "content": "Для пристроїв введення даних X-сервер типово використовує драйвер libinput (xf86-input-libinput), але xf86-input-evdev та відповідні драйвери доступні як альтернатива.[1]\n\nUdev, яка забезпечується як залежність від systemd, буде виявляти апаратні засоби, і обидва драйвера виступатимуть як драйвер введення для гарячого підключення майже для всіх пристроїв, як це типово визначено у файлах конфігурації 10-quirks.conf та 40-libinput.conf за шляхом /usr/share/X11/xorg.conf.d/.\n\nПісля запуску X-серверу, у файлі журналу відображатиметься, який драйвер буде задіяний для окремих пристроїв (зауважте, що найновіше ім'я файлу журналу може змінюватися):\n\n```\n$ grep -e \"Using input driver \" Xorg.0.log\n```\n\nЯкщо обидва драйвери не підтримують певний пристрій, встановіть потрібний драйвер з групи xorg-drivers. Те ж саме зробіть, якщо ви хочете використовувати інший драйвер.\n\nЩоб вплинути на гаряче підключення, див #Конфігурація.\n\nДля більш конкретних інструкцій див. статтю libinput, читайте нижче, або Fedora wiki.\n\n"
    },
    {
      "title": "Ідентифікація введення",
      "level": 3,
      "content": "Дивіться Keyboard input#Identifying keycodes in Xorg.\n\n"
    },
    {
      "title": "Прискорення миші",
      "level": 3,
      "content": "Дивіться Mouse acceleration.\n\n"
    },
    {
      "title": "Додаткові кнопки миші",
      "level": 3,
      "content": "Дивіться Mouse buttons.\n\n"
    },
    {
      "title": "Тачпад",
      "level": 3,
      "content": "Дивіться libinput або Synaptics.\n\n"
    },
    {
      "title": "Тачскрін",
      "level": 3,
      "content": "Дивіться Touchscreen.\n\n"
    },
    {
      "title": "Налаштування клавіатури",
      "level": 3,
      "content": "Дивіться Xorg (Українська)/Keyboard configuration (Українська).\n\n"
    },
    {
      "title": "Ручне налаштування",
      "level": 3,
      "content": "- Новіші версії Xorg йдуть з автоконфігуруванням, тому ручна конфігурація не потрібна.\n- Якщо Xorg не може виявити якийсь монітор або знайти автоматичного налаштування, можна використовувати файл конфігурації. Загальний випадок, коли це необхідно, це система, яка завантажується без монітора і автоматично запускає Xorg, або з віртуальної консолі при вході, або з менеджеру вікон.\n\nДля конфігурації без-моніторних систем потрібен драйвер xf86-video-dummy; встановіть його та створіть файл конфігурації, подібний до цього:\n\n```\n/etc/X11/xorg.conf.d/10-headless.conf\n```\n\n```\nSection \"Monitor\"\n        Identifier \"dummy_monitor\"\n        HorizSync 28.0-80.0\n        VertRefresh 48.0-75.0\n        Modeline \"1920x1080\" 172.80 1920 2040 2248 2576 1080 1081 1084 1118\nEndSection\n\nSection \"Device\"\n        Identifier \"dummy_card\"\n        VideoRam 256000\n        Driver \"dummy\"\nEndSection\n\nSection \"Screen\"\n        Identifier \"dummy_screen\"\n        Device \"dummy_card\"\n        Monitor \"dummy_monitor\"\n        SubSection \"Display\"\n        EndSubSection\nEndSection\n```\n\n"
    },
    {
      "title": "Декілька моніторів",
      "level": 3,
      "content": "Дивіться головну статтю Multihead для отримання більшої інформації.\n\nДивіться також інструкції відповідно до вашого GPU:\n\n- NVIDIA#Multiple monitors\n- ATI#Multihead setup\n\n"
    },
    {
      "title": "Більш ніж одна графічна карта",
      "level": 4,
      "content": "Ви повинні визначити правильний драйвер для використання і ввести BusID ваших графічних карт.\n\n```\nSection \"Device\"\n    Identifier             \"Screen0\"\n    Driver                 \"intel\"\n    BusID                  \"PCI:0:2:0\"\nEndSection\n\nSection \"Device\"\n    Identifier             \"Screen1\"\n    Driver                 \"nouveau\"\n    BusID                  \"PCI:1:0:0\"\nEndSection\n```\n\nОтримати BusID (у шістнадцятковому форматі):\n\n```\n$ lspci | grep -e VGA -e 3D\n```\n\n```\n00:02.0 VGA compatible controller: Intel Corporation HD Graphics 630 (rev 04)\n01:00.0 3D controller: NVIDIA Corporation GP107M [GeForce GTX 1050 Mobile] (rev a1)\n```\n\nBusID тут 0:2:0 та 1:0:0.\n\n"
    },
    {
      "title": "Розмір екрану та DPI",
      "level": 3,
      "content": "За замовчуванням, починаючи з 2009-01-30 року, Xorg завжди встановлює DPI на 96. У версії 21.1 було зроблено зміну для забезпечення належного автоматичного визначення DPI, але її було скасовано.\n\nDPI сервера X можна встановити за допомогою параметра командного рядка -dpi.\n\nПравильне значення DPI є корисним там, де потрібні дрібні деталі (наприклад, при відтворенні шрифтів). Раніше виробники намагалися створити стандарт для 96 DPI (монітор з діагоналлю 10.3\" матиме роздільну здатність 800x600, монітор з діагоналлю 13.2\" - 1024x768). Сьогодні кількість точок на дюйм на екрані варіюється і може бути неоднаковою по горизонталі та вертикалі. Наприклад, 19-дюймовий широкоформатний LCD-дисплей з роздільною здатністю 1440x900 може мати DPI 89x87.\n\nЩоб перевірити, чи правильні розмір вашого дисплея та DPI:\n\n```\n$ xdpyinfo | grep -B2 resolution\n```\n\nПереконайтеся, що розміри відповідають розміру дисплея. Якщо сервер Xorg не може правильно розрахувати розмір екрану, він типово буде дорівнює 75x75 DPI, і вам доведеться розрахувати його самостійно.\n\nЯкщо у вас в документації є інформація про фізичний розмір екрана, вона може бути введена в файл конфігурації Xorg, щоб обчислити відповідний DPI (налаштувати ідентифікатор вашого виводу xrandr) :\n\n```\nSection \"Monitor\"\n    Identifier             \"DVI-D-0\"\n    DisplaySize             286 179    # В міліметрах\nEndSection\n```\n\nЯкщо ви бажаєте лише ввести специфікацію вашого монітора, без створення повного xorg.conf, створіть новий конфігураційний файл. Наприклад (/etc/X11/xorg.conf.d/90-monitor.conf):\n\n```\nSection \"Monitor\"\n    Identifier             \"<default monitor>\"\n    DisplaySize            286 179    # В міліметрах\nEndSection\n```\n\nЯкщо у вас немає в документації інформації про ширину та висоту екрана (більшість специфікацій наведено лише за діагональним розміром), можна використовувати власне дозвіл монітора (або співвідношення сторін) і діагональний розмір для обчислення горизонтальних і вертикальних фізичних розмірів. Використання теореми Піфагора на екрані діагоналі 13,3 дюйма з рідною роздільною здатністю 1280x800 (або співвідношенням сторін 16:10):\n\n```\n$ echo 'scale=5;sqrt(1280^2+800^2)' | bc  # 1509.43698\n```\n\nЦе дасть піксельний діагональний розмір і з цим значенням ви зможете виявити фізичні та горизонтальні розміри (і перетворити їх на міліметри):\n\n```\n$ echo 'scale=5;(13.3/1509)*1280*25.4' | bc  # 286.43072\n$ echo 'scale=5;(13.3/1509)*800*25.4'  | bc  # 179.01920\n```\n\n"
    },
    {
      "title": "Ручне налаштування DPI",
      "level": 4,
      "content": "Для RandR-сумісних драйверів (наприклад відкритий ATI драйвер), ви можете встановити його:\n\n```\n$ xrandr --dpi 144\n```\n\nВиконайте команди після старту X щоб зробити зміни постійними.\n\nВи можете встановити DPI вручну, додавши параметр у розділі Device або Screen:\n\n```\nOption              \"DPI\" \"96 x 96\"\n```\n\nGTK дуже часто перевизначає DPI сервера за допомогою додаткового файлу Xresource Xft.dpi. Щоб дізнатися, чи відбувається це з вами, перевірте з:\n\n```\n$ xrdb -query | grep dpi\n```\n\nЗ версіями бібліотеки GTK після 3.16, коли ця змінна явно не встановлена, GTK встановлює його 96. Щоб програми GTK підкорялися серверу DPI, вам може знадобитися точно встановити Xft.dpi на те ж значення, що і сервер. Ресурс Xft.dpi - це метод, за допомогою якого деякі настільні середовища примушують DPI до певного значення в особистих налаштуваннях. Серед них KDE та TDE.\n\n"
    },
    {
      "title": "Управління енергозбереженням монітора",
      "level": 3,
      "content": "DPMS (Display Power Management Signaling) це технологія, що визначає функції управління енергозбереженням моніторів за допомогою відеокарти, коли комп'ютер не використовується. Це дозволить монітору автоматично переходити в режим очікування після попередньо визначеного періоду часу.\n\n"
    },
    {
      "title": "Композит",
      "level": 2,
      "content": "Композитне розширення для X призводить до того, що усе піддерево ієрархії вікна буде відтворено у буфері поза екраном. Програми можуть приймати вміст цього буфера і робити все, що їм подобається. Екранний буфер може бути автоматично об'єднаний у батьківське вікно або об'єднаний зовнішніми програмами, які називаються композитними менеджерами. Докладнішу інформацію див. у наступній статті: Композитний менеджер вікон\n\nБагато віконних менеджерів (наприклад: Compiz, Enlightenment, KWin, Marco, Metacity, Muffin, Mutter, Xfwm) роблять композицію самостійно. Для інших менеджерів вікон можна використовувати автономний композитний менеджер.\n\n"
    },
    {
      "title": "Список композитних менеджерів",
      "level": 3,
      "content": "- Picom — Легкий композитор із затіненням, розширеним розмиванням та вицвітанням. Запозичено з Compton.\n\n- Xcompmgr — Композитний менеджер віконних ефектів.\n\n- Gamescope — Мікро-компілятор від Valve, з ігровими можливостями, такими як масштабування FSR. Отримано з steamos-compositor.\n\n- steamos-compositor-plus — Композитор від Valve, з деякими додатковими твіками та виправленнями.\n\n"
    },
    {
      "title": "Автоматизація",
      "level": 3,
      "content": "У цьому розділі перелічено утиліти для автоматизації введення та виведення клавіатури / миші, операцій з вікнами (наприклад переміщення, зміна розміру або фокусування).\n\nTable content:\nІнструмент | Пакет | Документація | Емуляціявведення | Операціїз вікнами | Примітка\nxautomation | xautomation | xte(1) | Так | Ні | Також містить інструменти для очищення екрана. Не може емулювати F13+.\nxdo | xdo | xdo(1) | Ні | Так | Невелика утиліта X для виконання елементарних дій над вікнами.\nxdotool | xdotool | xdotool(1) | Так | Так | Багато помилок і не перебуває в активній розробці, наприклад: зламався парсинг CLI.[2][3]\nxvkbd | xvkbdAUR | xvkbd(1) | Так | Ні | Віртуальна клавіатура для Xorg, також має параметр -text для надсилання символів.\nAutoKey | autokey-qtAUR autokey-gtkAUR | документація | Так | Так | Високорівнева, потужна утиліта для написання макросів і сценаріїв, з інтерфейсами Qt і Gtk.\n\nДивіться також Clipboard#Tools та огляд інструментів автоматизації X.\n\n"
    },
    {
      "title": "Вкладені X сесії",
      "level": 3,
      "content": "Для запуску вкладеного сеансу іншого середовища робочого столу:\n\n```\n$ /usr/bin/Xnest :1 -geometry 1024x768+0+0 -ac -name Windowmaker & wmaker -display :1\n```\n\nЦе запустить сеанс Window Maker у вікні 1024 на 768 у вашому поточному X сеансі.\n\nДля цього потрібно встановити пакунок xorg-server-xnest.\n\nБільш сучасним способом створення вкладеного сеансу X є використання Xephyr.\n\n"
    },
    {
      "title": "Запуск програми без віконного менеджера",
      "level": 3,
      "content": "Дивіться xinit#Starting applications without a window manager.\n\n"
    },
    {
      "title": "Віддалений запуск програм з GUI",
      "level": 3,
      "content": "Див. статтю: OpenSSH#X11 forwarding.\n\n"
    },
    {
      "title": "Вимикання та увімкнення пристроїв введення на вимогу",
      "level": 3,
      "content": "За допомогою xinput ви можете тимчасово вимкнути або ввімкнути пристрої введення. Це може бути корисним, наприклад, у системах, які мають більше однієї миші, наприклад ThinkPad, і ви бажаєте використовувати лише одну, щоб уникнути небажаних кліків мишею.\n\nВстановіть пакунок xorg-xinput.\n\nЗнайдіть ім'я або ID пристрою що ви хочете відключити:\n\n```\n$ xinput\n```\n\nНаприклад для Lenovo ThinkPad T500, вивід інформації такий:\n\n```\n$ xinput\n```\n\n```\n⎡ Virtual core pointer                          id=2    [master pointer  (3)]\n⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]\n⎜   ↳ TPPS/2 IBM TrackPoint                     id=11   [slave  pointer  (2)]\n⎜   ↳ SynPS/2 Synaptics TouchPad                id=10   [slave  pointer  (2)]\n⎣ Virtual core keyboard                         id=3    [master keyboard (2)]\n    ↳ Virtual core XTEST keyboard               id=5    [slave  keyboard (3)]\n    ↳ Power Button                              id=6    [slave  keyboard (3)]\n    ↳ Video Bus                                 id=7    [slave  keyboard (3)]\n    ↳ Sleep Button                              id=8    [slave  keyboard (3)]\n    ↳ AT Translated Set 2 keyboard              id=9    [slave  keyboard (3)]\n    ↳ ThinkPad Extra Buttons                    id=12   [slave  keyboard (3)]\n```\n\nВідключити цей пристрій можна командою xinput --disable пристрій, де пристрій це ID пристрою або ім'я пристрою, який ви хочете відключити. У цьому прикладі ми відключимо Synaptics Touchpad з ID 10:\n\n```\n$ xinput --disable 10\n```\n\nЩоби включити знов цей пристрій, просто виконайте команду:\n\n```\n$ xinput --enable 10\n```\n\nАльтернатива - використовуємо ім'я пристрою, ця команда його відключить:\n\n```\n$ xinput --disable \"SynPS/2 Synaptics TouchPad\"\n```\n\n"
    },
    {
      "title": "Постійне вимкнення джерела вхідного сигналу",
      "level": 3,
      "content": "Ви можете вимкнути певне джерело вхідного сигналу за допомогою фрагмента конфігурації:\n\n```\n/etc/X11/xorg.conf.d/30-disable-device.conf\n```\n\n```\nSection \"InputClass\"\n       Identifier   \"disable-device\"\n       Driver       \"назва_драйверу\"\n       MatchProduct \"назва_пристрою\"\n       Option       \"Ignore\" \"True\"\nEndSection\n```\n\ndevice - довільна назва, а назва_драйверу - назва драйвера вводу, наприклад libinput. назва_пристрою - це те, що фактично використовується для зіставлення з відповідним пристроєм. Щодо альтернативних методів визначення правильного пристрою, таких як MatchIsTouchscreen у libinput, зверніться до документації до вашого драйвера вводу. Хоча у цьому прикладі використано libinput, це метод діагностики драйвера, який просто запобігає передачі пристрою до драйвера.\n\n"
    },
    {
      "title": "Закриття додатку гарячою клавішею",
      "level": 3,
      "content": "Запустіть скрипт для гарячої клавіші:\n\n```\n#!/bin/sh\nwindowFocus=$(xdotool getwindowfocus);\npid=$(xprop -id \"$windowFocus\" | grep PID);\nkill -9 \"$pid\"\n```\n\nПотрібні пакунки: xorg-xprop, xdotool\n\nДивіться також #Візуальне закриття програми.\n\n"
    },
    {
      "title": "Блокування доступу до TTY",
      "level": 3,
      "content": "Щоб заблокувати доступ до tty в X, до xorg.conf додати наступне:\n\n```\nSection \"ServerFlags\"\n    Option \"DontVTSwitch\" \"True\"\nEndSection\n```\n\nЦе може бути використано для обмеження доступу до командного рядка в системі, доступної недовіреним користувачам.\n\n"
    },
    {
      "title": "Запобігання закриттю X-сервера користувачем",
      "level": 3,
      "content": "Щоб запобігти втручанню користувача в роботу X-сервера, додайте наступне до xorg.conf:\n\n```\nSection \"ServerFlags\"\n    Option \"DontZap\"      \"True\"\nEndSection\n```\n\n"
    },
    {
      "title": "Візуальне закриття програми",
      "level": 3,
      "content": "Якщо програма поводиться неправильно або застрягла, замість використання kill або killall з термінала і пошуку ідентифікатора або назви процесу, xorg-xkill дозволяє клацнути на цій програмі, щоб закрити її з'єднання з X-сервером. Багато наявних програм справді завершують роботу після закриття з'єднання з X-сервером, але деякі з них можуть продовжити роботу.\n\n"
    },
    {
      "title": "Xorg без прав користувача",
      "level": 3,
      "content": "Xorg може запускатися зі стандартними правами користувача замість root (так званий \"без прав користувача\" Xorg). Це є значним покращенням безпеки у порівнянні із запуском від імені користувача root. Зауважте, що деякі популярні менеджери дисплеїв не підтримують Xorg без прав користувача (наприклад, LightDM або XDM).\n\nВи можете перевірити, від імені якого користувача запущено Xorg за допомогою ps -o user= -C Xorg.\n\nДивіться також Xorg.wrap(1), systemd-logind(8), Systemd/User#Xorg as a systemd user service, Fedora:Changes/XorgWithoutRootRights та FS#41257.\n\n"
    },
    {
      "title": "Використання xinitrc",
      "level": 4,
      "content": "Налаштування безправного Xorg за допомогою xinitrc:\n\n- Запустіть startx як підпроцес оболонки входу до системи; запускайте startx безпосередньо і не використовуйте exec startx.\n- Переконайтеся, що Xorg використовує віртуальний термінал, для якого було надано дозволи, тобто передано логіном у $XDG_VTNR через .xserverrc.\n- У разі використання певних пропрієтарних драйверів дисплея, налаштування режиму ядра auto-detection не спрацює. У таких випадках вам слід встановити needs_root_rights = no у /etc/X11/Xwrapper.config.\n\n"
    },
    {
      "title": "Використання GDM",
      "level": 4,
      "content": "За замовчуванням GDM запускатиме Xorg без привілеїв користувача root, якщо використано налаштування режиму ядра.\n\n"
    },
    {
      "title": "Перенаправлення журналу сеансу",
      "level": 4,
      "content": "Коли Xorg запущено у режимі без прав користувача, журнали Xorg зберігаються у ~/.local/share/xorg/Xorg.log. Втім, виведення stdout і stderr з сеансу Xorg не перенаправляється до цього журналу. Щоб увімкнути перенаправлення, запустіть Xorg з прапором -keeptty і перенаправте виведення stdout і stderr до файла:\n\n```\nstartx -- -keeptty >~/.xorg.log 2>&1\n```\n\nКрім того, скопіюйте /etc/X11/xinit/xserverrc до ~/.xserverrc і додайте -keeptty. Зверніться до [4].\n\n"
    },
    {
      "title": "Xorg як Root",
      "level": 3,
      "content": "Як пояснювалося вище, існують обставини, за яких за замовчуванням використовується Xorg без прав користувача. Якщо у вашій конфігурації це так, і вам потрібно запустити Xorg від імені користувача root, ви можете налаштувати Xorg.wrap(1) так, щоб він вимагав права користувача root:\n\n```\n/etc/X11/Xwrapper.config\n```\n\n```\nneeds_root_rights = yes\n```\n\n"
    },
    {
      "title": "Загальне",
      "level": 3,
      "content": "Якщо виникла проблема, перегляньте журнал, який зберігається у /var/log/ або, за замовчуванням, у ~/.local/share/xorg/ для безкореневого X починаючи з версії 1.16. Користувачам GDM слід перевірити systemd journal. [5]\n\nФайли журналів мають вигляд Xorg.n.log де n номер дисплею. Для однокористувацького комп'ютера зі стандартною конфігурацією типовим журналом часто є Xorg.0.log, але в інших випадках він може відрізнятися. Щоб переконатися, що вибрано правильний файл, можна подивитися на мітку часу початку сеансу X-сервера і на те, з якої консолі його було запущено. Наприклад:\n\n```\n$ grep -e Log -e tty Xorg.0.log\n```\n\n```\n[    40.623] (==) Log file: \"/home/archuser/.local/share/xorg/Xorg.0.log\", Time: Thu Aug 28 12:36:44 2014\n[    40.704] (--) controlling tty is VT number 1, auto-enabling KeepTty\n```\n\n```\n$ tail -f ~/.local/share/xorg/Xorg.0.log | ts\n```\n\n- У файлі журналу слідкуйте за рядками, що починаються з (EE), які позначають помилки, а також (WW), які є попередженнями, що можуть вказувати на інші проблеми.\n- Якщо у вашому каталозі $HOME є \"порожній\" файл .xinitrc, видаліть або відредагуйте його, щоб X міг запуститися належним чином. Якщо ви цього не зробите, X покаже порожній екран, а у вашому Xorg.0.log не буде жодних помилок. Просто видаливши його, X буде запущено у типовому середовищі X.\n- Якщо екран стає чорним, ви можете спробувати переключитися на іншу віртуальну консоль (наприклад, Ctrl+Alt+F6) та увійти до системи від імені користувача root. Це можна зробити, ввівши root (після введення натисніть Enter) і введіть пароль користувача root (знову ж таки, натисніть Enter після введення).\n\n```\n# pkill -x X\n```\n\n```\n# reboot\n```\n\n- Перевірте окремі сторінки у Category:Input devices, якщо у вас виникли проблеми з клавіатурою, мишею, тачпадом тощо.\n- Шукайте типові проблеми у статтях про AMDGPU, Intel та NVIDIA.\n\n"
    },
    {
      "title": "Чорний екран, Не вказано протокол, Ресурс тимчасово недоступний для всіх або деяких користувачів",
      "level": 3,
      "content": "X створює конфігураційні та тимчасові файли у домашньому каталозі поточного користувача. Переконайтеся, що на розділі, у якому знаходиться ваш домашній каталог, є вільне місце на диску. На жаль, сервер X не надає більш очевидної інформації про нестачу місця на диску у цьому випадку.\n\n"
    },
    {
      "title": "DRI з картами Matrox перестала працювати",
      "level": 3,
      "content": "Якщо ви використовуєте карту Matrox і DRI перестав працювати після оновлення до Xorg, спробуйте додати цей рядок:\n\n```\nOption \"OldDmaInit\" \"On\"\n```\n\nдо секції Device, яка посилається на відеокарту у xorg.conf.\n\n"
    },
    {
      "title": "Проблеми з кадрово-буферним режимом",
      "level": 3,
      "content": "X не запускається з наступними повідомленнями журналу:\n\n```\n(WW) Falling back to old probe method for fbdev\n(II) Loading sub module \"fbdevhw\"\n(II) LoadModule: \"fbdevhw\"\n(II) Loading /usr/lib/xorg/modules/linux//libfbdevhw.so\n(II) Module fbdevhw: vendor=\"X.Org Foundation\"\n       compiled for 1.6.1, module version=0.0.2\n       ABI class: X.Org Video Driver, version 5.0\n(II) FBDEV(1): using default device\n\nFatal server error:\nCannot run in framebuffer mode. Please specify busIDs for all framebuffer devices\n```\n\nДля виправлення видаліть пакет xf86-video-fbdev.\n\n"
    },
    {
      "title": "Програмні запити \"font '(null)'\"",
      "level": 3,
      "content": "Повідомлення про помилку: unable to load font `(null)'.\n\nДеякі програми працюють лише з растровими шрифтами. Доступно два основні пакунки з растровими шрифтами: xorg-fonts-75dpi і xorg-fonts-100dpi. Вам не потрібні обидва шрифти; одного з них має бути достатньо. Щоб дізнатися, який з них буде кращим у вашому випадку, спробуйте отримати xdpyinfo з xorg-xdpyinfo, наприклад, так:\n\n```\n$ xdpyinfo | grep resolution\n```\n\nі скористайтеся тим, що ближче до показаного значення.\n\n"
    },
    {
      "title": "Відновлення: вимкнення Xorg перед входом у GUI (графічний інтерфейс)",
      "level": 3,
      "content": "Якщо Xorg налаштовано на автоматичне завантаження і з якихось причин вам потрібно запобігти його запуску до появи входу/менеджера дисплея (наприклад, якщо систему налаштовано неправильно і Xorg не розпізнає введення за допомогою миші або клавіатури), ви можете виконати це завдання двома способами.\n\n- Змініть default target на rescue.target. Див. systemd#Change default target to boot into.\n- Якщо у вас не лише несправна система, через яку Xorg не працює, але й встановлено нульовий час очікування у меню GRUB, або ви не можете іншим чином використати GRUB для запобігання завантаженню Xorg, ви можете скористатися Arch Linux live CD. Дотримуйтеся вказівок інструкції з встановлення щодо монтування та входження до встановленого Arch Linux. Також спробуйте переключитися на інший tty за допомогою комбінації Ctrl+Alt + функціональна клавіша (зазвичай від F1 до F7, залежно від того, яка з них не використовується у X), увійдіть від імені користувача root і виконайте наведені нижче кроки.\n\nЗалежно від налаштувань, вам потрібно буде виконати один або декілька з цих кроків:\n\n- Вимкнути менеджер дисплеїв.\n- Вимкнути автоматичний запуск Х.\n- Перейменуйте файл ~/.xinitrc або закоментуйте рядок exec у ньому.\n\n"
    },
    {
      "title": "X-клієнти, що починаються з \"su\", не працюють",
      "level": 3,
      "content": "Якщо ви отримуєте Client is not authorized to connect to server, спробуйте додати рядок:\n\n```\nsession        optional        pam_xauth.so\n```\n\nдо /etc/pam.d/su та /etc/pam.d/su-l. Тоді pam_xauth правильно встановить змінні середовища і оброблятиме xauth ключі.\n\n"
    },
    {
      "title": "X не вдалося запустити: Не вдалося ініціалізувати клавіатуру",
      "level": 3,
      "content": "Якщо файлову систему (зокрема /tmp) переповнено, startx не вдасться виконати. Файл журналу буде виведено:\n\n```\n(EE) Error compiling keymap (server-0)\n(EE) XKB: Could not compile keymap\n(EE) XKB: Failed to load keymap. Loading default keymap instead.\n(EE) Error compiling keymap (server-0)\n(EE) XKB: Could not compile keymap\nXKB: Failed to compile keymap\nKeyboard initialization failed. This could be a missing or incorrect setup of xkeyboard-config.\nFatal server error:\nFailed to activate core devices.\n...\n```\n\nЗвільніть місце на відповідній файловій системі й X запуститься.\n\n"
    },
    {
      "title": "Зелений екран при спробі переглянути відео",
      "level": 3,
      "content": "Неправильно встановлено глибину кольору. Наприклад, вона має бути 24 замість 16.\n\n"
    },
    {
      "title": "Помилка SocketCreateListener",
      "level": 3,
      "content": "Якщо X завершує роботу з повідомленням про помилку SocketCreateListener() failed, можливо, вам слід видалити файли сокетів у /tmp/.X11-unix. Це може статися, якщо ви раніше запускали Xorg від імені користувача root (наприклад, для створення xorg.conf).\n\n"
    },
    {
      "title": "Недійсний ключ MIT-MAGIC-COOKIE-1 під час спроби запустити програму від користувача root",
      "level": 3,
      "content": "Ця помилка означає, що лише поточний користувач має доступ до X-сервера. Рішення - надати доступ root:\n\n```\n$ xhost +si:localuser:root\n```\n\nЦей рядок також може бути використано для надання доступу до X іншому користувачеві, окрім root.\n\n"
    },
    {
      "title": "Xorg-сервер фатальна помилка сервера: (EE) AddScreen/ScreenInit",
      "level": 3,
      "content": "Якщо сервер Xorg не працює випадковим чином і в журналі Xorg ви бачите:\n\n```\nsystemd-logind: failed to take device /dev/dri/card0: Operation not permitted\n...\nAddScreen/ScreenInit failed for driver 0\n```\n\nТоді цю проблему може спричинити проблема 13943 у systemd. Налаштуйте ранній запуск KMS.\n\n"
    },
    {
      "title": "Дивіться також",
      "level": 2,
      "content": "- Xplain - поглиблене пояснення системи X Window System\n- Xorg(1)\n- Підготовка до іспиту LPIC-1 2 - тема 106.1: X11 - коротко описує архітектуру, #Конфігурація, оточення робочого столу, віддалене використання, Wayland.\n- xorg.conf(5)\n- Gentoo:Xorg/Guide#Configuration\n\n"
    }
  ]
}