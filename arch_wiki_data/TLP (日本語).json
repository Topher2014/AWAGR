{
  "title": "TLP (日本語)",
  "url": "https://wiki.archlinux.org/title/TLP_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- ノートパソコン\n- Laptop Mode Tools\n\nプロジェクトページ より:\n\nTLPでは、ファンスピード制御やバックライトなど、いくつかの設定をプロジェクトから意図的に除外しています。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール 1.1 Radio Device Wizard (tlp-rdw) 1.2 フロントエンド 1.3 ThinkPad 1.3.1 Sandy Bridge 前（2010年まで）\n- 2 設定 2.1 USB 自動サスペンド 2.2 バッテリー(BAT)設定を強制する 2.3 Bumblebee と NVIDIA ドライバー 2.4 AC での PCI(e) ランタイム電源管理 2.5 コマンドライン\n- 3 デバッグ\n- 4 hci0: link tx timeout\n- 5 除外されている機能\n- 6 参照\n\n- 1.1 Radio Device Wizard (tlp-rdw)\n- 1.2 フロントエンド\n- 1.3 ThinkPad 1.3.1 Sandy Bridge 前（2010年まで）\n\n- 1.3.1 Sandy Bridge 前（2010年まで）\n\n- 2.1 USB 自動サスペンド\n- 2.2 バッテリー(BAT)設定を強制する\n- 2.3 Bumblebee と NVIDIA ドライバー\n- 2.4 AC での PCI(e) ランタイム電源管理\n- 2.5 コマンドライン\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "tlp パッケージをインストールして起動・有効化してください。任意の依存パッケージをインストールすれば省電力機能がさらに追加されます。\n\n"
    },
    {
      "title": "Radio Device Wizard (tlp-rdw)",
      "level": 3,
      "content": "tlp-rdw を使うには NetworkManager が必要です。NetworkManager-dispatcher.service を有効化してください。\n\nまた、TLP の無線デバイスの切り替えオプションが適切に動作するように systemd サービスの systemd-rfkill.service とソケット systemd-rfkill.socket をマスクしてください。\n\n詳細は、TLP configuration を参照してください。\n\n"
    },
    {
      "title": "フロントエンド",
      "level": 3,
      "content": "- tlpui-gitAUR Python で書かれた TLP の GTK ユーザーインターフェイスです。\n- slimbookbatteryAUR は AMD や NVIDIA のような追加ドライバで動作する別の GTK インターフェースです。\n\n"
    },
    {
      "title": "ThinkPad",
      "level": 3,
      "content": "root 権限なしで D-Bus を使用して充電しきい値を制御するには、threshyAUR とそのサンプル Qt ユーザーインターフェイス threshy-guiAUR を使用します。\n\n"
    },
    {
      "title": "Sandy Bridge 前（2010年まで）",
      "level": 4,
      "content": "2011 年モデルより前の ThinkPad の場合、tp_smapi カーネルモジュールが必要です。カーネル固有のインストール手順については、tp_smapi#インストール を参照してください。\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "設定ファイルは /etc/default/tlp にあり、デフォルトで、ほぼ全ての分野を最適化して消費電力を抑えます。オプションの説明の完全なリスト: TLP configuration。\n\n"
    },
    {
      "title": "USB 自動サスペンド",
      "level": 3,
      "content": "デフォルトの設定で TLP を起動すると、TLP の自動サスペンド機能により、オーディオ DAC などの一部の USB デバイスが バッテリー駆動時にパワーダウン します。キーボードやスキャナなどの一部のデバイスは、デフォルトで自動サスペンドのブラックリストに登録されています。\n\n以下の設定で USB の自動サスペンドを完全に無効にすることができます。\n\n```\n/etc/tlp.conf\n```\n\n```\n# Do not suspend USB devices\nUSB_AUTOSUSPEND=0\n```\n\nまたは、特定のデバイスを自動サスペンドしないようにブラックリストに登録します。詳しくは TLP documentation on USB devices を参照してください。\n\n"
    },
    {
      "title": "バッテリー(BAT)設定を強制する",
      "level": 3,
      "content": "電源が検出されない場合、デスクトップや組み込みハードウェアなどのデバイスではACの設定が使用されます。\n\nこれらのデバイスで TLP を使用する場合、バッテリー(BAT)設定を強制して、より省電力を図ることができます:\n\n```\n/etc/tlp.conf\n```\n\n```\n# Operation mode when no power supply can be detected: AC, BAT.\nTLP_DEFAULT_MODE=BAT\n\n# Operation mode select: 0=depend on power source, 1=always use TLP_DEFAULT_MODE\nTLP_PERSISTENT_DEFAULT=1\n```\n\n"
    },
    {
      "title": "Bumblebee と NVIDIA ドライバー",
      "level": 3,
      "content": "Bumblebee で NVIDIA ドライバーを使用している場合、Bumblebee で GPU の電源供給を制御できるようにするため TLP で GPU の電源管理を無効化する必要があります。\n\nlspci を実行して GPU のアドレスを確認してから (例: 01:00.0)、以下のように値を設定してください:\n\n```\nRUNTIME_PM_BLACKLIST=\"01:00.0\"\n```\n\n"
    },
    {
      "title": "AC での PCI(e) ランタイム電源管理",
      "level": 3,
      "content": "AC で PCI(e)バスデバイスの Runtime Power Management を有効にすると、一部のラップトップの省電力が向上する場合があります。 これは、バッテリーではデフォルトで有効になっていますが、ACでは有効になっていません。 AC で有効にするには、次のように設定します。\n\n```\n/etc/tlp.conf\n```\n\n```\nRUNTIME_PM_ON_AC = auto\n```\n\n"
    },
    {
      "title": "コマンドライン",
      "level": 3,
      "content": "TLP はコマンドラインツールを提供しています。TLP commands を参照してください。\n\n"
    },
    {
      "title": "デバッグ",
      "level": 2,
      "content": "現在使用しているモード(AC/BAT)についてと設定を表示できます:\n\n```\n# tlp-stat\n```\n\n"
    },
    {
      "title": "hci0: link tx timeout",
      "level": 2,
      "content": "Bluetoothヘッドホンが突然動作を停止し、dmesg にこのようなエラーが表示される場合は、TLPがデバイスを一時停止していることが原因である可能性があります。次のような /etc/tlp.d/10-disable-autosuspend.conf ファイルを作成し、配置します:\n\n```\n# Disable bluetooth autosuspend\nAUTOSUSPEND_RUNTIME_DEVID_WHITELIST=\"8087:0aaa\"\n```\n\nBluetooth デバイスのデバイスIDは lsusb -v によって取得します。TLP と Bluetooth サービスを再起動します。\n\n"
    },
    {
      "title": "除外されている機能",
      "level": 2,
      "content": "- ファン制御についてはファンスピード制御や Thinkpad Fan Control を参照。\n\n- バックライトの輝度についてはバックライトを参照。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- TLP - Linux Advanced Power Management - プロジェクトのホームページとドキュメント。\n- Project FAQ - Project FAQ\n\n"
    }
  ]
}