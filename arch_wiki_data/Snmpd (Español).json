{
  "title": "Snmpd (Español)",
  "url": "https://wiki.archlinux.org/title/Snmpd_(Espa%C3%B1ol)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **2020-12-07** \n\nSNMP es una herramienta diseñada para la gestión y monitorización de dispositivos de red. El paquete Net-SNMP es una implementación de SNMP que está disponible para Arch Linux. Este artículo analiza la configuración y las pruebas del demonio snmpd que se incluye con el paquete net-snmp de Arch.\n\n"
    },
    {
      "title": "Instalación",
      "level": 2,
      "content": "Hay un solo paquete para net-snmp en Arch Linux que contiene tanto el demonio snmpd como las utilidades que lo acompañan.\n\nInstale el paquete net-snmp.\n\n"
    },
    {
      "title": "Configuración",
      "level": 2,
      "content": "Tenga en cuenta que si se modifica /var/net-snmp/snmpd.conf mientras snmpd se está ejecutando, los cambios se perderán cuando se reinicie el demonio. Por lo tanto, es crucial que el servicio snmpd se detenga mientras se edita el archivo de configuración.\n\n"
    },
    {
      "title": "Demonio",
      "level": 3,
      "content": "Active snmpd.service.\n\n"
    },
    {
      "title": "SNMP 1 y 2c",
      "level": 3,
      "content": "Hay tres versiones de SNMP que son compatibles con net-snmp: 1, 2c y 3. Las versiones 1 y 2c comienzan con la misma configuración básica, utilizando /etc/snmp/snmpd.conf.\n\n```\nmkdir /etc/snmp/\necho rocommunity cadena_comunidad_solo_lectura >> /etc/snmp/snmpd.conf\n```\n\nLas órdenes anteriores añadirán una cadena de comunidad que se puede utilizar para monitorear. Opcionalmente, puede añadir otra cadena de comunidad utilizada para la administración. Esto no se recomienda a menos que tenga una razón específica para hacerlo.\n\n```\necho rwcommunity cadena_comunidad_lectura_escritura >> /etc/snmp/snmpd.conf\n```\n\n"
    },
    {
      "title": "SNMP 3",
      "level": 3,
      "content": "SNMP v3 añade seguridad y autenticación/comunicación cifradas. Utiliza un esquema de configuración diferente en /etc/snmp/snmpd.conf y configuración adicional en /var/net-snmp/snmpd.conf.\n\n```\nmkdir /etc/snmp/\necho rouser usuario_solo_lectura >> /etc/snmp/snmpd.conf\n# o utilice el asistente $ snmpconf -g basic_setup\n```\n\n```\nmkdir -p /var/net-snmp/\necho createUser usuario_solo_lectura SHA contraseña1 AES contraseña2 > /var/net-snmp/snmpd.conf\n# o utilice la herramienta # net-snmp-create-v3-user -ro -a SHA -x AES\n```\n\nTenga en cuenta que una vez que se reinicie snmpd, se reescribirá /var/net-snmp/snmpd.conf y se cifrarán las contraseñas de texto sin cifrar que haya introducido.\n\n"
    },
    {
      "title": "Iniciar el demonio",
      "level": 3,
      "content": "Después de configurar el demonio, inícielo:\n\n```\nsystemctl start snmpd\n```\n\n"
    },
    {
      "title": "Pruebas",
      "level": 2,
      "content": "Si emplea SNMP 1 o 2c, utilice uno de las siguientes órdenes para probar la configuración:\n\n```\n# snmpwalk -v 1 -c cadena_comunidad_solo_lectura localhost | less\n# snmpwalk -v 2c -c cadena_comunidad_solo_lectura localhost | less\n```\n\nSi emplea SNMP 3, utilice la siguiente orden para probar la configuración:\n\n```\n# snmpwalk -v 3 -u usuario_solo_lectura -a SHA -A contraseña1 -x AES -X contraseña2 -l authNoPriv localhost | less\n```\n\nDe cualquier manera, debería ver varias líneas de datos con un aspecto similar a:\n\n```\nSNMPv2-MIB::sysDescr.0 = STRING: Linux myhost 2.6.37-ARCH #1 SMP PREEMPT Sat Jan 29 20:00:33 CET 2011 x86_64\nSNMPv2-MIB::sysObjectID.0 = OID: ccitt.1\nDISMAN-EVENT-MIB::sysUpTimeInstance = Timeticks: (307772) 0:51:17.72\nSNMPv2-MIB::sysContact.0 = STRING: root@localhost\nSNMPv2-MIB::sysName.0 = STRING: myhost\n...SNIP...\n```\n\n"
    }
  ]
}