{
  "title": "Sxiv (Suomi)",
  "url": "https://wiki.archlinux.org/title/Sxiv_(Suomi)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Aiheeseen liittyen\n\n- feh\n\nsxiv, (Simple X Image Viewer) on kevyt ja helposti skriptattava kuvan katseluohjelma, joka on kirjoitettu C-ohjelmointikielellä.\n\n"
    },
    {
      "title": "Asennus",
      "level": 2,
      "content": "Asenna sxiv paketti, tai sxiv-gitAUR, jos haluat asentaa kehitysversion.\n\n"
    },
    {
      "title": "Näppäinkomentojen asettaminen",
      "level": 3,
      "content": "sxiv tukee ulkoisia näppäin tapahtumia. Paina ensin Ctrl-x lähettääksesi seuraavan näppäinyhdistelmän ulkoiseen näppäinhallitsijaan. Ulkoinen näppäinten hallitsija tarvitsee suoritettavan tiedoston ~/.config/sxiv/exec/key-handler ja vie näppäinyhdiselmän argumenttina niin kuin myös sillä hetkellä merkityt kuvatiedostot stdin:iin (tai, jos mitään ei ole merkittynä, sillä hetkellä valittuna olleen kuvan). sxiv:in asennuksen mukana tulee yksi esimerkki: /usr/share/sxiv/exec/key-handler. Esimerkin avulla pääsee hyvin alkuun oikopolkujen muokkaamisessa.\n\n```\n$ mkdir -p ~/.config/sxiv/exec/\n $ cp /usr/share/sxiv/exec/key-handler ~/.config/sxiv/exec/key-handler\n```\n\nMuista merkitä skripti suoritettavaksi.\n\n```\n$ chmod +x ~/.config/sxiv/exec/key-handler\n```\n\nSeuraavassa esimerkissä lisätään yhdistelmä Ctrl+d suorittamaan komento mv tiedostonimi ~/.trash, Ctrl+c kopioimaan sen hetkisten kuvien nimet leikepöydälle xclip paketin avulla ja Ctrl+w asettamaan työpöydän kuva nitrogen ohjelman avulla. Tietenkin, joissain komennoissa on järkeä vain silloin kun yksi kuva on argumentoitu, joten on järkevää muuttaa näitä suorittamaan silloinkin kun useampi tiedosto annetaan argumenttina.\n\n```\n~/.config/sxiv/exec/key-handler\n```\n\n```\n#!/bin/sh\nwhile read file\ndo\n        case \"$1\" in\n        \"C-d\")\n                mv \"$file\" ~/.trash ;;\n        \"C-r\")\n                convert -rotate 90 \"$file\" \"$file\" ;;\n        \"C-c\")\n                echo -n \"$file\" | xclip -selection clipboard ;;\n        \"C-w\")\n                nitrogen --save --set-zoom-fill \"$file\" ;;\n        esac\ndone\n```\n\nLuo .trash kansio jos se ei ole vielä olemassa:\n\n```\n$ mkdir ~/.trash\n```\n\n"
    },
    {
      "title": "Selaile kuvia polussa avattuasi yhden kuvan",
      "level": 3,
      "content": "sxivn kehittäjältä pyydettiin muutamaan kertaan, että tällä ohjelmalla pystyisi selailemaan kuvia polussa, josta argumenttina annettu tiedosto on (katso [1] ja [2]). On olemassa joitain muunnoksia joihin kyseinen ominaisuus on tehty: doronbeharin, qsmodonin ja sammothin.\n\nVaihtoehtoisesti voidaan käyttää virallista versiota sxivstä ja laitetaan tämä skripti /usr/local/bin ja kutsutaan sitä näin:\n\n```\n$ skripti yksi_kuva.jpg\n```\n\nKuten se on ilmistu skriptin kommenteissa, sitä voidaan käyttää tuomaan sama toiminnallisuus kun kuva avataan rangerista.\n\nTämä skripti [3] käynnistää sxiv esikatselukuva tilassa jos ja vain jos annettu tiedosto argumetti on kansio:\n\n```\n~/bin/sxiv.sh\n```\n\n```\n#!/bin/sh\n\n    if command -v sxiv >/dev/null 2>&1; then\n      if [ -d \"${@: -1}\" ] || [ -h \"${@: -1}\" ]; then\n        sxiv -t \"$@\"\n      else\n        sxiv    \"$@\"\n      fi\n    elif command -v feh >/dev/null 2>&1; then\n      feh \"$@\"\n    else\n      echo \"Please install SXIV or FEH!\"\n    fi\n```\n\n"
    },
    {
      "title": "Kuvan koon näyttäminen tilapalkissa",
      "level": 3,
      "content": "Aseta seuraava suoritettava skripti ~/.config/sxiv/exec/image-info ja varmista että exiv2 paketti on asennettu:\n\n```\n~/.config/sxiv/exec/image-info\n```\n\n```\n#!/bin/sh\n\n# Example for ~/.config/sxiv/exec/image-info\n# Called by sxiv(1) whenever an image gets loaded,\n# with the name of the image file as its first argument.\n# The output is displayed in sxiv's status bar.\n\ns=\" | \" # field separator\n\nfilename=$(basename \"$1\")\nfilesize=$(du -Hh \"$1\" | cut -f 1)\n\n# The '[0]' stands for the first frame of a multi-frame file, e.g. gif.\ngeometry=$(identify -format '%wx%h' \"$1[0]\")\n\ntags=$(exiv2 -q pr -pi \"$1\" | awk '$1~\"Keywords\" { printf(\"%s,\", $4); }')\ntags=${tags%,}\n\necho \"${filesize}${s}${geometry}${tags:+$s}${tags}${s}${filename}\"\n```\n\n"
    },
    {
      "title": "Katso myös",
      "level": 2,
      "content": "- Arch Linux foorumikeskustelu aiheesta.\n- Sxiv näppäinasetelmaan bépo (näppäinasetelma Dvorakin nimeen ranskankielen puhujille) : Sxiv bépo.\n\n"
    }
  ]
}