{
  "title": "Logrotate (Polski)",
  "url": "https://wiki.archlinux.org/title/Logrotate_(Polski)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Powiązane artykuły\n\n- Cron\n- systemd/Timers\n\nZ https://github.com/logrotate/logrotate:\n\nDomyślnie, rotacja programu Logrotate przypisuje numer do istniejącego pliku dziennika, a następnie odtworzeniu oryginalnego pustego pliku dziennika. Na przykład, /var/log/syslog.log zostanie zmieniona na /var/log/syslog.log.1, jeśli już istnieje /var/log/syslog.log.1 wtedy jego nazwa zostanie zmieniona na /var/log/syslog.log.2 (Liczbę zaległości do zachowania ożna zmienić w konfiguracji).\n\n"
    },
    {
      "title": "Instalacja",
      "level": 2,
      "content": "Logrotate można zainstalować z pakietem logrotate.\n\nDomyślnie logrotate uruchamia się codziennie za pomocą systemd timer: logrotate.timer.\n\n"
    },
    {
      "title": "Konfiguracja",
      "level": 2,
      "content": "Podstawowym plikiem konfiguracyjnym dla programu logrotate jest /etc/logrotate.conf. Dodatkowe pliki konfiguracyjne specyficzne dla aplikacji znajdują się w /etc/logrotate.d. Wartości ustawione w plikach konfiguracyjnych specyficznych dla aplikacji zastępują te same parametry w podstawowym pliku konfiguracyjnym. Zobacz przykłady konfiguracji i dostępne opcje logrotate(8).\n\nAby sprawdzić, czy logrotate działa poprawnie, uruchom go w trybie debugowania, w tym trybie nie robi nic poza wytwarzaniem danych wyjściowych debugowania:\n\n```\n#logrotate --debug /etc/logrotate.conf\n```\n\nAby przetestować skrypt logrotate (na przykład skrypt /etc/logrotate.d/nginx), spróbuj uruchomić:\n\n```\n#logrotate -f -v /etc/logrotate.d/nginx\n```\n\n"
    },
    {
      "title": "Użycie",
      "level": 2,
      "content": "Logrotate jest zwykle uruchamiany przez systemd: logrotate.service.\n\nAby uruchomić logrotate ręcznie:\n\n```\n#logrotate /etc/logrotate.conf\n```\n\nAby rotować pojedynczy plik dziennika:\n\n```\n#logrotate /etc/logrotate.d/mylog\n```\n\nAby zasymulować uruchomienie pliku konfiguracyjnego (przebieg próbny):\n\n```\n#logrotate --debug /etc/logrotate.d/mylog\n```\n\nAby wymusić rotacje, nawet gdy warunki nie są spełnione, uruchom:\n\n```\n#logrotate -vf /etc/logrotate.d/mylog\n```\n\nAby uzyskać więcej informacji, zobacz logrotate(8).\n\n"
    },
    {
      "title": "dzienniki exim nie są obracane",
      "level": 3,
      "content": "Jeśli ustawiłeś zmienną olddir w /etc/logrotate.conf, otrzymasz komunikat, taki jak:\n\nerror: failed to rename /var/log/exim/mainlog to /var/log/old/mainlog.1: Permission denied\n\nAby to naprawić, dodaj użytkownika exim do grupy log. Następnie zmień grupę olddir w /var/log/old, na log z domyślnego root.\n\n"
    },
    {
      "title": "Sprawdź status logrotate",
      "level": 3,
      "content": "Rotacja Logrotate są zwykle rejestrowane w /var/lib/logrotate.status (opcja -s umożliwia określenie innego pliku stanu):\n\n```\n/var/lib/logrotate.status\n```\n\n```\n\"/var/log/mysql/query.log\" 2016-3-20-5:0:0\n\"/var/log/samba/samba-smbd.log\" 2016-3-21-5:0:0\n\"/var/log/httpd/access_log\" 2016-3-20-5:0:0\n...\n```\n\n"
    },
    {
      "title": "Zobacz też",
      "level": 2,
      "content": "- Logrotate on Gentoo Linux Wiki\n- logrotate(8) manual page\n\n"
    }
  ]
}