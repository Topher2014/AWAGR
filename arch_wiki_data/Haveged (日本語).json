{
  "title": "Haveged (日本語)",
  "url": "https://wiki.archlinux.org/title/Haveged_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- Rng-tools\n\nHaveged プロジェクトは、HAVEGE アルゴリズムに基づいた予測不可能の使いやすい乱数生成器を提供することを目的としたプロジェクトです｡Haveged は主にヘッドレスサーバーなど、Linux の random デバイスを使うにあたってエントロピーが少ない状況を改善するために考案されました。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 利用可能なエントロピーを確認\n- 3 代替\n- 4 仮想マシン\n- 5 参照\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "haveged パッケージをインストールします｡\n\nその後 haveged.service を起動・有効化してください。\n\n"
    },
    {
      "title": "利用可能なエントロピーを確認",
      "level": 2,
      "content": "haveged が必要かどうかわからない（もしくは迷っている）なら、次のコマンドを実行してください:\n\n```\n# cat /proc/sys/kernel/random/entropy_avail\n```\n\nこのコマンドはあなたのサーバがどれくらいエントロピーを確保しているかを出力します｡もし、出力された値が低かった (1000以下) のであれば、haveged をインストールするべきです｡暗号アプリケーションは十分なエントロピーが貯まるまで動きません｡結果として、あなたのサーバーをソフトウェアアクセスポイントとして使っている場合など、wlan の速度が低下するかもしれません｡\n\nインストール後、もう一度コマンドを実行して確認してみてください｡どれくらい haveged があなたのサーバのエントロピープールを加速させたかがお分かりいただけるでしょう｡\n\n"
    },
    {
      "title": "代替",
      "level": 2,
      "content": "コンピュータに搭載されているハードウェア乱数生成器が信頼できないなどの特別な理由がないかぎり、まず先に rng-tools を試して、それで不十分 (あるいはコンピュータにハードウェア乱数生成器が載っていない) なら、Haveged を使うようにしてください。\n\n"
    },
    {
      "title": "仮想マシン",
      "level": 2,
      "content": "Is it appropriate to use haveged as a source of entropy on virtual machines? で議論されているように、haveged は仮想環境で質の高いエントロピーを作れるのかどうか疑問があります。Haveged は rdtsc 命令を使用していますが、仮想マシンでこの命令が仮想化されるとエントロピーが低品質になってしまいます。ハイパーバイザの中には、rdtsc の仮想化を無効化できるものがあり、それであれば理論的には haveged は高品質なエントロピーを供給できます。\n\nVMware ESXi で rdtsc 命令の仮想化を無効化するには、仮想マシンの .vmx 設定ファイルに monitor_control.virtual_rdtsc = \"FALSE\" の設定を追加してください。VMware は仮想マシンでリアルタイムの正確なソースが必要な計測を行う場合にこの設定を使用することを推奨しています [1]。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- http://www.issihosts.com/haveged\n- http://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\n\n"
    }
  ]
}