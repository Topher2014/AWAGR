{
  "title": "Network Security Services (Русский)",
  "url": "https://wiki.archlinux.org/title/Network_Security_Services_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Network Security Services (NSS) — набор библиотек, нацеленный на поддержку разработки кроссплатформенных клиентских и серверных приложений, для которых важна безопасность.\n\nПриложения, встроенные в NSS, поддерживают SSL v2/v3, TLS, PKCS #5/#7/#11/#12, S/MIME, X.509 v3, а также прочие стандарты безопасности.\n\nNSS нужен многим пакетам, в том числе, например, браузерам Chromium и Firefox.\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите пакет nss.\n\n"
    },
    {
      "title": "Использование",
      "level": 2,
      "content": "Для управления сертификатами используйте утилиту certutil, входящую в состав пакета NSS.\n\n"
    },
    {
      "title": "Список сертификатов",
      "level": 3,
      "content": "Показать список установленных сертификатов:\n\n```\n$ certutil -d sql:$HOME/.pki/nssdb -L\n```\n\nПоказать подробную информацию о сертификате:\n\n```\n$ certutil -d sql:$HOME/.pki/nssdb -L -n имя_сертификата\n```\n\n"
    },
    {
      "title": "Создание закрытого ключа RSA",
      "level": 3,
      "content": "```\n$ certutil -G -d каталог_базы_данных -g размер_ключа -n имя\n```\n\n"
    },
    {
      "title": "Создание запроса на выпуск сертификата",
      "level": 3,
      "content": "```\n$ certutil -S -s субъект -n имя -x -t C,C,C -o файл\n```\n\n"
    },
    {
      "title": "Создание самоподписанного сертификата",
      "level": 3,
      "content": "```\n$ certutil -S -s субъект -n имя -x -t C,C,C -o файл\n```\n\n"
    },
    {
      "title": "Импортирование сертификата",
      "level": 3,
      "content": "Для добавления сертификата используйте опцию -A:\n\n```\n$ certutil -d sql:$HOME/.pki/nssdb -A -t \"TRUSTARGS\" -n имя_сертификата -i /путь/к/файлу/сертификата\n```\n\nАргумент TRUSTARGS состоит из трех групп, разделенных запятыми. Каждая группа представляет собой набор букв (флагов), которые определяют доверие сертификата для SSL, электронной почты и подписи объектов, например \"TCu,Cu,Tuw\". Их описание вы можете найти в документации certutil[устаревшая ссылка 2023-05-06 ⓘ] или в этой статье от Meena.\n\nДля добавления персонального сертификата и личного ключа для SSL авторизации используйте:\n\n```\n$ pk12util -d sql:$HOME/.pki/nssdb -i /путь/к/файлу/сертификата/PKCS12.p12\n```\n\nДанная команда импортирует персональный сертификат и личный ключ в файле PKCS #12. Аргумент TRUSTARGS персонального сертификата будет установлен как \"u,u,u\".\n\n"
    },
    {
      "title": "Изменение сертификата",
      "level": 3,
      "content": "Вызовите certutil с опцией -M для редактирования параметров сертификата. Например, для редактирования списка TRUSTARGS:\n\n```\n$ certutil -d sql:$HOME/.pki/nssdb -M -t \"TRUSTARGS\" -n имя_сертификата\n```\n\n"
    },
    {
      "title": "Удаление сертификата",
      "level": 3,
      "content": "Используйте опцию -D для удаления сертификата:\n\n```\n$ certutil -d sql:$HOME/.pki/nssdb -D -n имя_сертификата\n```\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- Network Security Services - Mozilla\n- Using the Certificate Database Tool - Mozilla[устаревшая ссылка 2023-05-06 ⓘ]\n- Managing Certificate Trust flags in NSS Database - Meena Vyas, Oracle\n\n"
    }
  ]
}