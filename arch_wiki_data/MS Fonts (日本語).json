{
  "title": "MS Fonts (日本語)",
  "url": "https://wiki.archlinux.org/title/MS_Fonts_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- メトリック互換フォント\n- フォント\n- フォント設定\n- Java 実行環境のフォント\n\nこの記事では、TrueType の Microsoft フォントをインストールし Windows のフォントレンダリングをエミュレートする方法について説明します。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール 1.1 自動的なインストール 1.2 Windows のパーティションからフォントを使う 1.3 Windows ISO からフォントを抽出する 1.4 現在のパッケージ 1.5 レガシーなパッケージ\n- 2 MS フォントを便利に使う Fontconfig のルール 2.1 類似フォントのルールマッピング 2.2 埋め込みビットマップフォントの無効化\n- 3 既知の問題 3.1 Poppler ベースの PDF リーダーで記号が正しく表示されない\n\n- 1.1 自動的なインストール\n- 1.2 Windows のパーティションからフォントを使う\n- 1.3 Windows ISO からフォントを抽出する\n- 1.4 現在のパッケージ\n- 1.5 レガシーなパッケージ\n\n- 2.1 類似フォントのルールマッピング\n- 2.2 埋め込みビットマップフォントの無効化\n\n- 3.1 Poppler ベースの PDF リーダーで記号が正しく表示されない\n\n"
    },
    {
      "title": "自動的なインストール",
      "level": 3,
      "content": "以下のどれかをインストールことで、MS フォントを簡単にインストールできます:\n\n- ttf-ms-win10-autoAUR — Windows 10 フォント\n- ttf-ms-win11-autoAUR — Windows 11 フォント\n\n"
    },
    {
      "title": "Windows のパーティションからフォントを使う",
      "level": 3,
      "content": "Windows のパーティションがマウントされている場合、Windows のフォントにリンクすることでそのフォントを使用できます。フォントファイルを読むために、システム圧縮ファイルの回避策を適用する必要があるかもしれません。\n\n例えば、Windows の C:\\ パーティションが /windows にマウントされている場合:\n\n```\n# ln -s /windows/Windows/Fonts /usr/local/share/fonts/WindowsFonts\n```\n\nそれから fontconfig のキャッシュの再生成をしてください:\n\n```\n# fc-cache --force\n```\n\nもしくは、Windows フォントを /usr/local/share/fonts/ にコピーします:\n\n```\n# mkdir /usr/local/share/fonts\n# mkdir /usr/local/share/fonts/WindowsFonts\n# cp /windows/Windows/Fonts/* /usr/local/share/fonts/WindowsFonts/\n# chmod 644 /usr/local/share/fonts/WindowsFonts/*\n```\n\nそれから fontconfig のキャッシュの再生成をしてください:\n\n```\n# fc-cache --force\n# fc-cache-32 --force\n```\n\n"
    },
    {
      "title": "Windows ISO からフォントを抽出する",
      "level": 3,
      "content": "Windows の ISO ファイルからフォントを見つけ出すこともできます。ISO の中にあるフォントが含まれているイメージのファイルフォーマットは、ISO がオンラインでダウンロードされている場合は WIM (Windows Imaging Format)、Windows のメディア作成ツールで作成された場合は ESD (Windows Electronic Software Download) のいずれかです。.iso から sources/install.esd または sources/install.wim ファイルを抽出して、ファイルの中にある Windows/Fonts ディレクトリを探してください。7z (p7zip 内) または wimextract (wimlib 内) を使用して抽出できます。7z の使用例は以下を参照:\n\n```\n$ 7z e WinXY_YYMM_English_x64.iso sources/install.wim\n$ 7z e install.wim 1/Windows/{Fonts/\"*\".{ttf,ttc},System32/Licenses/neutral/\"*\"/\"*\"/license.rtf} -ofonts/\n```\n\nフォントとライセンスは fonts ディレクトリの中にあります。\n\n"
    },
    {
      "title": "現在のパッケージ",
      "level": 3,
      "content": "- ttf-office-2007-fontsAUR — Office 2007 フォント\n- ttf-win7-fontsAUR — Windows 7 フォント\n- ttf-ms-win8AUR — Windows 8.1 フォント\n- ttf-ms-win10AUR — Windows 10 フォント\n- ttf-ms-win11AUR — Windows 11 フォント\n\n"
    },
    {
      "title": "レガシーなパッケージ",
      "level": 3,
      "content": "ttf-ms-fontsAUR に含まれるもの:\n\n- Andalé Mono\n- Arial\n- Arial Black\n- Comic Sans\n- Courier New\n- Georgia\n- Impact\n- Lucida Sans\n- Lucida Console\n- Microsoft Sans Serif\n- Times New Roman\n- Trebuchet\n- Verdana\n- Webdings\n\nttf-tahomaAUR を AUR から取得することもでき、ご想像どおり、これらには Tahoma が含まれています。\n\nttf-vista-fontsAUR に含まれるもの:\n\n- Calibri\n- Cambria\n- Candara\n- Consolas\n- Constantia\n- Corbel\n\n"
    },
    {
      "title": "類似フォントのルールマッピング",
      "level": 3,
      "content": "ウェブサイトはよく一般的な名前 (helvetica, courier, times または times new roman) を使ってフォントを指定し、fontconfig にあるルールはこれらのフォントをフリーフォント (Liberation, Google CrOS, GUST TeX Gyre...) に置き換えます。置き換えは /etc/fonts/conf.d/30-metric-aliases.conf に定義されています:\n\nMs Windows フォントをフルに活用するには上述の様々なパッケージに含まれている Ms Windows 固有フォントを一般的な名前にマッピングするルールを作る必要があります:\n\n```\n<?xml version=\"1.0\"?>\n<!DOCTYPE fontconfig SYSTEM \"fonts.dtd\">\n<fontconfig>\n       <alias binding=\"same\">\n         <family>Helvetica</family>\n         <accept>\n         <family>Arial</family>\n         </accept>\n       </alias>\n       <alias binding=\"same\">\n         <family>Times</family>\n         <accept>\n         <family>Times New Roman</family>\n         </accept>\n       </alias>\n       <alias binding=\"same\">\n         <family>Courier</family>\n         <accept>\n         <family>Courier New</family>\n         </accept>\n       </alias>\n</fontconfig>\n```\n\nお気に入りのブラウザで serif,sans-serif,monospace フォントを MS フォントに関連付けるのも有効です。\n\n"
    },
    {
      "title": "埋め込みビットマップフォントの無効化",
      "level": 3,
      "content": "Calibri や Cambria などの一部の Microsoft TTF フォントは、特定のフォント サイズのビットマップ フォントを埋め込んでおり、これらはアンチエイリアス処理されていません。埋め込みビットマップが有効な場合、フォントはそれらの特定のサイズにおいてアンチエイリアスがかかりません。埋め込みビットマップフォントは、フォント設定で無効にすることができます。\n\n```\n<?xml version=\"1.0\"?>\n<!DOCTYPE fontconfig SYSTEM \"fonts.dtd\">\n<fontconfig>\n  <match target=\"font\">\n    <edit name=\"embeddedbitmap\" mode=\"assign\">\n      <bool>false</bool>\n    </edit>\n  </match>\n</fontconfig>\n```\n\n"
    },
    {
      "title": "Poppler ベースの PDF リーダーで記号が正しく表示されない",
      "level": 3,
      "content": "Symbol (Wikipedia:ja:Symbol) 用の TrueType Microsoft フォント は Poppler では不具合が発生しがちです。Poppler ベースの PDF リーダーでは数学記号が正しく表示されない場合があります。\n\n"
    }
  ]
}