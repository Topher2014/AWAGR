{
  "title": "BitTorrent Sync (日本語)",
  "url": "https://wiki.archlinux.org/title/BitTorrent_Sync_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- Syncthing\n- バックアッププログラム\n\nResilio Sync (旧名: BitTorrent Sync (BTSync) は、BitTorrent ピアツーピア (P2P) プロトコルに依存する独自のファイル共有システムです。\n\nすべてのファイルをアーカイブする中央サーバーを持たずに、デバイス自体間のピアツーピア接続を使用するため、データストレージや転送速度に制限はありません。ユーザーのデータは、ユーザーが同期することを選択したデバイスに排他的に保存されるため、オンラインになるには少なくとも 2 つのユーザーデバイス、つまり \"ノード\" が必要です。多くのデバイスが同時に接続されている場合、ファイルはメッシュネットワークトポロジでデバイス間で共有されます。\n\nデバイス間のすべてのトラフィックは、一意のセッションキーを使用して、カウンターモードの AES-128 で暗号化されます。このキーは、それ自体が Base32 でエンコードされたランダムな 21 バイトのキーである 'シークレット' から派生します。'シークレット' を渡すことで、他のユーザーとファイルやフォルダーを共有できるようになります。デバイスが同期用のフォルダーを追加すると、シークレットが生成されます。今後、そのフォルダーを同期したいすべてのデバイスはシークレットキーを知っている必要があります。両方のデバイスに十分なディスク容量がある限り、同期には速度やサイズの制限はありません。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 使用方法\n- 3 設定 3.1 設定ファイルの自動作成\n- 4 トラブルシューティング 4.1 ストレージパスが見つからない 4.2 特定のファイルやフォルダの同期を無視する 4.3 Error while loading shared libraries: libcrypt.so.1\n- 5 参照\n\n- 3.1 設定ファイルの自動作成\n\n- 4.1 ストレージパスが見つからない\n- 4.2 特定のファイルやフォルダの同期を無視する\n- 4.3 Error while loading shared libraries: libcrypt.so.1\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "rslsyncAUR は AUR からインストール可能です。パッケージには rslsync デーモンを管理するための systemd サービスが含まれています。また、デフォルトの /etc/rslsync.conf が作成されます。systemctl を使って起動する前に、ファイルの中のログイン ID やパスワードなど、変更したい箇所を変更しておいてください。\n\nまた、'tar.gz' でパッケージングされた実行可能ファイルが 公式ウェブサイト から取得できます。以下のガイドは AUR から rslsync をインストールしていることを前提にしています。\n\n"
    },
    {
      "title": "使用方法",
      "level": 2,
      "content": "Resilio Sync の Linux クライアントは一般的な GUI を使用せず、代わりに localhost:8888 にアクセスできる WebUI サーバーをセットアップします。共有フォルダーは設定ファイルで静的に構成することもできますが、そうすると WebGUI が無効になります。\n\nインストールしたら、まず ~/.config/rslsync/rslsync.conf に設定ファイルを作成する必要があります。#設定 を参照してください。storage_path ディレクトリも作成する必要があります。それが完了したら、ユーザー サービス rslsync を開始し、(ブート時に開始したい場合は) 起動/有効化 (つまり、--user フラグを使用) を実行します。\n\nサービスは、コマンドを呼び出したユーザーとして実行されます。上記のコマンドは root として実行 されない ことに注意してください。root として実行すると、D-Bus が接続を拒否したことを示す不可解なエラーが発生する可能性があります。\n\n- rslsync をユーザーで実行する場合、rslsync.conf ファイルと rslsync.pid ファイルが存在するディレクトリのパーティションが適切に設定されていることを確認してください。ユーザーがアクセスできない場所にファイルが置かれている場合、サービスの起動に失敗します。ユーザーのパーティションは正しいのに rslsync の起動に失敗する場合、マシンを再起動してください。\n- ヘッドレスサーバーで rslsync を実行する場合、lingering を有効にしてユーザーセッションの外でも rslsync が実行されるようにしてください: Systemd/ユーザー#systemd のユーザーインスタンスを自動起動を見てください。\n\nrslsync.service をシステムユーザー (--user フラグなし) で実行することもできます:\n\nこのユーザーの設定は /etc/rslsync.conf にあり、メタデータはデフォルトで /var/lib/rslsync/ に保存されます。設定、特にユーザーとパスワードを確認する必要があります。以下を参照してください。\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "以下のコマンドでサンプル設定ファイルを作成することができます:\n\n```\n# rslsync --dump-sample-config > ~/.config/rslsync/rslsync.conf\n```\n\n変更するべき設定は以下の通りです:\n\n- device_name\n- storage_path\n- webui/login\n- webui/password\n\n- rslsync は storage_path ディレクトリが存在しない場合でも自動的には作成してくれません。ディレクトリが存在しない場合、手動で作成するか設定ファイルの自動作成を使ってください。\n- storage_path の設定は、メタデータが保存される場所を定義します。同期するファイルではありません。同期するファイルの保存場所は WebGUI でフォルダごとに定義します。\n- 最近のバージョンの rslsync では webui/password_hash が上手く動作しません。代わりに webui/password でファイルを指定してください。\n\n"
    },
    {
      "title": "設定ファイルの自動作成",
      "level": 3,
      "content": "btsync-autoconfigAUR パッケージには systemd のユーザーサービス (btsync-autoconfig.service) が含まれており、有効にすると、ユーザーの btsync.service が起動したときにデフォルト値で設定ファイルを作成します。\n\nインストールスクリプトはデフォルトで全てのユーザーでサービスを有効化します。以下のコマンドで無効化することができます:\n\n```\n# systemctl --global disable btsync-autoconfig.service\n```\n\n以下のコマンドを使うことで特定のユーザで有効化できます:\n\n```\n$ systemctl --user enable btsync-autoconfig.service\n```\n\nbtsync-autoconfig.service は ~/.config/btsync/btsync.conf が存在しない場合、デフォルトで作成しますが、設定のデフォルト値は以下のようになります:\n\n- device_name: $USER@$HOSTNAME\n- storage_path: ~/.btsync\n- webui/login: $USER/password\n\nまた、スクリプトは storage_path ディレクトリも作成します。設定ファイルの作成とは別に行われます。\n\n"
    },
    {
      "title": "ストレージパスが見つからない",
      "level": 3,
      "content": "サービスを起動しても WebUI にアクセスできない場合、systemctl --user status rslsync を実行して rslsync の状態を確認してください (システムインスタンスの場合は systemctl status rslsync を実行)。\n\nよくあるエラーは Storage path specified in config file does not exist. です。mkdir ~/.rslsync を実行するか、storage_path の設定を変更することで簡単に解決できます。\n\n"
    },
    {
      "title": "特定のファイルやフォルダの同期を無視する",
      "level": 3,
      "content": "同期フォルダの特定のファイルを Resilio Sync によって追跡されないようにしたい場合、IgnoreList を使ってください。IgnoreList は隠しフォルダの .sync に入っています。\n\nIgnoreList は UTF-8 でエンコードされた .txt ファイルで、ファイルのパスやルールを記述して同期の対象から外すことができます。IgnoreList ファイルは1行ごとに1つのルールを指定します。無視フィルターにかかったファイルはインデックスの対象外になり Sync のメインビューの \"Size\" カラムにカウントされなくなります。\n\nワイルドカード記号の '?' や '*' を使用することができます。\n\nIgnoreList をフォルダに適用した場合、既に同期されたフォルダ内のファイルに効果はありません。インデックスに含まれたファイルを IgnoreList に追加した場合、他の同期デバイスでファイルが削除されます。削除されないようにしたい場合:\n\n- 全てのデバイスでフォルダを同期から外す。\n- 全てのデバイスの IgnoreList ファイルを編集して同じ情報を記入する。\n- 修正を加えたフォルダを再度追加する。\n\n詳しくは Ignoring files in Sync (IgnoreList) を参照してください。\n\n"
    },
    {
      "title": "Error while loading shared libraries: libcrypt.so.1",
      "level": 3,
      "content": "バイナリまたはサービスとして rslsync を開始する際に、エラーメッセージ error whileloadshared library: libcrypt.so.1 が表示された場合は、パッケージ libxcrypt-compat をインストールしてください。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- Official Resilio Sync Help\n- Official Resilio Sync FAQ\n\n"
    }
  ]
}