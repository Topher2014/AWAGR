{
  "title": "Android tethering (日本語)",
  "url": "https://wiki.archlinux.org/title/Android_tethering_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "テザリングとはスマートフォンのネットワーク接続を使って PC からインターネットにアクセスする手法です。Android 2.2 (Froyo) から USB テザリングと Wi-Fi アクセスポイントテザリングがネイティブでサポートされています。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 Wi-Fi アクセスポイント\n- 2 USB テザリング 2.1 systemd-networkd と udev を使う\n- 3 EasyTether を使って USB テザリング\n- 4 Reverse tethering\n- 5 Bluetooth でテザリング\n- 6 SOCKS プロクシを使ってテザリング 6.1 必要なツール 6.2 手順 6.2.1 Tetherbot 6.2.2 Proxoid\n\n- 2.1 systemd-networkd と udev を使う\n\n- 6.1 必要なツール\n- 6.2 手順 6.2.1 Tetherbot 6.2.2 Proxoid\n\n- 6.2.1 Tetherbot\n- 6.2.2 Proxoid\n\n"
    },
    {
      "title": "Wi-Fi アクセスポイント",
      "level": 2,
      "content": "Android 2.2 \"Froyo\" から (3G/4G モバイルネットワークに接続して) Android スマートフォンを Wi-Fi アクセスポイントとして使うことができるようになっています。\n\n以下の設定で有効にすることができます:\n\n- Settings > Wireless & networks > Internet tethering > Wi-Fi access point\n- Settings > More... > Tethering & mobile hotspot > Mobile Wi-Fi hotspot\n\n"
    },
    {
      "title": "USB テザリング",
      "level": 2,
      "content": "Froyo (Android 2.2) 以降ではネイティブで USB テザリングが可能です。\n\n- USB ケーブルを使ってスマートフォンをコンピュータに接続します (USB 接続モード -- Phone Portal, メモリカードまたは充電のみ -- は重要ではありませんが、テザリング中に USB モードを変更することはできないので注意してください)\n- スマートフォンからテザリングオプションを有効にします。以下の設定で有効にできます: Settings --> Wireless & Networks --> Internet tethering (最近のバージョンでは Tethering & portable hotspot) Settings -> More... -> Tethering & mobile hotspot -> USB tethering\n- ネットワーク設定 に従って設定します。\n\n- Settings --> Wireless & Networks --> Internet tethering (最近のバージョンでは Tethering & portable hotspot)\n- Settings -> More... -> Tethering & mobile hotspot -> USB tethering\n\n- モバイルデータ通信を使用して、かつ次の課金期間に入ったばかりの場合は、課金後にスマートフォンの再起動が必要になることがあります。\n\n"
    },
    {
      "title": "systemd-networkd と udev を使う",
      "level": 4,
      "content": "systemd-networkd を使うことで接続した携帯をゲートウェイとして自動的に使うようにネットワークを設定できます。\n\n```\n/etc/udev/rules.d/90-android-tethering.rules\n```\n\n```\n# Execute pairing program when appropriate\nACTION==\"add|remove\", SUBSYSTEM==\"net\", ATTR{idVendor}==\"18d1\" ENV{ID_USB_DRIVER}==\"rndis_host\", SYMLINK+=\"android\", RUN+=\"/usr/bin/systemctl restart systemd-networkd.service\"\n```\n\nidVendor の値はあなたの使用している携帯に合わせて変更してください。udevadm を使うことで確認できます:\n\n```\n$ udevadm info /sys/class/net/enp0s26u1u2\n```\n\nそして適当な systemd-networkd ファイルを作成:\n\n```\n/etc/systemd/network/50-enp0s26u1u2.network\n```\n\n```\n[Match]\nName=enp0s26u1u2\n\n[Network]\nDHCP=ipv4\n```\n\n"
    },
    {
      "title": "EasyTether を使って USB テザリング",
      "level": 2,
      "content": "Linux の easytether クライアントソフトウェアを入手してください。以下のように設定・実行してください:\n\n```\n# pacman -U easytether-0.8.5-2-x86_64.pkg.tar.xz\n# easytether-usb\n# dhcpcd tap-easytether\n```\n\nEasyTether アンドロイドアプリが携帯電話にインストールされていることを確認してください。注意：Lite アプリは一部の接続を無効にするので、完全な機能を得るには有料アプリが必要です。このため、代わりに AziLink セットアップを使用することをお勧めします。\n\n"
    },
    {
      "title": "Reverse tethering",
      "level": 2,
      "content": "Reverse tethering is to provide internet connection to Android through PC. gnirehtetAUR provides reverse tethering.\n\nConnect your phone to your computer via USB like mentioned above and start:\n\n```\n$ gnirehtet run\n```\n\n"
    },
    {
      "title": "Bluetooth でテザリング",
      "level": 2,
      "content": "Android (4.0 以降。前のバージョンでもできることあり) はアクセスポイントモードの Bluetooth パーソナルエリアネットワーク (PAN) に対応しています。\n\nNetworkManager がこのアクションを実行できネットワークの初期化を処理します。詳しくはドキュメントを見て下さい。\n\nもしくは: Bluetooth の記事の記述に従って、ペアリングをしてコンピュータと Android デバイスを接続できるようにしてから、次を実行 (デバイスのアドレス (AA_BB_CC_DD_EE_FF) は置き換えて下さい):\n\n```\n$ dbus-send --system --type=method_call --dest=org.bluez /org/bluez/hci0/dev_AA_BB_CC_DD_EE_FF org.bluez.Network1.Connect string:'nap'\n```\n\nこれでネットワークインターフェース bnep0 が作成されます。最後に、このインターフェースでネットワーク接続を設定してください。Android はデフォルトで DHCP を提供します。\n\n"
    },
    {
      "title": "SOCKS プロクシを使ってテザリング",
      "level": 2,
      "content": "このテザリング方法はスマートフォンから PC へのポートフォワーディングによって行います。ブラウジングだけに使うことができます。Firefox の場合、about:config で network.proxy.socks_remote_dns を true に設定してください。\n\n"
    },
    {
      "title": "必要なツール",
      "level": 3,
      "content": "- android-tools と android-udev パッケージ\n- スマートフォンから PC に接続するための USB 接続ケーブル\n- Tetherbot または Proxoid のどちらか\n\n"
    },
    {
      "title": "Tetherbot",
      "level": 4,
      "content": "[1] の Using the Socks Proxy の指示に従って下さい。\n\n"
    },
    {
      "title": "Proxoid",
      "level": 4,
      "content": "[2] で説明されている手順に従って下さい。\n\n"
    }
  ]
}