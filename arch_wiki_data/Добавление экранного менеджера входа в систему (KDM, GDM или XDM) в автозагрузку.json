{
  "title": "Добавление экранного менеджера входа в систему (KDM, GDM или XDM) в автозагрузку",
  "url": "https://wiki.archlinux.org/title/%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0_%D0%B2%D1%85%D0%BE%D0%B4%D0%B0_%D0%B2_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83_(KDM,_GDM_%D0%B8%D0%BB%D0%B8_XDM)_%D0%B2_%D0%B0%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D1%83",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- Среда рабочего стола\n- Оконный менеджер\n- Запуск X при входе\n\nЭкранный менеджер или менеджер входа — графический экран, который отображается в конце процесса загрузки вместо стандартного приглашения командной строки. Экранный менеджер представляет собой экран ввода имени пользователя и пароля для входа в систему. Существует множество экранных менеджеров, как и окружений рабочего стола. Практически все экранные менеджеры можно настраивать, изменяя их стиль и поведение.\n\n"
    },
    {
      "title": "Консольные",
      "level": 3,
      "content": "- CDM — ультра-минималистичный, но полнофункциональный менеджер входа, написанный на Bash.\n\n- Console TDM — расширение для xinit, также написанное на Bash.\n\n- nodm — минималистичный экранный менеджер для автоматического входа.\n\n- Ly — легковесный TUI (ncurses-like) экспериментальный менеджер входа.\n\n- tbsm — лаунчер сессий или приложений, написанный на чистом bash. Поддерживает сеансы X и Wayland.\n\n- emptty — совершенно простой менеджер CLI на TTY с поддержкой X и Wayland.\n\n"
    },
    {
      "title": "Графические",
      "level": 3,
      "content": "- Entrance — экранный менеджер Enlightenment.\n\n- GDM — экранный менеджер GNOME.\n\n- LightDM — независимый от среды рабочего стола экранный менеджер, можно подключать различные фронтенды с любыми тулкитами.\n\n- LXDM — экранный менеджер LXDE. Может быть использован отдельно от среды рабочего стола LXDE.\n\n- SDDM — экранный менеджер, основанный на QML. Продолжение KDE4 kdm, рекомендуется для Plasma 5 и LXQt.\n\n- XDM — экранный менеджер с поддержкой XDMCP.\n\n"
    },
    {
      "title": "Демоны входа",
      "level": 3,
      "content": "- greetd — Минимальный, гибкий и независимый демон входа в систему, который поддерживает как консольные, так и графические интерфейсы.\n\n"
    },
    {
      "title": "Запуск экранного менеджера",
      "level": 2,
      "content": "Чтобы включить экран входа, запустите соответствующую службу. Например для SDDM включите sddm.service.\n\nЭто должно работать без дополнительных настроек. Если нет, возможно, вам придется удалить символическую ссылку default.target, чтобы указать на graphical.target файл по умолчанию. Смотрите Изменение цели загрузки по умолчанию.\n\nПосле включения SDDM в /etc/systemd/system/ должен быть установлен symlink display-manager.service. Возможно, вам придется использовать --force для переопределения старых символических ссылок.\n\n```\n$ file /etc/systemd/system/display-manager.service\n```\n\n```\n/etc/systemd/system/display-manager.service: symbolic link to /usr/lib/systemd/system/sddm.service\n```\n\n"
    },
    {
      "title": "Использование systemd-logind",
      "level": 3,
      "content": "Чтобы иметь возможность проверить статус вашей сессии, вы можете использовать loginctl. Все действия polkit, такие, как перевод системы в ждущий режим или монтирование внешних устройств будут работать \"из коробки\".\n\n```\n$ loginctl show-session $XDG_SESSION_ID\n```\n\n"
    },
    {
      "title": "Настройка сеанса",
      "level": 2,
      "content": "Большинство экранных менеджеров получают список доступных сеансов из каталога /usr/share/xsessions/. Он содержит стандартные файлы .desktop для каждого экранного/оконного менеджера.\n\nЧтобы добавить/удалить записи в список сеансов вашего экранного менеджера, создайте/удалите соответствующий файл .desktop в /usr/share/xsessions/. Типичный файл .desktop выглядит примерно так:\n\n```\n[Desktop Entry]\nName=Openbox\nComment=Log in using the Openbox window manager (without a session manager)\nExec=/usr/bin/openbox-session\nTryExec=/usr/bin/openbox-session\nIcon=openbox.png\nType=Application\n```\n\n"
    },
    {
      "title": "Использование ~/.xinitrc как сеанс",
      "level": 3,
      "content": "Установите xinit-xsessionAUR для запуска xinitrc в качестве сеанса. Просто установите xinitrc в качестве сеанса в настройках вашего экранного менеджера и убедитесь, что файл ~/.xinitrc является исполняемым.\n\n"
    },
    {
      "title": "Запуск приложений без оконного менеджера",
      "level": 3,
      "content": "Вы также можете запускать приложения без какого-либо оформления. Например, для запуска google-chromeAUR создайте файл web-browser.desktop в /usr/share/xsessions/ :\n\n```\n[Desktop Entry]\nName=Web Browser\nComment=Use a web browser as your session\nExec=/usr/bin/google-chrome --auto-launch-at-startup\nTryExec=/usr/bin/google-chrome --auto-launch-at-startup\nIcon=google-chrome\nType=Application\n```\n\nПри этом, сразу после входа будет запущено приложение, указанное в опции Exec. Когда вы закроете приложение, вы будете возвращены к экранному менеджеру (точно так же, как если бы вы вышли из среды рабочего стола/оконного менеджера).\n\nВажно помнить, что большинство графических приложений не рассчитаны на запуск в таком режиме и вы можете столкнуться с определенными ограничениями в их работе (например, диалоговые окна будут отображены без рамки и вы не сможете их перемещать по экрану; вы не сможете управлять никаким окном обычным способом — для установки размеров и положения вам, вероятно, придется вносить изменения в файлы настроек приложения).\n\nСмотрите также xinitrc (Русский)#Запуск приложений без оконного менеджера.\n\n"
    },
    {
      "title": "Автозапуск",
      "level": 3,
      "content": "Большинство экранных менеджеров используют /etc/xprofile, ~/.xprofile и /etc/X11/xinit/xinitrc.d/ при входе. Для получения подробной информации, см. xprofile.\n\n"
    },
    {
      "title": "Установка языка",
      "level": 3,
      "content": "Для экранных менеджеров, которые используют AccountsService, язык для пользовательского сеанса может быть установлен путем редактирования:\n\n```\n/var/lib/AccountsService/users/$USER\n```\n\n```\n[User]\nLanguage=your_locale\n```\n\nгде your_locale — значение вида ru_RU.UTF-8.\n\nВ качестве альтернативы можно использовать D-Bus:\n\n```\nbusctl call org.freedesktop.Accounts /org/freedesktop/Accounts/User$UID org.freedesktop.Accounts.User SetLanguage s your_locale\n```\n\nВыйдите из системы, а затем снова войдите, чтобы изменения вступили в силу.\n\n"
    }
  ]
}