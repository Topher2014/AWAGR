{
  "title": "Webcam setup (Español)",
  "url": "https://wiki.archlinux.org/title/Webcam_setup_(Espa%C3%B1ol)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **2019-02-13** \n\nEsta es una guía para configurar su webcam en Arch Linux.\n\nLo más probable es que su webcam funcione sin necesidad de configuración. Los permisos para acceder a los dispositivos de vídeo (por ejemplo, /dev/video0) son manejados por udev, no es necesaria ninguna configuración.\n\n"
    },
    {
      "title": "Cargar",
      "level": 2,
      "content": "Identifique el nombre de su webcam (utilizando, por ejemplo, lsusb) y encuentre el controlador adecuado. Véase dispositivos webcam para obtener detalles sobre los controladores.\n\nAgregue el módulo del kernel de su webcam a /etc/modules-load.d/webcam.conf para que se cargue en el kernel durante la etapa inicial del arranque.\n\nSi su webcam funciona por USB, el kernel debería cargar automáticamente el controlador adecuado. Si este es el caso, compruebe dmesg después de conectar su webcam. Debería ver algo así:\n\n```\n# dmesg|tail\n```\n\n```\nsn9c102: V4L2 driver for SN9C10x PC Camera Controllers v1:1.24a\nusb 1-1: SN9C10[12] PC Camera Controller detected (vid/pid 0x0C45/0x600D)\nusb 1-1: PAS106B image sensor detected\nusb 1-1: Initialization succeeded\nusb 1-1: V4L2 device registered as /dev/video0\nusb 1-1: Optional device control through 'sysfs' interface ready\nusbcore: registered new driver sn9c102\n```\n\n"
    },
    {
      "title": "Configuración",
      "level": 2,
      "content": "Si desea configurar el brillo, el color y otros parámetros de la webcam (por ejemplo, en el caso de que los colores sin necesidad de configuración sean demasiado azulados/rojizos/verdosos) puede usar Qt V4L2 Test Bench (qv4l2), disponible en el paquete v4l-utils. Simplemente instálelo y ejecútelo, y le presentará una lista de ajustes configurables. Cambiar estos ajustes afectará a todas las aplicaciones.\n\n"
    },
    {
      "title": "Aplicaciones",
      "level": 2,
      "content": "Véase también Lista de aplicaciones/Multimedia#Webcam.\n\n"
    },
    {
      "title": "xawtv",
      "level": 3,
      "content": "Este es un visor de dispositivo v4l básico, y aunque está diseñado para usarse con tarjetas sintonizadoras de TV, funciona bien con webcams. Mostrará lo que ve su webcam en una ventana. Instálelo (xawtvAUR) y ejecútelo con:\n\n```\n$ xawtv -c /dev/video0\n```\n\nSi está utilizando una tarjeta gráfica nVidia, y obtiene un error como\n\n```\nX Error of failed request:  XF86DGANoDirectVideoMode\n Major opcode of failed request:  139 (XFree86-DGA)\n Minor opcode of failed request:  1 (XF86DGAGetVideoLL)\n Serial number of failed request:  69\n Current serial number in output stream:  69\n```\n\nen su lugar debería ejecutarlo como:\n\n```\n$ xawtv -nodga\n```\n\n"
    },
    {
      "title": "VLC",
      "level": 3,
      "content": "VLC también se puede usar para ver y grabar su webcam. En el menú \"Medio\" de VLC, abra el cuadro de diálogo 'Dispositivo de captura ...' e ingrese los archivos del dispositivo de vídeo y audio. O desde la línea de comando, haga:\n\n```\n$ vlc v4l:// :v4l-vdev=\"/dev/video0\" :v4l-adev=\"/dev/audio2\"\n```\n\nEsto hará que VLC refleje su webcam. Para tomar instantáneas, simplemente elija 'Instantánea' en el menú 'Vídeo'. Para grabar una transmisión, agregue un argumento --sout. Por ejemplo:\n\n```\n$ vlc v4l:// :v4l-vdev=\"/dev/video0\" :v4l-adev=\"/dev/audio2\" \\ \n  --sout \"#transcode{vcodec=mp1v,vb=1024,scale=1,acodec=mpga,ab=192,channels=2}:duplicate{dst=std{access=file,mux=mpeg1,dst=/tmp/test.mpg}}\"\n```\n\n(Obviamente, es un poco exagerado con respecto a las tasas de bits, pero está bien para propósitos de testeo). Tenga en cuenta que esto no producirá un espejo en la pantalla - para ver lo que está grabando, deberá agregar el monitor como un argumento de destino:\n\n```\n... :duplicate{dst=display,dst=std{access= ....\n```\n\n(Aunque esto puede cargar un poco el hardware antiguo...)\n\n"
    },
    {
      "title": "MPlayer",
      "level": 3,
      "content": "Para usar MPlayer para tomar instantáneas de su webcam, ejecute este comando desde la terminal:\n\n```\n$ mplayer tv:// -tv driver=v4l2:width=640:height=480:device=/dev/video0 -fps 15 -vf screenshot\n```\n\nDesde aquí, debe pulsar s para tomar la instantánea. La instantánea se guardará en su carpeta actual como shotXXXX.png. Si desea grabar un vídeo continuo:\n\n```\n$ mencoder tv:// -tv driver=v4l2:width=640:height=480:device=/dev/video0:forceaudio:adevice=/dev/dsp -ovc lavc -oac mp3lame -lameopts cbr:br=64:mode=3 -o filename.avi\n```\n\nPresione Ctrl+c para finalizar la grabación.\n\n"
    },
    {
      "title": "mpv",
      "level": 3,
      "content": "Para usar mpv para tomar instantáneas desde su webcam, ejecute este comando desde la terminal:\n\n```\n$ mpv av://v4l2:/dev/video0\n```\n\nPara utilizar MJPEG como formato de pixel en lugar del predeterminado (en muchos casos, YUYV), puede hacer lo siguiente:\n\n```\n$ mpv --demuxer-lavf-format=video4linux2 --demuxer-lavf-o-set=input_format=mjpeg /dev/video0\n```\n\nEn algunos casos, esto puede llevar a mejoras drásticas en la calidad y el rendimiento (5FPS -> 30FPS por ejemplo).\n\nDesde aquí, debe pulsar s para tomar la instantánea. La instantánea se guardará en su carpeta actual como mpv-shotNNNN.jpg.\n\n"
    },
    {
      "title": "FFmpeg",
      "level": 3,
      "content": "Véase FFmpeg#Grabación de la webcam.\n\n"
    },
    {
      "title": "Soporte V4L1",
      "level": 3,
      "content": "La versión 2.6.27 del kernel de Linux eliminó la compatibilidad con la API de Video4Linux (1) heredada. La decodificación en formato de píxeles se ha insertado en el espacio del usuario, ya que la versión 2 de Video4Linux no admite la decodificación del espacio del kernel. La librería libv4l proporciona aplicaciones de usuario con servicios de decodificación de píxeles y será utilizada por la mayoría de los programas. Otras capas de compatibilidad también están disponibles.\n\nSi su dispositivo está creado pero la imagen se ve extraña (por ejemplo, casi completamente verde), probablemente necesite esto.\n\nSi la aplicación es compatible con V4L2 pero no es compatible con pixelformat, use el siguiente comando:\n\n```\nLD_PRELOAD=/usr/lib/libv4l/v4l2convert.so application\n```\n\nSi la aplicación solo admite la versión antigua de V4L, use este comando:\n\n```\nLD_PRELOAD=/usr/lib/libv4l/v4l1compat.so application\n```\n\nNote: o\n\n```\nexport LD_PRELOAD=/usr/lib/libv4l/v4l2convert.so\n```\n\no\n\n```\nexport LD_PRELOAD=/usr/lib/libv4l/v4l1compat.so\n```\n\nPara aplicaciones multilib de 32 bits, instale el paquete lib32-v4l-utils y reemplace /usr/lib/libv4l/ por /usr/lib32/libv4l/ en los comandos anteriores.\n\n"
    },
    {
      "title": "Microsoft Lifecam Studio/Cinema",
      "level": 3,
      "content": "Bajo ciertas configuraciones, Microsoft lifecam studio/cinema puede solicitar demasiado ancho de banda de usb y fallar. Véase las preguntas frecuentes sobre Uvcvideo. En este caso, cambie el búfer cargando el controlador uvcvideo con quirks=0x80. Agréguelo a /etc/modprobe.d/uvcvideo.conf:\n\n```\n/etc/modprobe.d/uvcvideo.conf\n```\n\n```\n## fix bandwidth issue for lifecam studio/cinema\noptions uvcvideo quirks=0x80\n```\n\n"
    },
    {
      "title": "Skype",
      "level": 3,
      "content": "Al probar la webcam, tenga en cuenta lo siguiente:\n\n- Echobot no soporta vídeochat. No lo use para probar su webcam.\n- Skype puede reconocer diferentes dispositivos de vídeo/cámara (/dev/video*). Se enumerarán y nombrarán algo así como \"cámara integrada ...\" en un menú desplegable en la configuración de la cámara. Pruebe cada cámara y espere unos segundos, porque lleva tiempo cambiar a una cámara distinta.\n\n"
    },
    {
      "title": "Comprobar el ancho de banda utilizado por las webcams USB",
      "level": 3,
      "content": "Cuando se ejecutan varias webcams en un único bus USB, pueden llegar a saturar el ancho de banda del bus USB y dejar de funcionar correctamente. Esto puede ser diagnosticado con la herramienta usbtop del paquete usbtopAUR.\n\n"
    }
  ]
}