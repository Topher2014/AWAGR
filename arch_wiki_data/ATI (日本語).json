{
  "title": "ATI (日本語)",
  "url": "https://wiki.archlinux.org/title/ATI_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- AMDGPU\n- Xorg\n\nこの記事では、AMD (以前は ATI) の古い GPU をサポートする radeon オープンソースドライバをカバーしています。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 正しいドライバーの選択\n- 2 インストール\n- 3 ロード\n- 4 Xorg の設定\n- 5 パフォーマンスチューニング 5.1 ビデオアクセラレーションを有効にする 5.2 グラフィカルツール 5.3 ドライバーオプション 5.4 カーネルパラメータ 5.4.1 PCIe 2.0 の無効化 5.5 Gallium ヘッドアップディスプレイ\n- 6 ハイブリッドグラフィック/AMD Dynamic Switchable Graphics\n- 7 省電力機能 7.1 動的電源管理 7.1.1 コマンドラインツール 7.2 古い方法 7.2.1 動的周波数切り替え 7.2.2 プロファイルを使用する周波数切り替え 7.3 永続的な設定 7.4 ノート\n- 8 ファンの速度\n- 9 TV 出力 9.1 KMS で TV 出力を強制する\n- 10 HDMI オーディオ\n- 11 マルチモニターの設定 11.1 RandR 拡張を使う 11.2 X スクリーンを独立させる\n- 12 vsync (垂直同期) をオフにする\n- 13 トラブルシューティング 13.1 EXA を使用している場合にパフォーマンスが出ない、あるいは乱れが生じる 13.2 検知/サポートされない解像度を追加する 13.3 TV 画面の回りに黒枠が表示される 13.4 黒画面でコンソールが現れないが、KMS で X は動作する 13.5 ATI X1600 (RV530 シリーズ) で 3D アプリケーションが黒いウィンドウを表示する 13.6 スリープから復帰した後にカーソルがおかしくなる 13.7 マルチモニタモードで DisplayPort が出力されない 13.8 R9-390 のパフォーマンスが出ない、あるいは不安定 13.9 古い Radeon カードの HDMI 接続による QHD/UHD/4K のサポート 13.10 390X で 4K DP を使用すると水平方向のちらつきが発生することがある\n- 14 参照\n\n- 5.1 ビデオアクセラレーションを有効にする\n- 5.2 グラフィカルツール\n- 5.3 ドライバーオプション\n- 5.4 カーネルパラメータ 5.4.1 PCIe 2.0 の無効化\n- 5.5 Gallium ヘッドアップディスプレイ\n\n- 5.4.1 PCIe 2.0 の無効化\n\n- 7.1 動的電源管理 7.1.1 コマンドラインツール\n- 7.2 古い方法 7.2.1 動的周波数切り替え 7.2.2 プロファイルを使用する周波数切り替え\n- 7.3 永続的な設定\n- 7.4 ノート\n\n- 7.1.1 コマンドラインツール\n\n- 7.2.1 動的周波数切り替え\n- 7.2.2 プロファイルを使用する周波数切り替え\n\n- 9.1 KMS で TV 出力を強制する\n\n- 11.1 RandR 拡張を使う\n- 11.2 X スクリーンを独立させる\n\n- 13.1 EXA を使用している場合にパフォーマンスが出ない、あるいは乱れが生じる\n- 13.2 検知/サポートされない解像度を追加する\n- 13.3 TV 画面の回りに黒枠が表示される\n- 13.4 黒画面でコンソールが現れないが、KMS で X は動作する\n- 13.5 ATI X1600 (RV530 シリーズ) で 3D アプリケーションが黒いウィンドウを表示する\n- 13.6 スリープから復帰した後にカーソルがおかしくなる\n- 13.7 マルチモニタモードで DisplayPort が出力されない\n- 13.8 R9-390 のパフォーマンスが出ない、あるいは不安定\n- 13.9 古い Radeon カードの HDMI 接続による QHD/UHD/4K のサポート\n- 13.10 390X で 4K DP を使用すると水平方向のちらつきが発生することがある\n\n"
    },
    {
      "title": "正しいドライバーの選択",
      "level": 2,
      "content": "使用しているカードにあわせて、Xorg#AMD を見て適切なドライバーを選択してください。このページでは ATI ドライバーについて説明します。\n\nよくわからない場合、まず AMDGPU ドライバを試してください。AMDGPU ドライバは2015年以降にリリースされたカードのほとんどと適合します。このドライバによってサポートされている機能を調べるにはこの機能表を見てください。マーケティング名 (例: Radeon HD4330) とチップ名との対応はこのデコード表を見てください。\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "mesa パッケージをインストールしてください。これには、3D アクセラレーションのための DRI ドライバーと、動画エンコードのアクセラレーションのための VA-API/VDPAU ドライバの両方が含まれています。非常に古い GPU (R200 及びそれ以前) の場合は mesa-amber をインストールしてください。\n\n- 32ビットのアプリケーションに対応するには、multilib リポジトリ にある lib32-mesa (lib32-mesa-amber) パッケージもインストールしてください。\n- DDX ドライバー (Xorg で 2D アクセラレーションを提供します) については、xf86-video-ati パッケージをインストールしてください。\n\n"
    },
    {
      "title": "ロード",
      "level": 2,
      "content": "radeon カーネルモジュールはシステムの起動時に自動的に正しく読み込まれるはずです。\n\nうまく行かない場合:\n\n- カーネルパラメータ に nomodeset や vga= を使用していないことを確認してください。radeon は KMS を要求するからです。\n- また、カーネルモジュールのブラックリスト化によって radeon を無効化していないことを確認してください。\n\n"
    },
    {
      "title": "Xorg の設定",
      "level": 2,
      "content": "Xorg は自動的にドライバーをロードしてモニターの EDID を使用してネイティブ解像度を設定します。設定が必要になるのはドライバーを調整するときだけです。\n\n手動で設定したい場合 /etc/X11/xorg.conf.d/20-radeon.conf を作成して以下を記述してください:\n\n```\nSection \"OutputClass\"\n    Identifier \"Radeon\"\n    MatchDriver \"radeon\"\n    Driver \"radeon\"\nEndSection\n```\n\n上記のセクションを使って、ドライバーの設定を調整したり機能を有効化することができます。\n\n"
    },
    {
      "title": "ビデオアクセラレーションを有効にする",
      "level": 3,
      "content": "ハードウェアビデオアクセラレーション#AMD/ATIを見てください。\n\n"
    },
    {
      "title": "グラフィカルツール",
      "level": 3,
      "content": "- radeon-profile — Radeon カードの情報を表示する Qt アプリケーション。\n\n- CoreCtrl — 人気な汎用 GPU/CPU コントローラー。高度な使用法については Setup ページを見てください。\n\n"
    },
    {
      "title": "ドライバーオプション",
      "level": 3,
      "content": "以下のオプションは /etc/X11/xorg.conf.d/20-radeon.conf に追加します。\n\nドライバーオプションを有効にする前に radeon(4) と RadeonFeature を読んで下さい。\n\nアクセラレーションアーキテクチャ: Glamor は、OpenGL で実装された 2D アクセラレーションメソッドです。R600 (Radeon HD2000 シリーズ) およびそれ以降のグラフィックカードでは、これがデフォルトで使用されます。それより古いカードでは、EXA が使用されます。\n\n```\nOption \"AccelMethod\" \"glamor\"\n```\n\nxf86-video-ati 7.8.0 以降、DRI3 はデフォルトで有効になっています。\n\nTearFree はハードウェアのページフリッピング機能を使ってチラツキを抑えます。このオプションを有効にすると \"EnablePageFlip\" オプションが無効になります:\n\n```\nOption \"TearFree\" \"on\"\n```\n\nColorTiling と ColorTiling2D は安全に有効にすることができ、おそらくデフォルトで有効になっています。タイルモードは 3D アプリケーションのパフォーマンスを劇的に向上する可能性があります。DRM モジュールが古すぎる場合や、現在のディスプレイ構成がこのモードをサポートしていない場合、このモードは無効化されます。KMS ColorTiling2D は、R600 (Radeon HD2000 シリーズ) およびそれ以降のチップでのみサポートされています:\n\n```\nOption \"ColorTiling\" \"on\"\nOption \"ColorTiling2D\" \"on\"\n```\n\nアクセラレーションアーキテクチャとして Glamor を使う場合、ShadowPrimary オプションを有効にすることができます。このオプションは、CPU がピクセルデータに高速にアクセスできるようにする \"shadow primary\" バッファと呼ばれるものと、各ディスプレイコントローラ (CRTC) 用の個別のスキャンアウトバッファを有効化します。これにより、一部の 2D のワークロードが高速化する場合がありますが、他のワークロード (3D やビデオなど) が犠牲になる可能性があります。このオプションを有効にすると \"EnablePageFlip\" オプションが無効化されることに注意してください:\n\n```\nOption \"ShadowPrimary\" \"on\"\n```\n\nEXAVSync オプションは EXA を使用している場合にのみ利用可能です。このオプションは、ディスプレイコントローラが出力先の領域を引き渡すまでエンジンを止めることでティアリングを減らそうとします。パフォーマンスを犠牲にティアリングを減らしますが、チップによっては不安定になることが知られています:\n\n```\nOption \"EXAVSync\" \"yes\"\n```\n\n下は設定ファイル /etc/X11/xorg.conf.d/20-radeon.conf のサンプルです:\n\n```\nSection \"OutputClass\"\n  Identifier \"Radeon\"\n  MatchDriver \"radeon\"\n  Driver \"radeon\"\n  Option \"AccelMethod\" \"glamor\"\n  Option \"DRI\" \"3\"\n  Option \"TearFree\" \"on\"\n  Option \"ColorTiling\" \"on\"\n  Option \"ColorTiling2D\" \"on\"\nEndSection\n```\n\n"
    },
    {
      "title": "カーネルパラメータ",
      "level": 3,
      "content": "gartsize が自動検知されない場合、radeon.gartsize=32 をカーネルパラメータに追加して手動で定義することができます。\n\n```\n[drm] Detected VRAM RAM=2048M, BAR=256M\n[drm] radeon: 2048M of VRAM memory ready\n[drm] radeon: 2048M of GTT memory ready.\n```\n\n変更は次の起動時に有効になります。\n\n"
    },
    {
      "title": "PCIe 2.0 の無効化",
      "level": 4,
      "content": "カーネル 3.6 から、radeon の PCI Express 2.0 はデフォルトで有効になっています。\n\nマザーボードによっては不安定になることがあり、カーネルコマンドラインに radeon.pcie_gen2=0 を追加することで無効にできます。\n\n詳細は Phoronix の記事 を見て下さい。\n\n"
    },
    {
      "title": "Gallium ヘッドアップディスプレイ",
      "level": 3,
      "content": "radeon ドライバーはゲームなどのアプリケーションの上に透明な文字やテキストを描画できるヘッドアップディスプレイ(HUD)の有効化をサポートしています。現在のフレームレートや CPU の使用率 (各 CPU コアごとの使用率やその平均) などの情報が表示できます。HUD は GALLIUM_HUD 環境変数で制御し、以下のパラメータのリストを指定できます:\n\n- \"fps\" - 現在のフレームレートを表示\n- \"cpu\" - CPU の平均使用率を表示\n- \"cpu0\" - 1番目の CPU コアの CPU 使用率を表示\n- \"cpu0+cpu1\" - 最初の2つの CPU コアの CPU 使用率を表示\n- \"draw-calls\" - 画面上のオブジェクトのマテリアルの描画回数を表示\n- \"requested-VRAM\" - GPU の VRAM の使用量を表示\n- \"pixels-rendered\" - 描画されたピクセル数を表示\n\nパラメータの完全なリストや GALLIUM_HUD の詳細は glxgears などのシンプルなアプリケーションで \"help\" パラメータを使うことで確認できます:\n\n```\n# GALLIUM_HUD=\"help\" glxgears\n```\n\n詳しくは メーリングリストの投稿 や ブログの記事 を見て下さい。\n\n"
    },
    {
      "title": "ハイブリッドグラフィック/AMD Dynamic Switchable Graphics",
      "level": 2,
      "content": "電力効率の良い GPU (一般的に Intel 内蔵カード) とパワフルで電力消費が激しい GPU (一般的に Radeon や Nvidia) の、2つの GPU を搭載している最新のノートパソコンで使われている技術です。機能させるには2つの方法があります:\n\n- GPU の負担が重いアプリケーションを使う必要がないときは、ディスクリートカードを無効にすることができます(詳しくは Ubuntu wiki を参照): # echo OFF > /sys/kernel/debug/vgaswitcheroo/switch\n- PRIME を使用することができます。Linux でハイブリッドグラフィックを使うのに適当な方法と言えますが、ユーザーによる手動の操作が必要です。\n\n```\n# echo OFF > /sys/kernel/debug/vgaswitcheroo/switch\n```\n\n"
    },
    {
      "title": "省電力機能",
      "level": 2,
      "content": "radeon ドライバでは省電力機能はデフォルトで無効化されており、必要であれば手動で有効にする必要があります。\n\n3つの方法から選ぶことができます:\n\n1. dpm (カーネル 3.13 からデフォルトで有効)\n1. dynpm\n1. profile\n\n詳しくは https://www.x.org/wiki/RadeonFeature/#index3h2 を見てください。\n\n"
    },
    {
      "title": "動的電源管理",
      "level": 3,
      "content": "カーネル 3.13 から、DPM (Dynamic power management) は 多くの AMD Radeon ハードウェア においてデフォルトで有効になっています。無効にするには、カーネルパラメータに radeon.dpm=0 を追加してください。\n\ndynpm とは違い、\"dpm\" は GPU 上のハードウェアを使って動的に GPU の使用率にあわせて周波数と電圧を変化させます。また、クロック・パワーゲーティングも有効になります。\n\n以下の3つの動作モードが存在します:\n\n- battery 省電力\n- balanced デフォルト\n- performance ハイパフォーマンス\n\nsysfs を使ってモードを変更することが可能です:\n\n```\n# echo battery > /sys/class/drm/card0/device/power_dpm_state\n```\n\nテストしたりデバッグするために、カードを強制的にパフォーマンスモードで動作させることが可能です:\n\n- auto: デフォルト。全ての電源状態のレベルを使用します。\n- low: 一番低いパフォーマンスレベルを強制。\n- high: 一番高いパフォーマンスレベルを強制。\n\n```\n# echo low > /sys/class/drm/card0/device/power_dpm_force_performance_level\n```\n\n"
    },
    {
      "title": "コマンドラインツール",
      "level": 4,
      "content": "- radcard[リンク切れ 2024-10-12] - DPM の電源状態やレベルを取得・設定できるスクリプト。\n\n"
    },
    {
      "title": "動的周波数切り替え",
      "level": 4,
      "content": "この方法では GPU の負担にあわせて動的に周波数を変更します。GPU を酷使するアプリを実行したときはパフォーマンスが強化され、GPU がアイドル状態の時は周波数が下げられます。クロック変更は垂直帰線消去時に行われますが、クロック変更関数のタイミングのせいで、常に消去時に完了するわけではなく、ディスプレイにちらつきが生じてしまうこともあります。このため、dynpm はモニタが一つしか無いときに動作します。\n\n次のコマンドを実行することで有効にできます:\n\n```\n# echo dynpm > /sys/class/drm/card0/device/power_method\n```\n\n"
    },
    {
      "title": "プロファイルを使用する周波数切り替え",
      "level": 4,
      "content": "この方法では5つのプロファイル (下を参照) からどれか一つを選択することができます。プロファイルが異なると言っても、どれも、GPU の周波数や電圧の変更を行います。この方法はあまりアグレッシブではない代わりに、安定しておりちらつきも抑えられ、マルチモニタでも動作します。\n\nこの方法を有効にするには、次のコマンドを実行:\n\n```\n# echo profile > /sys/class/drm/card0/device/power_method\n```\n\n以下のプロファイルから選んで下さい:\n\n- default はデフォルトの周波数を使用し、電源の状態を変更しません。これはデフォルトの挙動です。\n- auto はシステムがバッテリー電源で動作しているのかそうでないのかによって電源状態を mid と high で切り替えます。\n- low はどんなときでも強制的に gpu の電源状態が low になるようにします。low ではノートパソコンのディスプレイに問題が起こることがあり、そのため auto ではモニタの電源がオフのときだけ low を使います。他のプロファイルではモニタの DPMS の状態がオフのときに選択されます。\n- mid はどんなときでも強制的に gpu の電源状態が mid になるようにします。\n- high はどんなときでも強制的に gpu の電源状態が high になるようにします。\n\n例えば、low プロファイルを有効にするには (必要に応じて low を上記のプロファイルのどれかと置き換えて下さい):\n\n```\n# echo low > /sys/class/drm/card0/device/power_profile\n```\n\n"
    },
    {
      "title": "永続的な設定",
      "level": 3,
      "content": "上述の設定は永続的なものではりません、コンピューターを再起動すると戻ってしまいます。設定を永続化させるために、udev ルールを使うことができます (#プロファイルを使用する周波数切り替えの例):\n\n```\n/etc/udev/rules.d/30-radeon-pm.rules\n```\n\n```\nKERNEL==\"dri/card0\", SUBSYSTEM==\"drm\", DRIVERS==\"radeon\", ATTR{device/power_method}=\"profile\", ATTR{device/power_profile}=\"low\"\n```\n\n他の例として、動的電源管理 では特定のパフォーマンスレベルを永続的に強制することができます:\n\n```\n/etc/udev/rules.d/30-radeon-pm.rules\n```\n\n```\nKERNEL==\"dri/card0\", SUBSYSTEM==\"drm\", DRIVERS==\"radeon\", ATTR{device/power_dpm_force_performance_level}=\"high\"\n```\n\n"
    },
    {
      "title": "ノート",
      "level": 3,
      "content": "GPU が動作している速度を見るには、次のコマンドを実行することで以下のような出力が得られます:\n\n```\n# cat /sys/kernel/debug/dri/0/radeon_pm_info\n```\n\n```\nstate: PM_STATE_ENABLED\ndefault engine clock: 300000 kHz\ncurrent engine clock: 300720 kHz\ndefault memory clock: 200000 kHz\n```\n\nただし値は使用している GPU や radeon ドライバーのバージョン、カーネルのバージョンなどによって変わります。\n\n温度センサーは外部の i2c チップか内部の温度センサー (rv6xx-evergreen のみ) によって実装されています。i2c チップを使用する asics の温度を取得するには、あなたのボードで使われているセンサーの適切な hwmon ドライバーをロードする必要があります (lm63, lm64 など)。それで drm が適当な hwmon ドライバーをロードします。内部の温度センサーを使用するボードの場合、drm は hwmon インターフェイスを自動的に設定します。適当なドライバーがロードされていれば、lm_sensors ツールや /sys/class/hwmon の sysfs で温度を調べることができます。\n\n"
    },
    {
      "title": "ファンの速度",
      "level": 2,
      "content": "上記の省電力機能によってファンの速度は上手く制御されるはずですが、一部のカードではアイドル状態でも五月蝿すぎる場合があります。そのような場合、カードがサポートしていれば、手動でファンの速度を変更できます。\n\n- 以下の方法ではファンの速度が固定されるため、GPU の負担にあわせて調整できません。重い処理でオーバーヒートする可能性があります。\n- 標準の値よりも低い値を使うときは GPU の温度に注意してください。\n\nGPU ファンを制御するには、ファンスピード制御#AMDGPU の sysfs によるファン制御 を見てください(amdgpu と radeon は同じ制御を行います)。\n\n永続化させるには、#永続的な設定 の例を見てください。\n\n速度を固定したくない場合、温度にあわせてファンの速度を設定するスクリプトを書くなどして手動でファンの速度カーブを定義できます (現在の値は /sys/class/drm/card0/device/hwmon/hwmon0/temp1_input で確認できます)。\n\nGUI で設定したい場合は radeon-profile-gitAUR をインストールしてください。\n\n"
    },
    {
      "title": "TV 出力",
      "level": 2,
      "content": "まず、S 端子があるかチェックしてください、xrandr で以下のように表示されるはずです:\n\n```\nScreen 0: minimum 320x200, current 1024x768, maximum 1280x1200\n...\nS-video disconnected (normal left inverted right x axis y axis)\n```\n\nそして Xorg に接続されていると伝えます:\n\n```\nxrandr --output S-video --set \"load detection\" 1\n```\n\ntv standard を使うように設定:\n\n```\nxrandr --output S-video --set \"tv standard\" ntsc\n```\n\nモードを追加 (現在は 800x600 しかサポートされていません):\n\n```\nxrandr --addmode S-video 800x600\n```\n\nモードを複製:\n\n```\nxrandr --output S-video --same-as VGA-0\n```\n\n試行:\n\n```\nxrandr --output S-video --mode 800x600\n```\n\nこれで 800x600 のデスクトップがテレビに表示されるはずです。\n\n出力を無効化するには:\n\n```\nxrandr --output S-video --off\n```\n\n"
    },
    {
      "title": "KMS で TV 出力を強制する",
      "level": 3,
      "content": "カーネルは次の形式で video= パラメータを認識します (詳しくは カーネルモード設定を参照):\n\n```\nvideo=<conn>:<xres>x<yres>[M][R][-<bpp>][@<refresh>][i][m][eDd]\n```\n\nサンプル:\n\n```\nvideo=DVI-I-1:1280x1024-24@60e\n```\n\nパラメータに空白を含む場合はクォートで囲って下さい:\n\n```\n\"video=9-pin DIN-1:1024x768-24@60e\"\n```\n\n次のコマンドでビデオ出力の一覧を取得できます:\n\n```\n$ ls -1 /sys/class/drm/ | grep -E '^card[[:digit:]]+-' | cut -d- -f2-\n```\n\n"
    },
    {
      "title": "HDMI オーディオ",
      "level": 2,
      "content": "HDMI オーディオは xf86-video-ati ビデオドライバーでサポートされています。問題を起こすことがあるため、無効にしたい場合、カーネルパラメータに radeon.audio=0 を追加してください。\n\n起動後画面が表示されない場合は、ドライバーオプションを無効にしてください。\n\n- ドライバーをインストールした後 HDMI オーディオが動作しないときは、Advanced Linux Sound Architecture/トラブルシューティング#HDMI から出力できない に書かれた方法でセットアップをテストしてください。\n- PulseAudio で音が歪む場合は tsched=0 を設定して rtkit デーモンが動いているか確認してください。詳しくは PulseAudio/トラブルシューティング#バッファアンダーランのトラブルシューティング (音ズレ、音飛び、音割れ) を参照。\n- HDA 準拠のハードウェアはとても一般的なので、あなたのサウンドカードも同じモジュールを使用しているかもしれません。(alsa 設定の defaults ノードを使う方法も含む)提案した方法のうち1つを使って デフォルトサウンドカードを設定してください。\n\n"
    },
    {
      "title": "RandR 拡張を使う",
      "level": 3,
      "content": "RandR を使ってマルチモニターをセットアップする方法はマルチディスプレイ#RandR を見てください。\n\n"
    },
    {
      "title": "X スクリーンを独立させる",
      "level": 3,
      "content": "独立したデュアルスクリーンの設定は通常通りで問題ありません。ただし radeon ドライバーには \"ZaphodHeads\" オプションが存在し、デバイスセクションを特定の出力端子に結びつけることができます:\n\n```\n/etc/X11/xorg.conf.d/20-radeon.conf\n```\n\n```\nSection \"Device\"\n  Identifier \"Device0\"\n  Driver \"radeon\"\n  Option \"ZaphodHeads\" \"VGA-0\"\n  VendorName \"ATI\"\n  BusID \"PCI:1:0:0\"\n  Screen 0\nEndSection\n```\n\nビデオカードに複数の出力端子が3つ以上存在する場合などに役に立ちます。例えば HDMI, DVI, VGA 端子が存在する場合 \"ZaphodHeads\" \"VGA-0\" と明示的に指定しないかぎり、マルチモニター設定では HDMI+DVI 出力だけを選択・使用します。\n\n"
    },
    {
      "title": "vsync (垂直同期) をオフにする",
      "level": 2,
      "content": "radeon ドライバーはデフォルトで垂直同期を有効にします。ベンチマーク以外ではそれで全く問題がありません。垂直同期をオフにするには、vblank_mode=0 環境変数を試してみるか、~/.drirc を作成して (既に存在する場合は編集して) 以下のセクションを加えて下さい:\n\n```\n~/.drirc\n```\n\n```\n<driconf>\n    <device screen=\"0\" driver=\"dri2\">\n        <application name=\"Default\">\n            <option name=\"vblank_mode\" value=\"0\" />\n        </application>\n    </device>\n    ...\n</driconf>\n```\n\nvsync が無効にならない場合、/etc/X11/xorg.conf.d/20-radeon.conf を編集して無効化してください。#ドライバーオプション を見てください。\n\n"
    },
    {
      "title": "EXA を使用している場合にパフォーマンスが出ない、あるいは乱れが生じる",
      "level": 3,
      "content": "ターミナルやウェブブラウザのスクロールが遅いなど、2D のパフォーマンスに問題が起こる場合、デバイスオプションに Option \"MigrationHeuristic\" \"greedy\" を追加することで解決することがあります。\n\nさらに EXAPixmaps を無効果することで乱れがなくなることがあります。ただし、他の問題が引き起こされる可能性があるため一般的には推奨されていません。\n\n```\n/etc/X11/xorg.conf.d/20-radeon.conf\n```\n\n```\nSection \"OutputClass\"\n    Identifier \"Radeon\"\n    MatchDriver \"radeon\"\n    Option \"AccelMethod\" \"exa\"\n    Option \"MigrationHeuristic\" \"greedy\"\n    #Option \"EXAPixmaps\" \"off\"\nEndSection\n```\n\n"
    },
    {
      "title": "検知/サポートされない解像度を追加する",
      "level": 3,
      "content": "Xrandr#検出されない解像度を追加する を参照してください。\n\n"
    },
    {
      "title": "TV 画面の回りに黒枠が表示される",
      "level": 3,
      "content": "HDMI ポートを使用して TV を接続すると、画面の周りに 2-3cm の枠が表示され画像がぼやけることがあります。これはオーバスキャンを防ぐものですが(Wikipedia:Overscan を参照)、xrandr を使ってオフにすることができます:\n\n```\nxrandr --output HDMI-0 --set underscan off\n```\n\n"
    },
    {
      "title": "黒画面でコンソールが現れないが、KMS で X は動作する",
      "level": 3,
      "content": "一つの PC で複数の ATI カードを使用しているときに、コンソールが表示されないという問題が起こります。Fujitsu Siemens Amilo PA 3553 ノートパソコンなどがこの問題を抱えています。fbcon コンソールドライバーが間違ったフレームバッファデバイスにマッピングしているのが原因です。以下のカーネルパラメータを使うことで解決します:\n\n```\nfbcon=map:1\n```\n\nこれは /dev/fb0 ではなく /dev/fb1 フレームバッファへとマッピングするよう fbcon に指示します。上記の設定で問題が解決しない場合、以下の設定で起動してみてください:\n\n```\nfbcon=map:0\n```\n\n"
    },
    {
      "title": "ATI X1600 (RV530 シリーズ) で 3D アプリケーションが黒いウィンドウを表示する",
      "level": 3,
      "content": "3つの解決方法が考えられます:\n\n- pci=nomsi をブートローダーのカーネルパラメータに追加して見て下さい。\n- 上のカーネルパラメータでうまくいかない場合、pci=nomsi の代わりに noapic を追加してみてください。\n- どちらもうまくいかない、vblank_mode=0 glxgears か vblank_mode=1 glxgears を実行してどちらでうまく行くかを調べ、そのオプションを永続的に設定してください。\n\n"
    },
    {
      "title": "スリープから復帰した後にカーソルがおかしくなる",
      "level": 3,
      "content": "モニターがスリープから復帰した後にカーソルが縦に重なるなどおかしな表示がされる場合、/etc/X11/xorg.conf.d/20-radeon.conf 設定ファイルの \"OutputClass\" セクションで \"SWCursor\" \"True\" を設定してください。\n\n"
    },
    {
      "title": "マルチモニタモードで DisplayPort が出力されない",
      "level": 3,
      "content": "radeon.audio=0 カーネルパラメータを使って起動してみてください。\n\n"
    },
    {
      "title": "R9-390 のパフォーマンスが出ない、あるいは不安定",
      "level": 3,
      "content": "R9-390 シリーズのカードのファームウェアには DPM 関連に問題があり、性能が発揮されなかったりクラッシュすることがあります (ゲームを遊んだり Google マップを使ったりすると発症します)。バグレポートのコメントに修正方法が書かれてあります。\n\n"
    },
    {
      "title": "古い Radeon カードの HDMI 接続による QHD/UHD/4K のサポート",
      "level": 3,
      "content": "古いカードでは HDMI のピクセルクロックが 165MHz に制限されており、QHD や 4K を使うには HDMI ではなくデュアルリンク DVI を使う必要があります。\n\n低いリフレッシュレートのカスタムモード (例: 30Hz) を使うことで HDMI が使える場合があります。\n\nまた、ピクセルクロックの制限を取り払うカーネルパッチも存在しますが、カードにダメージを与える可能性があります。\n\n4.8 用のパッチの 公式カーネルバグチケット を参照してください。\n\nパッチを適用すると新しいカーネルパラメータ radeon.hdmimhz によってピクセルクロックの制限を変えることができるようになります。\n\nまた、ハイスピード HDMI ケーブルを使うようにしてください。\n\n"
    },
    {
      "title": "390X で 4K DP を使用すると水平方向のちらつきが発生することがある",
      "level": 3,
      "content": "390X (もしくは似たようなモデル) を使用していて DP から 4K 出力を行っている場合、水平方向のアーティファクト/ちらつきが発生することがあります。約30分おきに水平方向のピクセルの帯(高さは約100ピクセルで幅は画面の幅と同じ)が数秒間上下に揺れるような感じです。これは radeon ドライバのバグかもしれません。AMDGPU を代わりに使うと直るようです。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "ベンチマークでは、多くのカードでオープンソースドライバがプロプライエタリドライバと同等のパフォーマンスであるということが示されています。\n\n"
    }
  ]
}