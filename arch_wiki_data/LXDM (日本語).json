{
  "title": "LXDM (日本語)",
  "url": "https://wiki.archlinux.org/title/LXDM_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- LXDE\n- ディスプレイマネージャ\n\nLXDM は、LXDE デスクトップ環境のためにつくられた軽量ディスプレイマネージャです。ユーザーインターフェースには、GTK+ 2 を採用しています。\n\nLXDM は XDMCP プロトコルをサポートしていません。別の方法として LightDM があります。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 設定 2.1 デフォルトセッション 2.1.1 全ユーザー共通の設定 2.1.2 ユーザー個別の設定 2.2 自動ログイン 2.3 最後に使用したオプション\n- 3 ヒントとテクニック 3.1 フェイスアイコンの追加 3.2 同時ログインとユーザー切替 3.3 テーマ 3.4 高度なセッションの設定 3.5 黒背景で点滅する問題の修正\n\n- 2.1 デフォルトセッション 2.1.1 全ユーザー共通の設定 2.1.2 ユーザー個別の設定\n- 2.2 自動ログイン\n- 2.3 最後に使用したオプション\n\n- 2.1.1 全ユーザー共通の設定\n- 2.1.2 ユーザー個別の設定\n\n- 3.1 フェイスアイコンの追加\n- 3.2 同時ログインとユーザー切替\n- 3.3 テーマ\n- 3.4 高度なセッションの設定\n- 3.5 黒背景で点滅する問題の修正\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "lxdm パッケージでインストールすることができます。開発向けパッケージは lxdm-gitAUR です。\n\nlxdm パッケージには systemd サービスの lxdm.service が含まれており、有効化することで使うことができます。\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "LXDM の設定ファイルは全て /etc/lxdm/ にあります。主要な設定ファイルは lxdm.conf で、コメントによる説明が充実しています。Xsession ファイルはシステム全体の X セッション設定ファイルで、通常の利用では編集するべきではありません。他のファイルは全て LXDM で特定のイベントが発生したときに実行されるシェルスクリプトです。\n\n以下のファイルが存在します:\n\n1. LoginReady は LXDM がログインウインドウを表示する時に root 権限で実行されます。\n1. PreLogin はユーザーがログインする直前に root 権限で実行されます。\n1. PostLogin はユーザーがログインした直後にユーザー権限で実行されます。\n1. PostLogout はユーザーがログアウトした直後に ユーザー権限で実行されます。\n1. PreReboot は LXDM が再起動される直前に root 権限で実行されます。\n1. PreShutdown は LXDM が終了する直前に root 権限で実行されます。\n\n"
    },
    {
      "title": "デフォルトセッション",
      "level": 3,
      "content": "セッションリストからデフォルトセッションが選択されたときに、どのセッションをロードするか指定することができます。全ユーザー共通の設定よりもユーザー個別の設定が優先されます。\n\n"
    },
    {
      "title": "全ユーザー共通の設定",
      "level": 4,
      "content": "/etc/lxdm/lxdm.conf の session 行を編集してください:\n\n```\nsession=/usr/bin/startlxde\n```\n\nXfce を使用する例:\n\n```\nsession=/usr/bin/startxfce4\n```\n\nOpenbox を使用する例:\n\n```\nsession=/usr/bin/openbox-session\n```\n\nGNOME を使用する例:\n\n```\nsession=/usr/bin/gnome-session\n```\n\n上記の設定はテーマにセッションの選択ボックスが存在しない場合や自動ログインで問題が発生する場合にも有用です。\n\n"
    },
    {
      "title": "ユーザー個別の設定",
      "level": 4,
      "content": "ユーザーごとに使用するセッションを定義する場合、~/.dmrc を編集してください。\n\n例えば、user1 は Xfce4、user2 は Cinnamon、user3 は GNOME を使用する場合:\n\nuser1 の設定:\n\n```\n[Desktop]\nSession=xfce\n```\n\nuser2 の設定:\n\n```\n[Desktop]\nSession=cinnamon\n```\n\nuser3 の設定:\n\n```\n[Desktop]\nSession=gnome\n```\n\n"
    },
    {
      "title": "自動ログイン",
      "level": 3,
      "content": "起動時に自動的にアカウントにログインしたい場合、/etc/lxdm/lxdm.conf 内の以下の行を探してください:\n\n```\n#autologin=dgod\n```\n\nアンコメントして dgod を自動ログインしたいユーザーに置き換えてください。\n\n"
    },
    {
      "title": "最後に使用したオプション",
      "level": 3,
      "content": "最後に使用されたオプションは以下のように保存されます:\n\n```\n/var/lib/lxdm/lxdm.conf\n```\n\n```\n[base]\nlast_session=/usr/share/xsessions/LXDE.desktop\nlast_lang=sv_SE.UTF-8\nlast_langs=sv_SE.UTF-8 fa_IR.UTF-8 en_US.UTF-8\n```\n\n"
    },
    {
      "title": "フェイスアイコンの追加",
      "level": 3,
      "content": "標準のアイコンから 96x96 px の画像 (jpg または png) を表示するように設定することができます。使用する画像を $HOME/.face にコピー、またはシンボリックリンクを作成してください。gnome-control-center パッケージには lxdm に適したデフォルトアイコンが含まれています。パッケージをインストールしてから /usr/share/pixmaps/faces を見てください。\n\n- 画像を使用するだけであれば gnome-control-center をインストールし続ける必要はありません。画像をコピーしたらパッケージは削除しても問題ありません。\n- ユーザーのディレクトリの他者のパーミッションは r-x に、.face ファイルのパーミッションは r-- にする必要があります。ただし誰でもホームディレクトリを閲覧できるようになりセキュリティが低下するので注意してください。\n- lxdm に付属しているグラフィカルツールの lxdm-config を使うことでホームディレクトリに .face ファイルを配置することができます。\n\n"
    },
    {
      "title": "同時ログインとユーザー切替",
      "level": 3,
      "content": "LXDM では同時に複数のユーザーが別々の tty にログインすることが可能です。以下のコマンドを使うことで現在のユーザーをログアウトさせずに別のユーザーでログインできます:\n\n```\n$ lxdm -c USER_SWITCH\n```\n\n"
    },
    {
      "title": "テーマ",
      "level": 3,
      "content": "LXDM のテーマは /usr/share/lxdm/themes に存在します。\n\nLXDM に付属しているテーマは Industrial というテーマだけです。テーマに含まれている背景ファイル wave.svg を表示するには librsvg のインストールが必要です。\n\nlxdm-themesAUR には追加のテーマが6個入っています: Archlinux, ArchlinuxFull, ArchlinuxTop, Arch-Dark, Arch-Stripes, IndustrialArch。その内の ArchStripes と ArchDark テーマは lxdm-gitAUR にも入っています (ファイルが衝突しないように名前が変えられています)。\n\n/etc/lxdm/lxdm.conf でテーマを設定できます:\n\n```\n## the theme of greeter\ntheme=theme_name\n```\n\n設定ファイルで GTK テーマ (/usr/share/themes に保存されています) を使うように LXDM を設定することも可能です:\n\n```\n## GTK theme\ngtk_theme=gtk_theme_name\n```\n\n"
    },
    {
      "title": "高度なセッションの設定",
      "level": 3,
      "content": "ログイン後、LXDM は以下のファイルを全て source します (上から順番に読み込まれます):\n\n1. /etc/profile\n1. ~/.profile\n1. /etc/xprofile\n1. ~/.xprofile\n\n上記のファイルを使ってセッション中の環境変数を設定して、クライアントが環境変数の設定を必要とするサービス (ssh-agent など) を起動することができます。詳しくは Xprofile を見てください。\n\nLXDM は ~/.xinitrc を読み込まないため、~/.xinitrc を使用する SLiM などのディスプレイマネージャから LXDM に移行する場合は設定を (~/.xprofile などに) 移す必要があります。また、LXDM は ~/.bash_profile も読み込まないので注意してください。\n\n~/.xinitrc ファイルを使用し続けたい場合、/etc/lxdm/PostLogin イベントファイルに以下の行を追加してください:\n\n```\nsource ~/.xinitrc\n```\n\nLXDM は .Xresources, .Xkbmap, .Xmodmap なども利用します。LXDM でセッションを設定する全ユーザー共通・ユーザー個別の設定ファイルについて詳しくは /etc/lxdm/Xsession を参照してください [1]。\n\n"
    },
    {
      "title": "黒背景で点滅する問題の修正",
      "level": 3,
      "content": "LXDM でデフォルトの theme=Industrial を使用していて背景画像を黒に設定している場合、LXDM が起動する前に点滅が表示されることがあります。テーマの bg_color: プロパティが原因です。gtk_theme=Adwaita を Adwaita-dark などのダークテーマに変更することで LXDM から遷移するときに点滅が起こりません。\n\n"
    }
  ]
}