{
  "title": "USB/IP (Português)",
  "url": "https://wiki.archlinux.org/title/USB/IP_(Portugu%C3%AAs)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Do site do USB/IP:\n\n"
    },
    {
      "title": "Instalação",
      "level": 2,
      "content": "Instale usbip.\n\n"
    },
    {
      "title": "Configuração do servidor",
      "level": 3,
      "content": "O servidor deve ter um dispositivo USB conectado fisicamente a ele e o módulo de kernel de USP/IP usbip_host carregado. Então, inicie e habilite o serviço de systemd USB/IP usbipd.service.\n\nListe os dispositivos conectados:\n\n```\n$ usbip list -l\n```\n\nVincule o dispositivo necessário. Por exemplo, para compartilhar o dispositivo tendo busid 1-1.5:\n\n```\n# usbip bind -b 1-1.5\n```\n\nPara desvincular o dispositivo:\n\n```\n$ usbip unbind -b 1-1.5\n```\n\nApós vincular, o dispositivo pode ser acessado do cliente.\n\n"
    },
    {
      "title": "Vinculando com serviços de systemd",
      "level": 4,
      "content": "Para fazer vínculo persistente seguindo o arquivo unit modelo de systemd pode ser usado:\n\n```\n/etc/systemd/system/usbip-bind@.service\n```\n\n```\n[Unit]\n Description=USB-IP Binding on bus id %I\n After=network-online.target usbipd.service\n Wants=network-online.target\n Requires=usbipd.service\n #DefaultInstance=1-1.5\n \n [Service]\n Type=simple\n ExecStart=/usr/bin/usbip bind -b %i\n RemainAfterExit=yes\n ExecStop=/usr/bin/usbip unbind -b %i \n Restart=on-failure\n \n [Install]\n WantedBy=multi-user.target\n```\n\nEntão, por exemplo, para compartilhar o dispositivo tendo busid 1-1, deve-se iniciar ou habilitar usbip-bind@1-1.service.\n\n"
    },
    {
      "title": "Configuração do cliente",
      "level": 3,
      "content": "Certifique-se que o módulo de kernel vhci-hcd está carregado.\n\nEntão, liste os dispositivos disponíveis no servidor:\n\n```\n$ usbip list -r endereço_IP_do_servidor\n```\n\nAnexe o dispositivo necessário. Por exemplo, para anexar o dispositivo tendo o busid 1-1.5:\n\n```\n$ usbip attach -r endereço_IP_do_servidor -b 1-1.5\n```\n\n"
    },
    {
      "title": "Desconectando dispositivos",
      "level": 3,
      "content": "Um dispositivo pode ser desconectado apenas após desanexá-lo no cliente.\n\nListe os dispositivos anexados:\n\n```\n$ usbip port\n```\n\nDesanexe o dispositivo:\n\n```\n$ usbip detach -p número_da_porta\n```\n\nDesvincule o dispositivo no servidor:\n\n```\n$ usbip unbind -b busid\n```\n\n"
    },
    {
      "title": "Página man",
      "level": 2,
      "content": "Veja usbip(8).\n\n"
    },
    {
      "title": "Veja também",
      "level": 2,
      "content": "- Site oficial do Projeto USB/IP\n- \"README for usbip-utils\" do kernel Linux\n- \"How To Set Up A USB-Over-IP Server And Client With Ubuntu 10.04\" (página 1 e página 2)\n\n"
    }
  ]
}