{
  "title": "GPT fdisk (Español)",
  "url": "https://wiki.archlinux.org/title/GPT_fdisk_(Espa%C3%B1ol)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **2019-11-01** \n\nArtículos relacionados\n\n- Partitioning (Español)\n- fdisk (Español)\n- GNU Parted\n- dd (Español)\n\nGPT fdisk —que consta de los programas gdisk, cgdisk, sgdisk y fixparts— es un conjunto de herramientas de particionado en modo texto creadas por Rod Smith. Funcionan en discos de tabla de particiones (GPT) con identificador único global (GUID), en lugar de en las tablas de particionado de registro de arranque maestro (MBR) más antiguas (y también smás comunes).\n\ngdisk, cgdisk y sgdisk tienen la misma funcionalidad, pero proporcionan diferentes interfaces de usuario. gdisk es interactivo en modo texto, sgdisk funciona en línea de órdenes y cgdisk tiene una interfaz basada en curses. Este artículo cubre las utilidades gdisk(8) y sgdisk(8).\n\n- Para usar la funcionalidad básica de particionado con una interfaz de usuario en modo texto, se puede utilizar cgdisk(8).\n- El sitio web de GPT fdisk dispone de tutoriales detallados para gdisk, cgdisk, sgdisk y FixParts.\n\n"
    },
    {
      "title": "Instalación",
      "level": 2,
      "content": "Instale el paquete gptfdisk.\n\n"
    },
    {
      "title": "Listar particiones",
      "level": 2,
      "content": "Para enumerar las tablas de particionado y las particiones presentes en un dispositivo de bloque, puede ejecutar lo siguiente, donde el dispositivo puede llevar por nombre /dev/sda, /dev/nvme0n1, /dev/mmcblk0, etc.:\n\n```\n# gdisk -l /dev/sda\n```\n\no, alternativamente, realizar la misma acción utilizando sgdisk:\n\n```\n# sgdisk -p /dev/sda\n```\n\n"
    },
    {
      "title": "Realizar copia de seguridad y restaurar la tabla de particiones",
      "level": 2,
      "content": "Antes de realizar cambios en un disco, es posible que desee hacer una copia de seguridad de la tabla de particionado y del esquema de particiones de la unidad. También puede usar una copia de seguridad para copiar el mismo esquema de particiones en otras unidades.\n\nUtilizando sgdisk puede crear una copia de seguridad binaria que contendrá el MBR protector, el encabezado GPT principal, el encabezado GPT de respaldo y una copia de la tabla de particiones. El siguiente ejemplo guardará la tabla de particiones de /dev/sda en un archivo sgdisk-sda.bin:\n\n```\n# sgdisk -b=sgdisk-sda.bin /dev/sda\n```\n\nLuego, puede restaurar la copia de seguridad ejecutando:\n\n```\n# sgdisk -l=sgdisk-sda.bin /dev/sda\n```\n\nSi desea clonar el esquema de particiones de su dispositivo actual (/dev/sda en este caso) en otra unidad (/dev/sdc) ejecute:\n\n```\n# sgdisk -R=/dev/sdc /dev/sda\n```\n\nSi ambas unidades están en el mismo ordenador, debe aleatorizar el disco y los GUID de las particiones:\n\n```\n# sgdisk -G /dev/sdc\n```\n\n"
    },
    {
      "title": "Crear una tabla de particionado y las particiones",
      "level": 2,
      "content": "El primer paso para particionar un disco es crear una tabla de particiones. Después de eso, las particiones reales se crean de acuerdo con el esquema de particionado deseado.\n\nAntes de comenzar, es posible que desee realizar una copia de seguridad de su actual tabla y esquema de particionado.\n\nA continuación se muestra cómo usar gdisk para realizar la creación de una tabla de particiones y la creación de las particiones reales. Alternativamente, puede usar la versión basada en curses llamada cgdisk; sin embargo, las siguientes instrucciones no se aplican a él. Vea cgdisk(8) para su uso.\n\ngdisk realiza la alineación de la partición automáticamente sobre una base de tamaño de bloque de 2048 con sectores de 512 bytes (1 MiB) que debería ser compatible con todos los formatos avanzados de discos HDD y la gran mayoría de SSD, si no todos .\n\nPara utilizar gdisk , ejecute el programa seguido del nombre del dispositivo de bloque que desea cambiar/editar. En este ejemplo usamos /dev/sda:\n\n```\n# gdisk /dev/sda\n```\n\n"
    },
    {
      "title": "Crear nueva tabla",
      "level": 3,
      "content": "Para crear una nueva GUID Partition Table (Español) y borrar todos los datos de las particiones actuales, escriba o en el prompt. Omita este paso si la tabla que necesita ya se ha creado.\n\n"
    },
    {
      "title": "Crear particiones",
      "level": 3,
      "content": "Cree una nueva partición con la orden n. Debe ingresar el número de partición, el primer sector y el último, y el tipo de partición.\n\n"
    },
    {
      "title": "Número de la partición",
      "level": 4,
      "content": "Un número de partición es el número asignado a una partición, por ejemplo, una partición con el número 1 en un disco /dev/sda sería /dev/sda1. Los números de las particiones pueden no coincidir siempre con el orden de las particiones en el disco, en cuyo caso pueden ser ordenadas.\n\nSe recomienda elegir el número predeterminado sugerido por gdisk.\n\n"
    },
    {
      "title": "Primer y último sector",
      "level": 4,
      "content": "El primer y el último sector de la partición se pueden especificar en números de sector o como posiciones medidas en kibibytes (K), mebibytes (M), gibibytes (G), tebibytes (T), o pebibytes (P);\n\nLa posición se puede especificar:\n\n- en términos absolutos, desde el inicio del disco. Por ejemplo, 40M como primer sector, especifica una posición de 40 MiB contados desde el inicio del disco;\n- en términos relativos, precediendo el tamaño con el signo +tamaño o -tamaño. Por ejemplo, +2G para especificar un punto de 2 GiB contados después del sector de inicio predeterminado, o -200M para especificar un punto 200 MiB descontados antes del último sector disponible.\n\nAl presionar la tecla Intro sin ninguna entrada, se está especificando el valor predeterminado, que es el inicio del bloque más grande disponible para el primer sector y el final del mismo bloque para el último sector.\n\n- Al particionar, siempre es una buena idea especificar tamaños de partición usando términos relativos con la notación +tamaño{M,G,T,P} y no usar tamaños menores de 1 MiB. Tales particiones siempre estarán alineadas de acuerdo con las propiedades del dispositivo.\n- Deje un espacio libre de 1 MiB en algún lugar de los primeros 2 TiB del disco (por ejemplo, utilizando +1M como primer sector de una partición) en caso de que necesite crear una BIOS boot partition (Español).\n\n"
    },
    {
      "title": "Tipo de partición",
      "level": 4,
      "content": "Seleccione el tipo de partición ingresando el código de tipo interno de gdisk o especificando el GUID del tipo de partición manualmente. El valor predeterminado, Linux filesystem (GUID: 0FC63DAF-8483-4772-8E79-3D69D8477DE4; código interno de gdisk: 8300), debería ser aceptable para la mayoría de los casos de uso.\n\nTable content:\nTipo de partición | Punto de montaje | Código de gdisk | GUID del tipo de partición\nLinux filesystem | Cualquiera | 8300 | 0FC63DAF-8483-4772-8E79-3D69D8477DE4\nEFI system partition | Cualquiera | ef00 | C12A7328-F81F-11D2-BA4B-00A0C93EC93B\nBIOS boot partition | Ninguno | ef02 | 21686148-6449-6E6F-744E-656564454649\nLinux x86-64 root (/) | / | 8304 | 4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709\nLinux swap | [SWAP] | 8200 | 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F\nLinux /home | /home | 8302 | 933AC7E1-2EB4-4F13-B844-0E14E2AEF915\nLinux /srv | /srv | 8306 | 3B8F8425-20E0-4F3B-907F-1A25A76F98E8\nLinux LVM | Cualquiera | 8e00 | E6D6D379-F507-44C2-A23C-238F2A3DF928\nLinux RAID | Cualquiera | fd00 | A19D880F-05FC-4D3B-A006-743F0F84911E\nLinux LUKS | Cualquiera | 8309 | CA7D7CCB-63ED-4C53-861C-1742536059CC\nLinux dm-crypt | Cualquiera | 8308 | 7FFEC5C9-2D00-49B7-8941-3EA10A5586B7\n\n- Presione L para mostrar la lista de códigos internos de gdisk.\n- Se recomienda seguir la Especificación de particiones detectables ya que systemd-gpt-auto-generator(8) las montará automáticamente. Consulte #Prevenir el montaje automático de la partición GPT si desea desactivar el montaje automático para una partición.\n\nRepita este procedimiento hasta que tenga las particiones que desea.\n\n"
    },
    {
      "title": "Escribir los cambios en el disco",
      "level": 3,
      "content": "Escriba la tabla en el disco y salga mediante la orden w.\n\n"
    },
    {
      "title": "Conversión de MBR a GPT (y viceversa)",
      "level": 3,
      "content": "gdisk, sgdisk y cgdisk tienen la capacidad de convertir MBR y BSD disklabels a GPT sin pérdida de datos. Tras la conversión, todas las particiones primarias MBR y las particiones lógicas se convierten en particiones GPT con los GUID de tipo de partición correctos y los GUID de partición únicos creados para cada partición.\n\nDespués de la conversión, será necesario reinstalar el gestor de arranque para configurarlo para que arranque desde GPT.\n\n- GPT almacena una tabla secundaria al final del disco. Esta estructura de datos consume 33 sectores de 512 bytes (16,5 KiB) por defecto. MBR no tiene una estructura de datos similar en su extremo final del disco, lo que significa que la última partición en un disco MBR, a veces, se extiende hasta el final del disco, evitando así la conversión completa. Si este es el caso, debe abortar la conversión y cambiar el tamaño de la partición final (antes de volver a continuar).\n\n- Existen problemas de corrupción conocidos con el GPT de respaldo en portátiles que están basados en el chipset Intel y se ejecutan en modo RAID. La solución es usar AHCI en lugar de RAID, si es posible.\n\nPara convertir una tabla de partición MBR a GPT usando sgdisk, utilice la opción -g/--mbrtogpt:\n\n```\n# sgdisk -g /dev/sda\n```\n\nPara convertir GPT a MBR, utilice la opción -m/--gpttombr. Tenga en cuenta que no es posible convertir más de cuatro particiones de GPT a MBR.\n\n```\n# sgdisk -m /dev/sda\n```\n\n"
    },
    {
      "title": "Ordenar particiones",
      "level": 3,
      "content": "Esto es aplicable cuando se crea una nueva partición en el espacio entre dos particiones o se elimina una partición. /dev/sda se utiliza en este ejemplo.\n\n```\n# sgdisk -s /dev/sda\n```\n\nDespués de ordenar las particiones si no está utilizando Persistent block device naming (Español), puede ser necesario ajustar la configuración de /etc/fstab y/o la configuración del archivo /etc/crypttab.\n\n"
    },
    {
      "title": "Recuperar encabezado GPT",
      "level": 3,
      "content": "En caso de que el encabezado GPT principal o el encabezado GPT de respaldo se dañen, puede recuperar uno desde el otro con gdisk. /dev/sda se utiliza en este ejemplo.\n\n```\n# gdisk /dev/sda\n```\n\nelija r para las opciones de recuperación y transformación (solo expertos). A partir de ahí, elija entre:\n\n- b: utiliza el encabezado GPT de respaldo (reconstrucción principal)\n- d: utiliza el encabezado GPT principal (reconstrucción de la copia de seguridad)\n\nCuando termine, escriba la tabla en el disco y salga con la orden w.\n\n"
    },
    {
      "title": "Expandir un disco GPT",
      "level": 3,
      "content": "Después de agrandar un disco (por ejemplo, en hardware RAID (Español) o un disco de máquina virtual) el espacio libre recién agregado no se podrá utilizar de inmediato ya que GPT mantiene los datos al final del disco. Debe reubicar el encabezado GPT de respaldo al nuevo extremo del disco.\n\nEjecute sgdisk con la opción -e/--move-second-header, por ejemplo:\n\n```\n# sgdisk -e /dev/sda\n```\n\nLuego imprima la tabla de particiones; el espacio libre total ahora debería haberse incrementado.\n\n"
    },
    {
      "title": "Prevenir el montaje automático de la partición GPT",
      "level": 3,
      "content": "systemd-gpt-auto-generator(8) montará automáticamente las particiones siguiendo la Especificación de particiones detectables. A veces eso puede no ser lo deseable.\n\nEl montaje automático puede desactivarlo configurando el atributo de partición 63 \"do not automount\" en la partición.\n\nInicie gdisk, por ejemplo:\n\n```\n# gdisk /dev/sda\n```\n\nPresione p para imprimir la tabla de particiones y tome nota de los números de partición para los que desea desactivar el montaje automático.\n\nPresione x extra functionality (experts only).\n\nPresione a set attributes. Ingrese el número de partición y establezca el atributo 63. En Set fields are: ahora debería mostrar 63 (do not automount). Presione Intro para finalizar el cambio de atributo. Repita este proceso para todas las particiones que desee evitar que se monten automáticamente.\n\nCuando termine, escriba la tabla en el disco y salga con la orden w.\n\nAlternativamente, utilizando sgdisk, el atributo se puede establecer usando la opción -A/--attributes=; vea sgdisk(8) para su utilización. Por ejemplo, para establecer el atributo de partición 63 \"do not automount\" en /dev/sda2 ejecute:\n\n```\n# sgdisk -A 2:set:63 /dev/sda\n```\n\n"
    },
    {
      "title": "Apliación gdisk para EFI",
      "level": 3,
      "content": "No hay un paquete gdisk para la versión EFI, pero Rod Smith proporciona un binario gdisk precompilado para EFI en SourceForge. Descargue gdisk-efi-*.zip y extraiga el archivo. Para usarlo, copie gdisk_x64.efi en la EFI system partition y láncelo desde su gestor de arranque o Intérprete de órdenes UEFI.\n\ngdisk_x64.efi le permite editar la tabla de particiones incluso antes de que se inicie el sistema operativo. Se usa de la misma manera que el binario gdisk en Linux.\n\nConsulte README-efi.txt para obtener más información.\n\n"
    },
    {
      "title": "Véase también",
      "level": 2,
      "content": "- GPT fdisk Tutorial — página web oficial de GPT fdisk con tutoriales detallados.\n- página SourceForge de GPT fdisk\n\n"
    }
  ]
}