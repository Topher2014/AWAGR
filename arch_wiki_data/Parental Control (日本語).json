{
  "title": "Parental Control (日本語)",
  "url": "https://wiki.archlinux.org/title/Parental_Control_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "コンピュータにおける子供の活動を保護そして制限する方法は複数存在します。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 アプリケーション\n- 2 Tinyproxy と Firehol によるホワイトリスト\n- 3 OpenDNS のペアレンタルコントロール\n- 4 /etc/hosts の編集\n- 5 ブラウザアドオン\n\n"
    },
    {
      "title": "アプリケーション",
      "level": 2,
      "content": "- timekpr — ユーザーアカウントの利用をコントロールするプログラム。timed デーモンで利用時間を制限して、ユーザーがログインできる時間を設定できます。時間が迫るとトレイバーのクライアントがユーザーに警告を表示します。管理はグラフィカルな GTK の GUI で行えます。\n\n- timeoutd — timekpr の軽量な代替。毎分 /var/run/utmp をスキャンして /etc/timeouts の制限ユーザーと一致するエントリをチェックします。アイドル時間、ログイン時間、最大時間、時刻による制限ができます。\n\n- logkeys — キーボード入力をログファイルに記録して後で点検できるデーモン。デフォルトでは /var/log にログファイルが保存されますが、暗号化されたパーティションに移動することが推奨されています。ログファイルにはシステムで入力したパスワードなども全て記録されるからです。英語配列以外のキーボードを使用している場合、--keymap オプションを使ってください。監督目的で使う場合は、--no-func-keys オプションが推奨です。\n\n- DansGuardian。Arch が搭載されたルーターで DansGuardian を実行することで物理ネットワーク内の他のデバイスからインターネットへのアクセスを制限できます。\n\n"
    },
    {
      "title": "Tinyproxy と Firehol によるホワイトリスト",
      "level": 2,
      "content": "以下の記述を使えば、fireholAUR や tinyproxy (または tinyproxy-gitAUR) を使って、ホワイトリストでインターネットへのアクセスをフィルタリングすることができます。\n\n/etc/tinyproxy/tinyproxy.conf には以下の変更を施します:\n\n```\nFilterURLs On\nFilterDefaultDeny Yes\nFilter \"/etc/tinyproxy/whitelist\"\n```\n\n/etc/tinyproxy/whitelist には制限ユーザーがアクセスできる url を記述します。例:\n\n```\n(www|wiki|static).archlinux.org\ngoogle.com\n```\n\n/etc/firehol/firehol.conf には次の行を含めます:\n\n```\ntransparent_proxy \"80 443\" 8888 \"nobody root bin myaccount\"\n```\n\nmyaccount は Tinyproxy によるフィルタリングをかけないアカウントに置き換えてください。\n\n"
    },
    {
      "title": "OpenDNS のペアレンタルコントロール",
      "level": 2,
      "content": "OpenDNS は ISP のデフォルトの DNS サーバーに代わるフリーの DNS サービスを提供しています。さらに、OpenDNS にはフィルタリング機能のオプションもあります。様々なレベルのフィルタリングが可能です。詳しくは OpenDNS のメインページを見て下さい。\n\n動的 IP アドレスの場合、OpenDNS でアップデートさせると良いでしょう。ddclient を使って以下のように /etc/ddclient/ddclient.conf を編集します:\n\n```\n# OpenDNS.com account-configuration\nuse=web, web=myip.dnsomatic.com\nserver=updates.opendns.com\nprotocol=dyndns2\nlogin=myopendns@email.address\npassword=myopendnspassword\nmyhostname\n```\n\n"
    },
    {
      "title": "/etc/hosts の編集",
      "level": 2,
      "content": "/etc/hosts ファイルで、特定のドメインへのアクセスをブロックするように設定することができます。より厳密な方法としては、ここで説明するように、/etc/hosts に明示的に記述されたドメインのみを許可することです。この場合、システム全体に影響することを忘れないでください。例えば、/etc/hosts で適切なバインドをしないと pacman がアップデートサーバーに接続できなくなります。\n\n"
    },
    {
      "title": "ブラウザアドオン",
      "level": 2,
      "content": "ウェブブラウザには、ウェブコンテンツをフィルタリングするためのアドオンがいくつか存在します。その中には、URL だけでなく、本文を調べてページをブロックできるものもあります。しかし、これはあまり安全な方法ではないので、注意してください。Firefox をセーフモードで起動したり、Firefox のプロファイルディレクトリや Firefox プロファイルマネージャをいじったりすることは、Firefox ベースのアドオンをシャットダウンしようとする明らかな方法です。他のすべてが失敗した場合、子供は単に別のブラウザを使用することができます。\n\n"
    }
  ]
}