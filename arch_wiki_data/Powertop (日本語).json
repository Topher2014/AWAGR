{
  "title": "Powertop (日本語)",
  "url": "https://wiki.archlinux.org/title/Powertop_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- 省電力設定\n- Laptop Mode Tools\n- TLP\n\nPowertop はユーザースペースやカーネル、ハードウェアに存在する様々な省電力モードを有効にするツールで、Intel によって提供されています。プロセスを監視して、どのプロセスが CPU を利用しているのか表示したりアイドル状態から起き上がらせることができます。また、電力を多く消費しているアプリケーションを見分けることが可能です。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 使用方法 2.1 設定の適用\n- 3 トラブルシューティング 3.1 Error: Cannot load from file 3.2 測定を正確にするためのキャリブレーション\n- 4 参照\n\n- 2.1 設定の適用\n\n- 3.1 Error: Cannot load from file\n- 3.2 測定を正確にするためのキャリブレーション\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "powertop パッケージを インストール してください。\n\n"
    },
    {
      "title": "使用方法",
      "level": 2,
      "content": "Powertop は消費電力を削減する方法を提案します。しかしながら、インタラクティブモードでは powertop はパラメータを表示しません。どれが提案されているのか確認するには、以下の手順を踏んでください:\n\n1. (powertop などで) パラメータを変更している場合、再起動してシステムのパラメータの状態をデフォルトに戻してください。\n1. powertop を使用して、パラメーターに関するレポートを作成します。: # powertop --html=powerreport.html\n1. お気に入りの Web ブラウザでレポートを開きます。レポートの チューニング タブに、電力を節約するためのツールによって提案された実際のパラメーターが表示されるようになりました。次のコマンドを抽出できます $ awk -F '</?td ?>' '/tune/ { print $4 }' powerreport.html\n\n```\n# powertop --html=powerreport.html\n```\n\n```\n$ awk -F '</?td ?>' '/tune/ { print $4 }' powerreport.html\n```\n\n"
    },
    {
      "title": "設定の適用",
      "level": 3,
      "content": "提案されている設定を自動的に適用する方法が2つ存在します:\n\n- 推奨: カーネルモジュールのパラメータや udev ルール、sysctl を使って起動時に設定を適用させることができます。詳しくは、省電力設定のページを見てください。\n- powertop の --auto-tune 機能を使用することで全てのオプションを GOOD 設定にすることができます。これを systemd サービスと組み合わせて、起動時に調整パラメータを設定できます。忘れずにサービスを 起動/有効化 してください。\n\n```\n/etc/systemd/system/powertop.service\n```\n\n```\n[Unit]\nDescription=Powertop tunings\n\n[Service]\nExecStart=/usr/bin/powertop --auto-tune\nRemainAfterExit=true\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\"有線マウス\" がすでにシステムに接続されている場合、起動時に切断されないようにするために、この行を [Service] セクションに追加することもできます。\n\n```\nExecStartPost=/usr/bin/bash -c '/usr/bin/echo on > $(grep -Rl \"Wired Mouse\" /sys/bus/usb/devices/*/product | sed \"s/product/power\\/control/\") || true'\n```\n\n"
    },
    {
      "title": "Error: Cannot load from file",
      "level": 3,
      "content": "powertop の実行時に以下のようなエラーが表示される場合、おそらく powertop がまだ十分な測定データを収集できていません。バッテリー稼働のまま、一定時間 powertop を実行し続ける必要があります。\n\n```\nLoaded 39 prior measurements\nCannot load from file /var/cache/powertop/saved_parameters.powertop\nCannot load from file /var/cache/powertop/saved_parameters.powertop\n```\n\n"
    },
    {
      "title": "測定を正確にするためのキャリブレーション",
      "level": 3,
      "content": "測定が不正確な場合、最初に powertop をキャリブレーションする必要があります。キャリブレーションは --calibrate パラメータをつけて powertop を実行することで行えます:\n\n```\n# powertop --calibrate\n```\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- 公式サイト\n- Wikipedia の記事\n\n"
    }
  ]
}