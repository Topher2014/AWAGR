{
  "title": "Ресурсы X",
  "url": "https://wiki.archlinux.org/title/%D0%A0%D0%B5%D1%81%D1%83%D1%80%D1%81%D1%8B_X",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- X Logical Font Description\n- dotfiles\n\nXresources — настраиваемый пользователем dotfile, обычно находящийся по пути ~/.Xresources. Он может быть использован для установки ресурсов X — настроек для клиентских приложений X.\n\nОни могут сделать много операций, в том числе:\n\n- настроить параметры терминала (например, цвета)\n- задать DPI монитора, сглаживание (antialiasing), хинтование (hinting) и другие настройки шрифтов X\n- изменить тему Xcursor\n- установить тему XScreenSaver\n- изменять предпочтения низкоуровневых приложений X (xclock (xorg-xclock), xpdf, rxvt-unicode, и т.д.)\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите пакет xorg-xrdb.\n\n"
    },
    {
      "title": "Загрузка файла ресурсов",
      "level": 3,
      "content": "Ресурсы хранятся на X-сервере, поэтому файлы ресурсов достаточно прочитать всего один раз. Они также доступны для удалённых клиентов X11 (например, при пробросе X11 через SSH).\n\nЗагрузка файла ресурсов (например, общепринятого .Xresources) с заменой всех текущих настроек:\n\n```\n$ xrdb ~/.Xresources\n```\n\nЗагрузка файла ресурсов и объединение с текущими настройками:\n\n```\n$ xrdb -merge ~/.Xresources\n```\n\n- Большинство экранных менеджеров автоматически загружают файл ~/.Xresources при входе.\n- Старый файл ~/.Xdefaults считывается при запуске программы X11, но только если команда xrdb не использовалась в текущем сеансе. [1]\n\n"
    },
    {
      "title": "xinitrc",
      "level": 3,
      "content": "Если вы используете копию стандартного xinitrc в качестве .xinitrc, в нём уже прописано объединение с ресурсами из ~/.Xresources.\n\nЕсли у вас свой .xinitrc, добавьте в него следующую строку:\n\n```\n[[ -f ~/.Xresources ]] && xrdb -merge -I$HOME ~/.Xresources\n```\n\n"
    },
    {
      "title": "Настройки по умолчанию",
      "level": 3,
      "content": "Для просмотра настроек по умолчанию для установленных приложений X11, смотрите /usr/share/X11/app-defaults/.\n\nПодробная информация о конкретных программных ресурсах, как правило, предоставляется на страницах руководства программ (man). Хорошим примером является руководство xterm, так как оно содержит список ресурсов Х и их значения по умолчанию.\n\nЧтобы увидеть текущие загруженные ресурсы:\n\n```\n$ xrdb -query -all\n```\n\n"
    },
    {
      "title": "Основной синтаксис",
      "level": 4,
      "content": "Файл Xresources состоит из строк в таком формате:\n\n```\nимя.Класс.ресурс: значение\n```\n\nПодстрока ресурс может содержать дополнительные разделители-точки (имя и Класс никогда не содержат разделители). Например, Dialog.bodyFont — это внутренний ресурс XScreenSaver, позволяющий задать шрифт:\n\n```\nxscreensaver-auth.default.Dialog.bodyFont: times new roman 12, dejavu serif 12\n```\n\n- Integer (целые числа)\n- Boolean (true/false, yes/no, on/off (т.е. верно/неверно, да/нет, вкл/выкл)\n- String (строка символов) (например слово (white), цвет (#ffffff), или путь (/usr/bin/firefox))\n\n"
    },
    {
      "title": "Сопоставление по шаблону",
      "level": 4,
      "content": "Можно использовать вопросительный знак ? и звёздочку * в качестве шаблона, что позволяет написать одно правило, которое будет применено сразу ко многим приложениям или элементам. Вопросительный знак соответствует одному компоненту, а звёздочка соответствует любому количеству промежуточных компонентов, в том числе нулю.\n\nВоспользуемся предыдущим примером, если вы хотите применить тот же шрифт для всех программ (не только для XScreenSaver) которые содержат имя класса Dialog, и которое содержит имя ресурса headingFont, можно записать так:\n\n```\n?.Dialog.headingFont:     -*-fixed-bold-r-*-*-*-100-*-*-*-*-iso8859-1\n```\n\nЕсли вы хотите применить это правило для всех программ, которые содержат ресурс headingFont, независимо от его класса, вы можете написать:\n\n```\n*headingFont:    -*-fixed-bold-r-*-*-*-100-*-*-*-*-iso8859-1\n```\n\nПодробнее можно прочитать в XrmGetResource(3) § MATCHING_RULES.\n\n"
    },
    {
      "title": "Комментарии",
      "level": 4,
      "content": "Строки, начинающиеся с восклицательного знака (!), игнорируются:\n\n```\n! Следующее правило будет игнорироваться, поскольку оно было закомментировано\n!Xft.antialias:        true\n```\n\nВосклицательный знак должен быть самым первым символом в строке.\n\n"
    },
    {
      "title": "Включение файлов",
      "level": 4,
      "content": "Чтобы использовать различные файлы для каждого приложения, используйте #include в главном файле. Например:\n\n```\n~/.Xresources\n```\n\n```\n#include \".Xresources.d/xterm\"\n#include \".Xresources.d/rxvt-unicode\"\n#include \".Xresources.d/fonts\"\n#include \".Xresources.d/xscreensaver\"\n```\n\nЕсли файлы не удалось загрузить, укажите каталог для xrdb с параметром -I. Например:\n\n```\n~/.xinitrc\n```\n\n```\nxrdb -I$HOME ~/.Xresources\n```\n\n"
    },
    {
      "title": "Получение значений ресурсов",
      "level": 3,
      "content": "Если вы хотите получить значение ресурса (например, для использования в bash-скриптах), можно использовать xgetresAUR:\n\n```\n$ xgetres xscreensaver.Dialog.headingFont\n-*-fixed-bold-r-*-*-*-100-*-*-*-*-iso8859-1\n```\n\n"
    },
    {
      "title": "Примеры использования",
      "level": 2,
      "content": "Следующие примеры помогут понять, какие настройки приложения могут быть изменены с помощью файла Xresources. Больше примеров можно посмотреть здесь. Для получения подробной информации обратитесь к справочной странице интересующего вас приложения.\n\n- Color output in console (Русский)#Эмуляторы терминала\n- Темы курсора#X resources\n- Настройка шрифтов#Приложения без поддержки fontconfig\n- xterm (Русский)#Настройка\n- rxvt-unicode (Русский)#Настройка\n- xpdf(1) § OPTIONS\n\n"
    },
    {
      "title": "Ошибки чтения (парсинга) файла ~/.Xresources",
      "level": 3,
      "content": "Экранные менеджеры, такие как GDM, могут запускать xrdb с опцией --nocpp.\n\n"
    },
    {
      "title": "Пустой вывод xrdb -query",
      "level": 3,
      "content": "Нередко xrdb -query ничего не выводит. Попробуйте выполнить команды, описанные в разделах #Загрузка файла ресурсов и #xinitrc. Имейте в виду, что некоторые из файлов могут оказаться пустыми.\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- Конфиг:Xresources (Рус.)\n- Using the Xdefaults File - Статья с углублением о том, как X интерпретирует файл Xdefaults\n\n"
    }
  ]
}