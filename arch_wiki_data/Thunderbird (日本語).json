{
  "title": "Thunderbird (日本語)",
  "url": "https://wiki.archlinux.org/title/Thunderbird_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- Thunderbird/Enigmail\n- Firefox\n\nMozilla Thunderbird は肥大化を避けつつ､多機能でシンプルなメール､ニュースグループとニュースフィードのクライアントです｡POP, IMAP, SMTP, S/MIME と (Enigmail 拡張による) OpenPGP による暗号化をサポートしています｡Firefox と同じく、機能を追加するための様々な拡張とアドオンが揃っています。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 安全性の確保\n- 3 拡張機能 3.1 OpenPGP: 署名と暗号化\n- 4 ヒントとテクニック 4.1 設定エディタ 4.2 デフォルトブラウザの設定 4.3 プレーンテキストモードとフォントの統一 4.4 他の環境にプロファイルを移行 4.5 エクスポート + インポート 4.6 デフォルトのソート順を変更 4.7 Maildir のサポート 4.8 スペルチェック 4.9 ネイティブの通知 4.10 通知音 4.11 テーマの設定 4.12 キーボードバインディング 4.13 外部 GnuPG で OpenPGP を使用する 4.14 Wayland 4.15 Tor\n- 5 トラブルシューティング 5.1 LDAP Segfault 5.2 Error: Incoming server already exists 5.3 新しいメッセージの受信時に Thunderbird の UI がフリーズする 5.4 LC_TIME 環境変数が無視されます 5.5 G Suite アカウントで OAuth2 を使用すると、Authentication failure while connecting to server imap.gmail.com エラーが発生する 5.6 Outlook 365 SMTP が OAuth2 認証での認証に失敗する\n\n- 3.1 OpenPGP: 署名と暗号化\n\n- 4.1 設定エディタ\n- 4.2 デフォルトブラウザの設定\n- 4.3 プレーンテキストモードとフォントの統一\n- 4.4 他の環境にプロファイルを移行\n- 4.5 エクスポート + インポート\n- 4.6 デフォルトのソート順を変更\n- 4.7 Maildir のサポート\n- 4.8 スペルチェック\n- 4.9 ネイティブの通知\n- 4.10 通知音\n- 4.11 テーマの設定\n- 4.12 キーボードバインディング\n- 4.13 外部 GnuPG で OpenPGP を使用する\n- 4.14 Wayland\n- 4.15 Tor\n\n- 5.1 LDAP Segfault\n- 5.2 Error: Incoming server already exists\n- 5.3 新しいメッセージの受信時に Thunderbird の UI がフリーズする\n- 5.4 LC_TIME 環境変数が無視されます\n- 5.5 G Suite アカウントで OAuth2 を使用すると、Authentication failure while connecting to server imap.gmail.com エラーが発生する\n- 5.6 Outlook 365 SMTP が OAuth2 認証での認証に失敗する\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "thunderbird パッケージをインストールしてください。必要であれば 言語パック もインストールしてください。\n\n他のバージョン:\n\n- Thunderbird Beta — 比較的安定していながら最新の機能を搭載。\n\n- Thunderbird Nightly — ナイトリーリリースの最新版 (破壊を求める人向け)。\n\nバージョンに関する詳細は Mozilla wiki で確認できます。\n\n"
    },
    {
      "title": "安全性の確保",
      "level": 2,
      "content": "- Thunderbird は、HELO/ELHO SMTP コマンドの引数として、設定された SMTP サーバーにシステムの内部 IP アドレスを送信します。この値は mail.smtpserver.default.hello_argument を例えば localhost に設定することで上書きすることができます。この値を設定すると、送信するメッセージのスパムスコアが上がるかもしれません。[1] と [2] を参照してください。\n- Thunderbird の ユーザーエージェント を非表示にするには、設定エディタ で新しい空のgeneral.useragent.override 文字列エントリを作成します。\n- Thunderbird はデフォルトでメール画像を無効にしていますが、IP アドレスと位置情報を公開する可能性のある HTML レンダリングは有効にしています。これを無効にするには View > Message Body As > Plain Text をクリックしてください。\n- JavaScript はメッセージコンテンツでは無効になっていますが、RSSニュースフィードでは無効になっていません。無効にするには 設定エディタ で javascript.enabled を false に設定してください。\n\n- javascript.enabled を false に設定すると、OAuth ダイアログの Javascript もオフになります。\n- general.useragent.override を空の文字列に設定すると、Duo MFA が機能しなくなることが知られています。web-bugs#104558 を参照してください。\n\n"
    },
    {
      "title": "拡張機能",
      "level": 2,
      "content": "- 拡張子を必要としないシステムトレイの新着メール通知。システムトレイアイコンを使用して Thunderbird を実行します。 — https://github.com/gyunaev/birdtray\n\n- SysTray-X — システムトレイの拡張機能。FireTray に似ていますが、Thunderbird 68 以降で動作します。\n\n- SOGo Connector — CardDAV で連絡先を同期。\n\n- Cardbook — CARDDav と VCARD 標準に基づく Thunderbird の新しいアドレス帳。\n\n"
    },
    {
      "title": "OpenPGP: 署名と暗号化",
      "level": 3,
      "content": "Thunderbird 78.2.1 以降、この機能は Thunderbird に統合されています。これは以前は Enigmail アドオンによって提供されていましたが、Thunderbird 78 以降とは互換性がありません。Enigmail から Thunderbird にキーを移行し、現在サポートされている内容を確認するには、Thunderbird OpenPGP FAQ を参照してください。移行前に、マスターパスワードに強力なパスフレーズが使用されていることを確認してください。そうしないと、秘密キーが適切に保護されません。\n\n"
    },
    {
      "title": "設定エディタ",
      "level": 3,
      "content": "Thunderbird の細かい設定は Thunderbird メニュー > 設定 > 一般 > 設定エディター から行うことができます。\n\n"
    },
    {
      "title": "デフォルトブラウザの設定",
      "level": 3,
      "content": "最近のバージョンの Thunderbird はシステムの MIME 設定によって定義されたデフォルトブラウザを使用します。デフォルトブラウザは Gnome Control Center (Gnome Control Center > Details > Default Applications > Web) (gnome-control-center パッケージに入っています) から修正することができます。\n\nThunderbird の Edit > Preferences > Advanced > General > Config Editor から network.protocol-handler.warn-external を検索してデフォルトブラウザを上書きすることが可能です。\n\n以下の設定が全て false (デフォルト) に設定されている場合、true に変更すると、Thunderbird はリンクをクリックしたときに使用するアプリケーションを尋ねるようになります (\"Remember my choice for .. links\" にチェックを入れて下さい)。\n\n```\nnetwork.protocol-handler.warn-external.http\nnetwork.protocol-handler.warn-external.https\n```\n\n"
    },
    {
      "title": "プレーンテキストモードとフォントの統一",
      "level": 3,
      "content": "プレーンテキストモードは全てのメールを HTML レンダリングせずに表示します。View > Message Body As から変更することができます。デフォルトフォントは Monospace ですがフォントサイズはシステムの fontconfig 設定が継承されます。次の例では10ピクセルの Ubuntu Mono (ttf-ubuntu-font-family) で上書きします。\n\nシステムのフォントキャッシュを更新するために fc-cache -fv の実行を忘れないでください。詳しくはフォント設定を見てください。\n\n```\n~/.config/fontconfig/fonts.conf\n```\n\n```\n<?xml version=\"1.0\"?>\n<!DOCTYPE fontconfig SYSTEM \"fonts.dtd\">\n<fontconfig>\n  <match target=\"pattern\">\n    <test qual=\"any\" name=\"family\"><string>monospace</string></test>\n    <edit name=\"family\" mode=\"assign\" binding=\"same\"><string>Ubuntu Mono</string></edit>\n    <!-- For Thunderbird, lowering default font size to 10 for uniformity -->\n    <edit name=\"pixelsize\" mode=\"assign\"><int>10</int></edit>\n  </match>\n</fontconfig>\n```\n\n"
    },
    {
      "title": "他の環境にプロファイルを移行",
      "level": 3,
      "content": "インポート・エクスポートを行う前に ~/.thunderbird プロファイルのバックアップを作成してください:\n\n```\n$ cp -R ~/.thunderbird /to/backup/folder/\n```\n\n現在の Thunderbird プロファイルを他の PC にコピーすることで移行することができます:\n\n1. 移行先の PC に Thunderbird をインストール。\n\n2. Thunderbird を起動して何もせずに終了。\n\n3. バックアップを移行先のプロファイルフォルダ ~/.thunderbird/<newrandomnumber>.default/ にコピー:\n\n```\n$ cp -R /to/backup/folder/.thunderbird/<oldrandomnumber>.default/* ~/.thunderbird/<newrandomnumber>.default/\n```\n\n"
    },
    {
      "title": "エクスポート + インポート",
      "level": 3,
      "content": "インポートやエクスポートを始める前に、~/.thunderbird プロファイルをバックアップしてください:\n\n```\n$ cp -R ~/.thunderbird /to/backup/folder/\n```\n\nアカウントが壊れてしまっている場合や別の環境に Thunderbird をインストールしたい場合、Import and Export アドオン (例: ImportExportTools AddOn) をインストールして全てのデータをエクスポートして新しい環境にデータをインポートするのが良いでしょう。\n\n"
    },
    {
      "title": "デフォルトのソート順を変更",
      "level": 3,
      "content": "デフォルトで Thunderbird は日付の古い順でメールをソートし、スレッドにまとめません。フォルダごとにソート方法を変えることはできますが、Superuser.com の投稿 で説明されているようにデフォルト設定を変えるほうが楽です。\n\n設定エディタで以下を設定してください:\n\n```\nmailnews.default_sort_order = 2 (降順)\nmailnews.default_view_flags = 1 (スレッドビュー)\n```\n\n"
    },
    {
      "title": "Maildir のサポート",
      "level": 3,
      "content": "デフォルトではメッセージの保存形式として mbox が使われます。Maildir を使用する方法は Mozilla wiki: Thunderbird/Maildir を見てください。基本的には設定エディタで以下の設定が必要です:\n\n```\nmail.serverDefaultStoreContractID = @mozilla.org/msgstore/maildirstore;1\n```\n\nただしサポートされているのは \"tmp\" と \"cur\" ディレクトリだけです。\"new\" ディレクトリは完全に無視されます。メールの既読状態は別の \".msf\" ファイルに保存されるため、Maildir を使用した場合、たとえ \"cur\" ディレクトリにメールがあったとしてもローカルメールは最初未読状態になります。\n\n"
    },
    {
      "title": "スペルチェック",
      "level": 3,
      "content": "hunspell と hunspell の辞書 をインストールして Thunderbird を再起動してください。\n\nFirefox#Firefox がデフォルトのスペルチェック辞書を記憶しないも参照。\n\n"
    },
    {
      "title": "ネイティブの通知",
      "level": 3,
      "content": "設定エディタ で mail.biff.use_system_alert を有効にしてください。新しいバージョンの Thunderbird では (Gnome Integration などの) 拡張は不要です。\n\n"
    },
    {
      "title": "通知音",
      "level": 3,
      "content": "Thunderbird は、新しいメールを受信したときやカレンダーのリマインダーが送信されたときにサウンドを再生するように設定できます。これには libcanberra が必要です。\n\n"
    },
    {
      "title": "テーマの設定",
      "level": 3,
      "content": "Thunderbird はシステムで定義されている GTK#テーマ に準拠します。ただし、完全にテーマを適用するには設定が必要です。ダークテーマで特に有効です。\n\n1. メールの内容をテーマに沿った色で表示するには: Menu > Preferences > Preferences を開く Display タブを選択 Colors ボタンをクリック Use system colors にチェックを入れる Override the colors specified by the content with my selection above のオプションを Always または Only with High Contrast themes に設定\n1. Lightning カレンダーをテーマに沿った色で表示するには: Menu > Preferences > Preferences を開く Calendar タブを選択 Optimize colors for accessibility にチェックを入れる\n\n1. Menu > Preferences > Preferences を開く\n1. Display タブを選択\n1. Colors ボタンをクリック\n1. Use system colors にチェックを入れる\n1. Override the colors specified by the content with my selection above のオプションを Always または Only with High Contrast themes に設定\n\n1. Menu > Preferences > Preferences を開く\n1. Calendar タブを選択\n1. Optimize colors for accessibility にチェックを入れる\n\nuserchrome.css を作成・編集することでさらに細かいカスタマイズが可能です。Firefox 設定#一般的なユーザーインターフェイスの CSS 設定 や Mozillazine の userchrome ページ を見てください。\n\n"
    },
    {
      "title": "キーボードバインディング",
      "level": 3,
      "content": "残念ながら、Thunderbird には、キーボードの「a」キーを押してもメッセージがアーカイブされないようなシングルキーバインドを簡単に無効化する方法がありません。tbkeys-lite 拡張はこのようなバインディングを編集、削除する手段を提供し、Thunderbird 68.0 以降で利用可能です。\n\n"
    },
    {
      "title": "外部 GnuPG で OpenPGP を使用する",
      "level": 3,
      "content": "v78.1 以降、Thunderbird には、以前は Enigmail などのアドオンによって提供されていた統合 OpenPGP サポートが同梱されるようになりました。アップデート後の最初の起動時に、既存の Enigmail キーを Thunderbird に移行するよう提案されます。秘密鍵を Thunderbird 内に保存したくない場合は、外部の GnuPG インストールで Thunderbird を使用して、鍵を安全に保管したり、スマートカードを使用したりすることができます。\n\n1. Thunderbird に保存されている OpenPGP 鍵を表示するには: メニュー > ツール > OpenPGP キーマネージャ にアクセスする。 自分の鍵を見やすくするために, View > Display Keys from other people を無効にします。プライベート鍵は太字で表示されます。 現在の鍵を確認し、場合によっては削除する。 File > Import public key を使用して、使用したい外部秘密鍵の 公開鍵を読み込む。GnuPG#公開鍵のエクスポート を参照。\n1. Thunderbird で外部 GnuPG サポートを有効にするには: gnupg と gpgme がインストールされていることを確認してください。C ライブラリがインストールされていて、関連するキーが利用可能 もしくは キーペアを作成する ができていることを確認してください。 設定エディタ を開く。 mail.openpgp.allow_external_gnupg を検索し、その値を true に設定する。 メニュー > アカウント設定 に移動し、使用するアカウントを選択します。次に Manage Identities をクリックし、編集したい Identity を選択します。Edit > End-To-End Encryption > Add Key をクリックします。Use your external key through GnuPG を選択し、GnuPG の鍵 ID を貼り付ける。鍵 ID は主鍵指紋の最後の16文字であることに注意してください。\n\n1. メニュー > ツール > OpenPGP キーマネージャ にアクセスする。\n1. 自分の鍵を見やすくするために, View > Display Keys from other people を無効にします。プライベート鍵は太字で表示されます。\n1. 現在の鍵を確認し、場合によっては削除する。\n1. File > Import public key を使用して、使用したい外部秘密鍵の 公開鍵を読み込む。GnuPG#公開鍵のエクスポート を参照。\n\n1. gnupg と gpgme がインストールされていることを確認してください。C ライブラリがインストールされていて、関連するキーが利用可能 もしくは キーペアを作成する ができていることを確認してください。\n1. 設定エディタ を開く。\n1. mail.openpgp.allow_external_gnupg を検索し、その値を true に設定する。\n1. メニュー > アカウント設定 に移動し、使用するアカウントを選択します。次に Manage Identities をクリックし、編集したい Identity を選択します。Edit > End-To-End Encryption > Add Key をクリックします。Use your external key through GnuPG を選択し、GnuPG の鍵 ID を貼り付ける。鍵 ID は主鍵指紋の最後の16文字であることに注意してください。\n\nさらに詳しい説明や特殊な設定については、MozillaWiki:Thunderbird:OpenPGP:Smartcards を参照してください。\n\n"
    },
    {
      "title": "Wayland",
      "level": 3,
      "content": "次の方法を使用して、wayland で Thunderbird をネイティブに起動できます。\n\n```\n$ MOZ_ENABLE_WAYLAND=1 thunderbird\n```\n\n"
    },
    {
      "title": "Tor",
      "level": 3,
      "content": "Tor ネットワーク経由でサーバーへの接続をルーティングするには、プロキシ設定をそれに応じて設定する必要があります。\n\n1. tor がインストールされ、プロセスが実行されていることを確認 してください.\n1. Thunderbird で メニュー > 環境設定 > 一般 に移動します。ネットワークとディスク容量 > 接続 セクションで, 設定... ボタンをクリックします.\n1. 手動プロキシ設定 を選択し、SOCKS ホストとして localhost を、ポートとして 9050 を入力します (9050 はデフォルトです。/etc/tor/torrc では別の設定になっているかもしれません) SOCKS v5 使用時の プロキシ DNSを選択します。\n\n"
    },
    {
      "title": "LDAP Segfault",
      "level": 3,
      "content": "LDAP を使ってユーザー設定を取得するように設定したシステムで LDAP がクラッシュ (Bugzilla#292127) することがあります。衝突する LDAP ライブラリの名前を変更することで 解決 できます。\n\n"
    },
    {
      "title": "Error: Incoming server already exists",
      "level": 3,
      "content": "Thunderbird (v24) には削除したアカウントを同じアカウントデータで再インストールしようとすると \"Incoming server already exists\" と表示するバグが存在します。残念ながら、このエラーが表示される場合は Thunerbird を再インストールするしかありません:\n\n1. プロファイルのバックアップを作成:\n\n```\n$ cp -R ~/.thunderbird /to/backup/folder/\n```\n\n2. 全てのアカウントとカレンダー、フィードをアドオンでエクスポート。\n\n3. Thunderbird をアンインストール:\n\n```\n# pacman -R thunderbird\n```\n\n4. Thunderbird フォルダ rm -R ~/.thunderbird/ を削除して全てのデータを消去。\n\n5. Thunderbird を再度インストール:\n\n```\n# pacman -S thunderbird\n```\n\n6. メールアカウント、フィード、カレンダーを作成。\n\n7. ImportExportTools アドオンをインストール。\n\n8. 全てのデータをインポート。\n\n"
    },
    {
      "title": "新しいメッセージの受信時に Thunderbird の UI がフリーズする",
      "level": 3,
      "content": "新しいメッセージが到着したときや起動時にアラートを表示するように Thunderbird を設定している場合、通知デーモンが存在しないためにインターフェイスがしばらくフリーズすることがあります (白画面)。アラートを無効にするか通知サーバーをインストールすることで問題は解決します。\n\n"
    },
    {
      "title": "LC_TIME 環境変数が無視されます",
      "level": 3,
      "content": "Thunderbird はローカライゼーションに LC_TIME 環境変数を使用する必要がありますが、すべてのコンテキストで使用できるわけではありません。一部の問題は、[メニュー] > [環境設定] > [詳細設定] > [日付と時刻の書式設定] を [地域設定ロケール] に設定することで軽減できます。Thunderbird 56 で導入されました。\n\nバージョン 60 では、Gecko は日付時刻書式設定を含むローカリゼーションに CLDR プロジェクト の使用を開始しました。このプロジェクトでは、純粋に LC_TIME に基づいた他のほとんどのソフトウェアとは異なる設定が使用されます。この問題については、さまざまな影響を伴う回避策を含む バグレポート があります。Thunderbird で ISO-8601 形式の日付と月曜日から始まる週を実現するには、LC_TIME=lt_LT thunderbird を使用します。\n\nThunderbird バージョン 91 以降では、Thunderbird を ISO-8601 に準拠させるためにさまざまな設定を行うことができます。ほとんどのプログラムは、地域ロケールを en_DK に設定することで ISO-8601 に設定できますが、デフォルトでは、Thunderbird は地域ロケール設定を無視します。詳細については、[3] を参照してください。\n\n"
    },
    {
      "title": "G Suite アカウントで OAuth2 を使用すると、Authentication failure while connecting to server imap.gmail.com エラーが発生する",
      "level": 3,
      "content": "Thunderbird が Authentication failure while connecting to server imap.gmail.com というエラーで G Suite にログインできないことがあります。この問題は、設定エディタ で general.useragent.compatMode.firefox 設定を true に設定し、認証段階を再度通過することで修正できます。\n\n"
    },
    {
      "title": "Outlook 365 SMTP が OAuth2 認証での認証に失敗する",
      "level": 3,
      "content": "Thunderbird のバージョン 102.7.0 には、Outlook 365 アカウントへのアクセスに影響を与える OAUTH2 実装への変更が含まれています ([4] および [5]) を参照、影響を受けるユーザーは、102.7.1 以降に直接アップグレードする必要があります。\n\n"
    }
  ]
}