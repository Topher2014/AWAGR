{
  "title": "Reflector (Русский)",
  "url": "https://wiki.archlinux.org/title/Reflector_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- Зеркала\n- Pacman (Русский)\n\nReflector — это скрипт на Python, который может получить последний список зеркал со страницы Mirror Status, отфильтровать самые актуальные зеркала, отсортировать их по скорости и перезаписать файл /etc/pacman.d/mirrorlist.\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите пакет reflector.\n\n"
    },
    {
      "title": "Использование",
      "level": 2,
      "content": "- Приведённые примеры перезапишут /etc/pacman.d/mirrorlist. Заранее сделайте его резервную копию.\n- После обновления /etc/pacman.d/mirrorlist, взгляните на содержимое файла и убедитесь, что он не содержит подозрительных зеркал перед тем, как выполнять синхронизацию базы данных пакетов pacman.\n\nЧтобы увидеть список всех доступных опций, наберите\n\n```\n$ reflector --help\n```\n\n"
    },
    {
      "title": "Примеры",
      "level": 3,
      "content": "Смотрите reflector(1) § EXAMPLES. Примеры, перезаписывающие /etc/pacman.d/mirrorlist, нужно запускать от имени root.\n\n"
    },
    {
      "title": "Служба systemd",
      "level": 3,
      "content": "Reflector поставляется со службой reflector.service. Она запускает reflector с параметрами, указанными в файле /etc/xdg/reflector/reflector.conf. Опции по умолчанию должны быть хорошей отправной точкой.\n\nНапример, чтобы выбрать 5 наиболее актуальных (up-to-date) зеркал из Франции и Германии с поддержкой HTTPS и перезаписать /etc/pacman.d/mirrorlist, используйте\n\n```\n/etc/xdg/reflector/reflector.conf\n```\n\n```\n--save /etc/pacman.d/mirrorlist\n--country France,Germany\n--protocol https\n--latest 5\n```\n\nВключите службу reflector.service для запуска Reflector при загрузке системы. Чтобы запустить его прямо сейчас, запустите эту службу.\n\n"
    },
    {
      "title": "Таймер systemd",
      "level": 3,
      "content": "Reflector поставляется с systemd-таймером (reflector.timer), который запускает службу reflector.service еженедельно. Расписание можно изменить путём редактирования файла юнита reflector.timer.\n\nСперва настройте Reflector как описано в разделе #Служба systemd. После обновления настроек запустите и включите reflector.timer.\n\nЧтобы обновить список зеркал прямо сейчас, не дожидаясь расписания, запустите reflector.service.\n\n"
    },
    {
      "title": "pacman hook",
      "level": 3,
      "content": "pacman-mirrorlist обновляется не регулярно, вызов Reflector только потому, что какое-то зеркало в какой-то части земного шара было добавлено или удалено, не актуален. Вместо этого используйте автоматизацию по таймеру. Если вы не хотите, чтобы mirrorlist.pacnew вообще устанавливался, используйте NoExtract в pacman.conf.\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- Тема про Reflector на Arch Linux Forums\n- Страница проекта с историей изменений\n\n"
    }
  ]
}