{
  "title": "Шрифты Microsoft",
  "url": "https://wiki.archlinux.org/title/%D0%A8%D1%80%D0%B8%D1%84%D1%82%D1%8B_Microsoft",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- Metric-compatible fonts\n- Шрифты\n- Настройка шрифтов\n- Java Runtime Environment fonts (Русский)\n\nЭта статья объясняет, как установить TrueType-шрифты от Microsoft и эмулировать рендеринг шрифтов Windows.\n\n"
    },
    {
      "title": "Автоматическая установка",
      "level": 3,
      "content": "Самый простой способ получения шрифтов — использовать один из следующих пакетов:\n\n- ttf-ms-win10-autoAUR — шрифты из Windows 10\n- ttf-ms-win11-autoAUR — шрифты из Windows 11\n\n"
    },
    {
      "title": "Использование шрифтов с раздела Windows",
      "level": 3,
      "content": "Если есть примонтированный раздел с установленной ОС Windows, можно использовать шрифты из неё, сделав символическую ссылку на них. Для чтения файлов шрифтов может понадобиться обойти проблему чтения сжатых файлов.\n\nНапример, если Windows-раздел C:\\ смонтирован в /windows:\n\n```\n# ln -s /windows/Windows/Fonts /usr/local/share/fonts/WindowsFonts\n```\n\nЗатем обновите кэш fontconfig:\n\n```\n# fc-cache --force\n```\n\nДругой вариант — скопировать шрифты из Windows в /usr/local/share/fonts:\n\n```\n# mkdir /usr/local/share/fonts\n# mkdir /usr/local/share/fonts/WindowsFonts\n# cp /windows/Windows/Fonts/* /usr/local/share/fonts/WindowsFonts/\n# chmod 644 /usr/local/share/fonts/WindowsFonts/*\n```\n\nЗатем обновите кэш fontconfig:\n\n```\n# fc-cache --force\n# fc-cache-32 --force\n```\n\n"
    },
    {
      "title": "Извлечение шрифтов из ISO-образа Windows",
      "level": 3,
      "content": "Шрифты также можно найти в ISO-образе Windows. Формат файла образа, содержащего шрифты в ISO, — WIM (Windows Imaging Format), если ISO скачан из интернета, или ESD (Windows Electronic Software Download), если он создан в Windows с помощю Media Creation Tool. Извлеките файл sources/install.esd или sources/install.wim из .iso и внутри него найдите каталог Windows/Fonts. Его можно извлечь с помощью 7z (пакет p7zip) или wimextract (пакет wimlib). Пример с использованием 7z:\n\n```\n$ 7z e WinXY_YYMM_English_x64.iso sources/install.wim\n$ 7z e install.wim 1/Windows/{Fonts/\"*\".{ttf,ttc},System32/Licenses/neutral/\"*\"/\"*\"/license.rtf} -ofonts/\n```\n\nШрифты и лицензия будут помещены в каталог fonts.\n\n"
    },
    {
      "title": "Текущие пакеты",
      "level": 3,
      "content": "Note: **требуется** \n\n- ttf-office-2007-fontsAUR — шрифты Office 2007\n- ttf-win7-fontsAUR — шрифты Windows 7\n- ttf-ms-win8AUR — шрифты Windows 8.1\n- ttf-ms-win10AUR — шрифты Windows 10\n- ttf-ms-win11AUR — шрифты Windows 11\n\n"
    },
    {
      "title": "Устаревшие пакеты",
      "level": 3,
      "content": "ttf-ms-fontsAUR содержит:\n\n- Andalé Mono\n- Arial\n- Arial Black\n- Comic Sans\n- Courier New\n- Georgia\n- Impact\n- Lucida Sans\n- Lucida Console\n- Microsoft Sans Serif\n- Times New Roman\n- Trebuchet\n- Verdana\n- Webdings\n\nВы также можете установить ttf-tahomaAUR, который, как вы и ожидали, содержит Tahoma.\n\nttf-vista-fontsAUR содержит:\n\n- Calibri\n- Cambria\n- Candara\n- Consolas\n- Constantia\n- Corbel\n\n"
    },
    {
      "title": "Сопоставление с похожими шрифтами",
      "level": 3,
      "content": "Часто сайты задают шрифты, используя общие имена (helvetica, courier, times или times new roman), а правило в fontconfig сопоставляет эти имена со свободными шрифтами (Liberation, Google CrOS, GUST TeX Gyre...). Эти замены указаны в файле /etc/fonts/conf.d/30-metric-aliases.conf.\n\nЧтобы в полной мере использовать шрифты MS, необходимо создать правило, сопоставляющее эти общие имена с конкретными именами шрифтов Ms Windows из вышеуказанных пакетов:\n\n```\n<?xml version=\"1.0\"?>\n<!DOCTYPE fontconfig SYSTEM \"fonts.dtd\">\n<fontconfig>\n       <alias binding=\"same\">\n         <family>Helvetica</family>\n         <accept>\n         <family>Arial</family>\n         </accept>\n       </alias>\n       <alias binding=\"same\">\n         <family>Times</family>\n         <accept>\n         <family>Times New Roman</family>\n         </accept>\n       </alias>\n       <alias binding=\"same\">\n         <family>Courier</family>\n         <accept>\n         <family>Courier New</family>\n         </accept>\n       </alias>\n</fontconfig>\n```\n\nТакже полезно ассоциировать шрифты serif, sans-serif, monospace со шрифтами MS в настройках браузера.\n\n"
    },
    {
      "title": "Отключение встроенных растровых шрифтов",
      "level": 3,
      "content": "Некоторые TTF-шрифты Microsoft, такие как Calibri и Cambria, содержат встроенные растровые шрифты для определённых размеров шрифта, которые не имеют сглаживания. Если вас это не устраивает, встроенные растровые шрифты можно отключить, как описано в разделе Настройка шрифтов#Отключение растровых шрифтов.\n\n"
    },
    {
      "title": "В программах чтения PDF, основанных на Poppler, символы отображаются некорректно",
      "level": 3,
      "content": "Шрифт TrueType Microsoft «symbol.ttf» имеет проблемы при работе с Poppler, математические символы могут отображаться неправильно в программах чтения PDF, основанных на Poppler.\n\n"
    }
  ]
}