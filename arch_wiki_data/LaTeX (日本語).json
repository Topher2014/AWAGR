{
  "title": "LaTeX (日本語)",
  "url": "https://wiki.archlinux.org/title/LaTeX_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- TeX Live FAQ\n- TeX Live/CJK\n- Tectonic\n\nWikipedia により:\n\nTex Live には以下が含まれています:\n\n- 多くの TeX エンジン。例えば: pdfTeX XeTeX LuaTeX\n- 基本的なマクロパッケージ (TeX 用語では フォーマット と呼ばれます)。例えば: LaTeX ConTeXt\n- ユーザによって作成された多くパッケージ\n\n- pdfTeX\n- XeTeX\n- LuaTeX\n\n- LaTeX\n- ConTeXt\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 Arch の TeX Live パッケージとネイティブな TeX Live との違い 1.1 ネイティブな TeX Live 1.1.1 インストール 1.1.2 アップデート 1.2 Arch の TeX Live パッケージ 1.2.1 tllocalmgr 1.2.2 tlmgr 1.2.3 パッケージのドキュメント\n- 2 使用方法 2.1 ドキュメントをコンパイルするための高レベルなラッパー 2.2 texmf ツリーと Kpathsea\n- 3 ヒントとテクニック 3.1 デフォルトの用紙サイズを変更する 3.2 Fontconfig でフォントを利用可能にする 3.3 babelbib 言語定義の更新\n- 4 代替\n- 5 参照\n\n- 1.1 ネイティブな TeX Live 1.1.1 インストール 1.1.2 アップデート\n- 1.2 Arch の TeX Live パッケージ 1.2.1 tllocalmgr 1.2.2 tlmgr 1.2.3 パッケージのドキュメント\n\n- 1.1.1 インストール\n- 1.1.2 アップデート\n\n- 1.2.1 tllocalmgr\n- 1.2.2 tlmgr\n- 1.2.3 パッケージのドキュメント\n\n- 2.1 ドキュメントをコンパイルするための高レベルなラッパー\n- 2.2 texmf ツリーと Kpathsea\n\n- 3.1 デフォルトの用紙サイズを変更する\n- 3.2 Fontconfig でフォントを利用可能にする\n- 3.3 babelbib 言語定義の更新\n\n"
    },
    {
      "title": "Arch の TeX Live パッケージとネイティブな TeX Live との違い",
      "level": 2,
      "content": "TeX Live をインストールする方法は複数存在します。TeX Live のスナップショットは Arch Linux のパッケージリポジトリで利用可能ですが (以下を参照)、ほとんどの場合、そのスナップショットは1年に1度しかアップデートされません。対して、TeX Live 自体はローリングリリースなディストリビューションであり、ユーザは1年に1度アップグレードする必要があるというモデルに基づいてはいますが、個々のパッケージのアップグレードは日単位で利用できます。\n\nArch Linux のリポジトリでパッケージングされている TeX Live のスナップショットは、ほとんどのユーザにとって問題ないはずです。使用目的が単に他人のドキュメントをコンパイルすることである場合は特にです。逆に、使用目的が自分でドキュメントを作成することであるならば、ネイティブな TeX Live をインストールするのが最も良い選択である可能性もあります。\n\nネイティブで最新の TeX Live をインストールすることには、最新の機能やバグフィックス、関連するドキュメントを入手できるという利点もあります。ネイティブな TeX Live をインストールせずに個々のパッケージをアップグレードしたりインストールしたりすることは可能であるものの (TEXMFLOCAL と TEXMFHOME を参照)、これには注意が必要です。というのも、関連する全てのパッケージのバージョンが互いに互換性があることを確認する必要があるからです。\n\nネイティブな TeX Live とは対照的に、Arch Linux のリポジトリにある TeX Live パッケージにはドキュメントが含まれない傾向にあります。CTAN からのドキュメントは TeX パッケージの最新バージョン用のものしか入手できないので、これは問題となります。\n\n"
    },
    {
      "title": "インストール",
      "level": 4,
      "content": "quickinstall ドキュメントを参照してください。必要であれば、完全なドキュメント (日本語訳) も参照してください。作業は以下のように要約されます:\n\n1. netinstall アーカイブをダウンロードする\n1. アーカイブを展開し、新しく作成されたディレクトリへ移動する\n1. インストールスクリプトを実行する (perl ./install-tl)。これで、テキストインターフェイスのインタラクティブなインストール手順が始まります 1つ、または複数のインストールパスを設定する 任意で、TeX Live によって提供されているパッケージ コレクション のサブセットを選択する 任意で、A4 ではなくレター用紙サイズをデフォルトとして選択する ダウンロードが終わるのを待つ\n1. インストールスクリプトの実行が終わったら、TeX Live のインストール場所をシステムの実行ファイルパスとドキュメンテーションパス (PATH、MANPATH、INFOPATH) に追加する必要があります。インストールスクリプトは、追加すべきパスを終了前に出力してくれます。\n\n1. 1つ、または複数のインストールパスを設定する\n1. 任意で、TeX Live によって提供されているパッケージ コレクション のサブセットを選択する\n1. 任意で、A4 ではなくレター用紙サイズをデフォルトとして選択する\n1. ダウンロードが終わるのを待つ\n\n"
    },
    {
      "title": "アップデート",
      "level": 4,
      "content": "tlmgr ドキュメントを参照してください。tlmgr update --all を実行すると、インストール中に選択したコレクションの全パッケージをアップグレードします。また、インストール済みの TeX Live コレクションに新しく追加されたパッケージもインストールされます。\n\n年に1度、TeX Live の新しいリリースがあると、tlmgr update --all は失敗します。その場合、TeX Live を新しくインストールする必要があります。\n\n"
    },
    {
      "title": "Arch の TeX Live パッケージ",
      "level": 3,
      "content": "- texlive グループには、ほとんどの TeX Live パッケージが含まれています。上流のコレクションに基づいてカテゴリ化されています ([1] を参照)。 texlive-basic はコアのパッケージです。上流の medium インストールスキームに基づいています。このパッケージには、mktexlsr、fmtutil、updmap を自動化する pacman フックが含まれています。 texlive-latex には、必須の LaTeX パッケージ群が含まれています。 texlive-latexrecommended と texlive-latexextra には多くの便利な LaTeX パッケージが含まれています (例: polyglossia、amsmath、graphicx)。 texlive-fontsrecommended には必須のフォントが含まれています (デフォルトの Latin Modern を含む)。 texlive-fontsextra には追加のフォントが含まれています。フォントは LaTeX Font Catalogue で閲覧できます。 texlive-xetex と texlive-luatex には XeTeX と LuaTeX のパッケージがそれぞれ含まれています。 texlive-bibtexextra には、BibLaTeX パッケージ、追加の BibTeX スタイル、および参考文献データベースが含まれています。。\n- texlive-lang グループには、非ラテン文字の言語のための文字セットと機能を提供するパッケージが含まれています。 texlive-langcjk は、中国語、日本語、そして韓国語の言語サポートの共通部分です。 texlive-langjapanese は、日本語の言語サポートを提供します。 texlive-langother は、アフリカの言語、アラビア語、アルメニア語、クロアチア語、ヘブライ語、インド語群、モンゴル語、チベット語、そしてベトナム語の言語サポートを提供します。\n- biber は、BibLaTeX のための代替の参考文献処理バックエンドを提供します。\n- texlive-latexindent-metaAUR メタパッケージは、latexindent を実際に使うために必要になるすべての依存パッケージを提供します。\n\n- texlive-basic はコアのパッケージです。上流の medium インストールスキームに基づいています。このパッケージには、mktexlsr、fmtutil、updmap を自動化する pacman フックが含まれています。\n- texlive-latex には、必須の LaTeX パッケージ群が含まれています。\n- texlive-latexrecommended と texlive-latexextra には多くの便利な LaTeX パッケージが含まれています (例: polyglossia、amsmath、graphicx)。\n- texlive-fontsrecommended には必須のフォントが含まれています (デフォルトの Latin Modern を含む)。\n- texlive-fontsextra には追加のフォントが含まれています。フォントは LaTeX Font Catalogue で閲覧できます。\n- texlive-xetex と texlive-luatex には XeTeX と LuaTeX のパッケージがそれぞれ含まれています。\n- texlive-bibtexextra には、BibLaTeX パッケージ、追加の BibTeX スタイル、および参考文献データベースが含まれています。。\n\n- texlive-langcjk は、中国語、日本語、そして韓国語の言語サポートの共通部分です。\n- texlive-langjapanese は、日本語の言語サポートを提供します。\n- texlive-langother は、アフリカの言語、アラビア語、アルメニア語、クロアチア語、ヘブライ語、インド語群、モンゴル語、チベット語、そしてベトナム語の言語サポートを提供します。\n\nCTAN で利用できる TeX パッケージをインストールする必要がある場合は、以下のコマンドを実行して、そのパッケージが Arch の texlive- パッケージに含まれているか確認してください:\n\n```\n$ tlmgr info ctan_package_name | grep collection\n```\n\nこのコマンドは、Arch の texlive- パッケージに対応する TeX Live コレクションの名前が表示される可能性があります (そのようなパッケージが存在するかどうか texlive を確認してください)。例えば、collection: collection-plaingeneric という出力は、TeX パッケージが texlive-plaingeneric に含まれていることを意味します。\n\nあるいは、tlmgr を使って手動で単一の TeX パッケージをインストールすることもできます (以下を参照)。\n\n"
    },
    {
      "title": "tllocalmgr",
      "level": 4,
      "content": "tllocalmgrAUR によって提供されている tllocalmgr ユーティリティは、pacman パッケージとして CTAN からパッケージをインストールできるようにします。詳細は 使用方法 (-h) を見てください。\n\n"
    },
    {
      "title": "tlmgr",
      "level": 4,
      "content": "texlive-basic を使えば、tlmgr ユーティリティは設定無しで動くはずです。問題が発生した場合や、古い texlive-core パッケージを使用している場合は、tlmgr を動作させるために以下の手順を踏む必要があります。\n\n- texlive-basic は TEXMFDIST 内に tlmgr スクリプトを提供しますが、これは壊れています (FS#74404)。これは、以下で説明されているように修正することができます。\n- texconfig(1) コマンドは、部分的に tlmgr に依存しているため、ほぼ壊れています (FS#59094)。texconfig のインタラクティブモードには dialog が必要です。\n\nTable content:\nこの記事またはセクションの正確性には問題があります。 理由: 以下の修正は texlive-core[リンク切れ: replaced by texlive-basic] パッケージに組み込まれるべきです。TEXMFDIST 内のファイルを編集しても、パッケージをアップグレードすると変更が上書きされてしまいます。 (議論: トーク:TeX Live#)\n\ntlmgr ユーティリティは、CTAN からパッケージをインストール、アップデートする標準的な方法です。以下のように小さな修正が必要となります:\n\nまず、TEXMFDIST/scripts/texlive/tlmgr.pl を編集して $Master = \"$Master/../..\"; を $Master = \"${Master}/../../..\"; に置き換えてください。パスのプレフィックス TEXMFDIST は、事前に定義された環境変数ではなく、この記事の以下で定義されたものです。このプレフィックスは正しい値に置き換えてください。\n\nまた、コマンドラインから sudo sed -i 's/\\$Master = \"\\$Master\\/..\\/..\";/\\$Master = \"\\$Master\\/..\\/..\\/..\";/' \"$TEXMFDIST/scripts/texlive/tlmgr.pl\" を実行することでも可能です。\n\nその perl スクリプトのエイリアスを作成してください (シェルの初期化ファイルに追加できます)。\n\n```\nalias tlmgr='TEXMFDIST/scripts/texlive/tlmgr.pl --usermode'\n```\n\nこれで、ユーザモードで初期化できます (インストールプレフィックスとして ~/texmf を使用します):\n\n```\n$ tlmgr init-usertree\n```\n\n自由にミラーを設定してください。ミラーのパスの末尾に /systems/texlive/tlnet を追加する必要があります。例えば:\n\n```\n$ tlmgr option repository http://mirrors.rit.edu/CTAN/systems/texlive/tlnet\n```\n\nこれで、CTAN パッケージを通常通りインストールできるようになりました:\n\n```\n$ tlmgr install package_name\n```\n\n"
    },
    {
      "title": "パッケージのドキュメント",
      "level": 4,
      "content": "公式リポジトリ内のパッケージには、フォント/マクロのパッケージのドキュメントやソースファイルが含まれていません。\n\ntexdoc でオフラインアクセスするには、texlive-most-docAUR を使って TeX Live のドキュメントとソースファイルを全てインストールしてください。\n\nまた、オンラインでドキュメントにアクセスすることもできます:\n\n- https://tug.org/texlive/Contents/live/doc.html\n- https://ctan.org/ – Tex 関連の全種類の資料の中心的な場所\n- https://texdoc.net/[リンク切れ 2022-09-23] (http://texdoc.net/pkg/packagename は、関連する PDF を直接生成します)\n\n"
    },
    {
      "title": "使用方法",
      "level": 2,
      "content": "以下のリソースを参照してください:\n\n- Wikibooks:LaTeX (Wikibooks:Ja:TeX/LaTeX入門)\n- The Not So Short In­tro­duc­tion to LaTeX 2ε\n- Getting to Grips with LaTeX – Andrew Roberts\n- The TeX FAQ\n\nドキュメントの作成に TeX エディタを使うこともできます。\n\n"
    },
    {
      "title": "ドキュメントをコンパイルするための高レベルなラッパー",
      "level": 3,
      "content": "ほとんどの場合、pdflatex(1) のようなものを直接呼び出すより、latexmk(1) や arara(1) といった高レベルなツールを使うほうが合理的です。その理由は主に、低レベルなツールは単一のドキュメントを完全にコンパイルするのに通常複数回実行する必要があるからです。\n\n"
    },
    {
      "title": "texmf ツリーと Kpathsea",
      "level": 3,
      "content": "texmf ツリー (texmf は TeX と Metafont の略) は TeX Directory Structure に従う必要があります。さもないと、ファイルを見つけられない場合があります。[3]\n\nTex Live は Kpathsea ライブラリを使用して、複数の texmf ツリーと現在の作業ディレクトリにまたがってファイル名でパスを探索します。\n\nKpathsea は以下の変数を逆順で検索します (後のツリーは前のものを上書きします)。\n\nTable content:\n変数 | Arch のデフォルト 1) | その変数を使用するもの [4]\nTEXMFDIST | /usr/share/texmf-dist | 元のディストリビューションのファイル\nTEXMFLOCAL | /usr/local/share/texmf:/usr/share/texmf | 追加およびアップデートされたマクロ、フォントなどをシステム全体にインストールするために管理者が使用\nTEXMFSYSVAR | /var/lib/texmf | (キャッシュされた) ランタイムデータを保管するために updmap と fmtutil (ユーザモード) が使用\nTEXMFSYSCONFIG | /etc/texmf | 変更された設定データを保管するために updmap と fmtutil (ユーザモード) が使用\nTEXMFHOME | ~/texmf | 追加およびアップデートされたマクロ、フォントなどをユーザ個別にインストールするためにユーザが使用\nTEXMFVAR | ~/.texlive/texmf-var | (キャッシュされた) ランタイムデータを保管するために updmap と fmtutil (システムモード) が使用\nTEXMFCONFIG | ~/.texlive/texmf-config | 変更された設定データを保管するために updmap と fmtutil (システムモード) が使用\nTEXMFCACHE | $TEXMFSYSVAR;$TEXMFVAR | (キャッシュされた) ランタイムデータを保管するために ConTeXt MkIV と LuaLaTeX が使用\n\nKpathsea は、パスを探索するための kpsewhich(1) コマンドを提供します。--var-brace-value=VARIABLE 引数で実行すれば、変数の値も表示できます。\n\nKpathsea はファイル名データベース (ls-R) を使用して、システム全体の texmf ツリー (TEXMFDBS 変数で設定される) での検索を高速化させます。つまり、システム全体のファイルツリーが変更された際に mktexlsr(1) か texhash (シンボリックリンク) を root として実行する必要があるということです。幸い、texlive-core{{Broken package link|replaced by texlive-basic は、/usr/local/share/texmf を除くすべてのデフォルトのシステム全体ツリーを対象とする pacman フックで自動化します。[6] なので、システム全体に pacman を通してパッケージをインストールする限り、あなたが mktexlsr や texhash を実行する必要は全くないはずです。\n\n"
    },
    {
      "title": "デフォルトの用紙サイズを変更する",
      "level": 3,
      "content": "Table content:\nこの記事またはセクションの正確性には問題があります。 理由: 設定ファイルを直接編集することで可能です。[7] (議論: トーク:TeX Live#)\n\n現在、texlive ツールを使用してデフォルトのページサイズを変更することは不可能です。ツールが標準の Arch パッケージで機能しないためです。\n\n通常では、texconfig か tlmgr を実行します (これらは、他の便利な設定を変更することもできます)。\n\n以下のように設定ファイルを変更できます。\n\n- pdftex ファミリのコマンド (pdftex、pdflatex など) に対して用紙サイズを設定するには、/etc/texmf/tex/generic/tex-ini-files/pdftexconfig.tex を編集してください。\n\nこのファイルは kpsewhich pdftexconfig.tex を実行することでも見つけられます。pdfpageheight と pdfpagewidth を指定する2行を変更してください。例えば、レターサイズを使用するには、\n\n```\n\\pdfpageheight = 297 true mm\n\\pdfpagewidth  = 210 true mm\n```\n\nから\n\n```\n\\pdfpageheight = 11 true in\n\\pdfpagewidth  = 8.5 true in\n```\n\nに変更してください。\n\n残念ながら、これは、バイナリの .fmt ファイルをリビルドするまで効果がありません。fmtutil-sys でリビルドできます。また、pacman で texlive-bin を再インストールしてもリビルドできます。\n\n- dvips に対しては、-t オプションを使って用紙サイズを指定できます: dvips -t letter foo.dvi。デフォルトを変更するには、/etc/texmf/dvips/config/config.ps を編集してください。\n\nこのファイルは kpsewhich config.ps を実行することでも見つけられます。このファイルの最後にあるセクションには、dvips が認識するすべての用紙サイズがリストアップされています。リストの最初にある用紙サイズがデフォルトとなります。デフォルトを変更するには、デフォルトにしたいサイズをリストの先頭に移動させてください。dvips の挙動は、ファイルが変更されるとすぐに変更されます。\n\n"
    },
    {
      "title": "Fontconfig でフォントを利用可能にする",
      "level": 3,
      "content": "デフォルトでは、さまざまな TeX Live パッケージに入っているフォントを Fontconfig から自動で利用することができません。XeTeX や LibreOffice などからフォントを使えるようにしたいときは、フォントディレクトリからユーザのフォントパスへのシンボリックリンクを作成するのが一番簡単です。OpenType フォントの場合は、以下を実行してください:\n\n```\n$ ln -s /usr/share/texmf-dist/fonts/opentype/public/some_fonts_you_want ~/font_path/OTF/\n```\n\nfontconfig で利用できるようにするには、次を実行してください:\n\n```\n$ fc-cache ~/font_path\n$ mkfontscale ~/font_path/OTF\n$ mkfontdir ~/font_path/OTF\n```\n\nTrueType フォントや Type 1 フォントに対しても似たような手順です。上記のコマンドでは、opentype を truetype や type1 に変更し、OTF を TTF や Type1 に変更します。\n\nまた、texlive-core{{Broken package link|replaced by texlive-basic には TeX Live によって使用されるフォントディレクトリのリストが入ったファイル /usr/share/fontconfig/conf.avail/09-texlive-fonts.conf が含まれています。このファイルを利用するには次を実行して:\n\n```\n# ln -s /usr/share/fontconfig/conf.avail/09-texlive-fonts.conf /etc/fonts/conf.d/09-texlive-fonts.conf\n```\n\nそれから fontconfig を更新してください:\n\n```\n$ fc-cache && mkfontscale && mkfontdir\n```\n\n- TeX と Fontconfig の両方で同一のフォントが利用できる場合 (検索パスに同じフォントのコピーが複数ある場合)、上記の設定が XeTeX/XeLaTeX と衝突する可能性があります。\n- Type 1 フォントは LibreOffice 5.3 およびそれ以降で利用できません。\n\n"
    },
    {
      "title": "babelbib 言語定義の更新",
      "level": 3,
      "content": "Table content:\nこの記事あるいはセクションで使われている用語や表現には問題が存在します。 議論: /usr/share/texmf-dist/ を変更するべきではありません。 (議論: トーク:TeX Live#)\n\n必要としている最新の言語定義が babelbib になく、全てをリコンパイルしたくはないという問題を抱えている場合、https://www.tug.org/texlive/devsrc/Master/texmf-dist/tex/latex/babelbib/ から手動で入手して /usr/share/texmf-dist/tex/latex/babelbib/ に配置することができます。例えば:\n\n```\n$ cd /usr/share/texmf-dist/tex/latex/babelbib/ \n# wget https://www.tug.org/texlive/devsrc/Master/texmf-dist/tex/latex/babelbib/romanian.bdf\n# wget [...all-other-language-files...]\n# wget https://www.tug.org/texlive/devsrc/Master/texmf-dist/tex/latex/babelbib/babelbib.sty\n```\n\nその後、texhash を実行して TeX データベースを更新してください:\n\n```\n# texhash\n```\n\n"
    },
    {
      "title": "代替",
      "level": 2,
      "content": "Tex Live の代替としては、MikTex や Tectonic などがあります。これらは最小限のインストールで、適宜必要なパッケージをインストールします。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- TeX Live ドキュメント\n- Q&A サイト TeX - LaTeX Stack Exchange TopTeX (TopAnswers の TeX サイト)\n- Detexify LaTeX handwritten symbol recognition\n\n- TeX - LaTeX Stack Exchange\n- TopTeX (TopAnswers の TeX サイト)\n\n"
    }
  ]
}