{
  "title": "Pidgin (日本語)",
  "url": "https://wiki.archlinux.org/title/Pidgin_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Pidgin は、複数のチャットネットワークのアカウントに同時にログインできるチャットプログラムです。Jabber/XMPP、Bonjour、Gadu-Gadu、IRC、Novell GroupWise Messenger、Lotus Sametime、SILC、SIMPLE、Zephyr、およびプラグインを備えたその他の多くのチャットネットワークと互換性があります。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 スペルチェック\n- 3 サービス 3.1 AIM 3.2 Discord プラグイン 3.3 Facebook 3.4 Google (Hangouts) 3.5 ICQ 3.6 IRC 3.7 Sametime プロトコル 3.8 Skype プラグイン 3.9 Slack プラグイン 3.10 Rocket.Chat プラグイン 3.11 Telegram プラグイン 3.12 XMPP\n- 4 セキュリティ\n- 5 プライバシー 5.1 Pidgin-OTR 5.2 Pidgin-Encryption 5.3 Pidgin-GPG\n- 6 他のパッケージ\n- 7 サスペンド時に自動でログアウト\n- 8 システムトレイに最小化\n- 9 Kopete から Pidgin に履歴をインポート\n- 10 バックアップ\n- 11 トラブルシューティング 11.1 Sametime の Version Match 11.2 ブラウザのエラー 11.3 ICQ バディ情報のエンコーディングを修正\n- 12 参照\n\n- 3.1 AIM\n- 3.2 Discord プラグイン\n- 3.3 Facebook\n- 3.4 Google (Hangouts)\n- 3.5 ICQ\n- 3.6 IRC\n- 3.7 Sametime プロトコル\n- 3.8 Skype プラグイン\n- 3.9 Slack プラグイン\n- 3.10 Rocket.Chat プラグイン\n- 3.11 Telegram プラグイン\n- 3.12 XMPP\n\n- 5.1 Pidgin-OTR\n- 5.2 Pidgin-Encryption\n- 5.3 Pidgin-GPG\n\n- 11.1 Sametime の Version Match\n- 11.2 ブラウザのエラー\n- 11.3 ICQ バディ情報のエンコーディングを修正\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "公式リポジトリから pidgin はインストールできます。別バージョンも存在します:\n\n- Pidgin Light — GStreamer, Tcl/Tk, XScreenSaver, 動画・ボイスサポートを取り除いた Pidgin の軽量版。\n\npurple-plugin-pack から追加のプラグインをインストールすることも可能です。\n\n"
    },
    {
      "title": "スペルチェック",
      "level": 2,
      "content": "Aspell は依存パッケージとしてインストールされますが、テキストが全て間違っていると表示されないようにするために aspell-en などの aspell の辞書をインストールする必要があります。Aspell の記事を見てください。\n\n"
    },
    {
      "title": "AIM",
      "level": 3,
      "content": "Pidgin は、すぐに使える AOL Instant Messenger (AIM) のサポートを備えています。AIMは正式に停止しましたが、Phoenixのような非公式の AIM ベースのサーバーが動作しており、AIM プロトコルのアカウント設定でサーバーアドレスを変更することで Pidgin 上で使用することができます。\n\n"
    },
    {
      "title": "Discord プラグイン",
      "level": 3,
      "content": "purple-discord-gitAUR パッケージをインストールしてください。\n\n次に、新しいアカウントを追加し、プロトコルとして Discord を選択し、Discord のログイン電子メールアドレスとパスワードを入力します。\n\n"
    },
    {
      "title": "Facebook",
      "level": 3,
      "content": "purple-facebook (または purple-facebook-gitAUR) パッケージをインストールしてください。\n\n新しいアカウントを追加して、プロトコルとして Facebook を選択して、Facebook のユーザー名 とパスワードを入力してログインしてください。\n\n"
    },
    {
      "title": "Google (Hangouts)",
      "level": 3,
      "content": "purple-hangouts-gitAUR パッケージを インストール してください。\n\n"
    },
    {
      "title": "ICQ",
      "level": 3,
      "content": "Pidgin には、オリジナルの OSCAR ICQ プロトコルのみが付属しています。2018 年 12 月以降、古い OSCAR プロトコルは新しい WIM プロトコルに置き換えられたため、正式にサポートされなくなりました。ICQ で新しい WIM プロトコルを利用するには、purple-icyque-gitAUR プラグインをインストールする必要があります。\n\n"
    },
    {
      "title": "IRC",
      "level": 3,
      "content": "以下は Freenode に接続する簡単なチュートリアルです。ポート番号とその他の設定を変えれば、他の IRC ネットワークでも同じように設定できるはずです。\n\nAccounts > Manage Accounts > Add を開いて下さい。以下のオプションを入力・選択します:\n\n```\nProtocol: IRC\nUsername: your username\n```\n\nBuddies > New instant message を開いて (もしくは Ctrl+m を押す)、テキストボックスに 'freenode.net' と username@irc.freenode.net と入力して、'Ok' をクリックしてください。以下を入力:\n\n```\n/join #archlinux\n```\n\nチャンネルは重要ではありません。\n\nニックネームを登録するために、次を入力:\n\n```\n/msg nickserv register password email-addres\n```\n\n登録メールの指示に従って下さい。ヘルプを表示するには以下を入力:\n\n```\n/msg nickserv help\n/msg nickserv help command\n```\n\n後はチャンネルを 'Buddies' に追加するだけです: Buddies > Add chat を開いて、テキストボックスに適当なチャンネルを入力してください (#archlinux)。\n\n"
    },
    {
      "title": "Sametime プロトコル",
      "level": 3,
      "content": "libpurple-meanwhileAUR パッケージをインストールしてください。パッケージをインストールすれば、アカウントの作成時に 'Sametime' プロトコルを選ぶことができます。\n\n"
    },
    {
      "title": "Skype プラグイン",
      "level": 3,
      "content": "purple-skypeweb または skype4pidgin-gitAUR[リンク切れ: パッケージが存在しません] パッケージをインストールしてください。\n\n"
    },
    {
      "title": "Slack プラグイン",
      "level": 3,
      "content": "slack-libpurple-gitAUR パッケージをインストールしてください。\n\n"
    },
    {
      "title": "Rocket.Chat プラグイン",
      "level": 3,
      "content": "purple-rocketchat-gitAUR パッケージをインストールしてください。\n\n"
    },
    {
      "title": "Telegram プラグイン",
      "level": 3,
      "content": "telegram-purpleAUR または telegram-purple-gitAUR パッケージをインストールしてください。\n\nアカウントの作成時に Telegram の電話番号を入力すると、確認コードが記載された SMS テキスト メッセージが届きます。Pidgin で Telegram プロトコルアカウントを認証するには、このコードを入力する必要があります。\n\n"
    },
    {
      "title": "XMPP",
      "level": 3,
      "content": "Pidgin は、すぐに使える XMPP/Jabber チャットプロトコルのサポートを備えています。OMEMO (libpurple-lurch) や Message Carbons (libpurple-carbonsAUR) などの XMPP 拡張機能をサポートするための追加プラグインがいくつか存在します。\n\n"
    },
    {
      "title": "セキュリティ",
      "level": 2,
      "content": "Pidgin は、暗号化されていないパスワードを (平文で) $HOME/.purple/account.xml に保存する、Libpurple 2 を使用しています。[1] を参照してください。次のようなプラグインを使用して、それらをキーリングに保存できます:\n\n- purple-gnome-keyringAUR\n- pidgin-kwallet\n\n"
    },
    {
      "title": "プライバシー",
      "level": 2,
      "content": "Pidgin はデフォルトで複数のプライバシールールを設定します。連絡先に登録された人やリストから選択された人だけがあなたにメッセージを送ることができるようになっています。この設定を変更するには:\n\n```\nTools > Privacy\n```\n\n"
    },
    {
      "title": "Pidgin-OTR",
      "level": 3,
      "content": "これは Pidgin に Off-The-Record (OTR) メッセージングをもたらすプラグインです。OTR はインスタントメッセージを暗号化する暗号プロトコルです。\n\nまず公式リポジトリから pidgin-otr をインストールして、OTR を Pidgin に追加する必要があります。\n\n1. OTR を有効化するには、Pidgin を起動して Tools > Plugins を開くか Ctrl+u を押します。\"Off-The-Record Messaging\" というタイトルのエントリまでスクロールしてください。その横のチェックボックスにチェックが入ってなかったら、チェックを入れます。\n1. 次に、プラグインエントリをクリックして一番下の \"Configure plugin\" を選択します。鍵を生成したいアカウントを選択して、\"Generate\" をクリックして下さい。これで秘密鍵が生成されます。他のオプションが何をするのかよくわからない場合、そのままにしておいてください。デフォルトのオプションで問題ありません。\n1. OTR をインストールしている友達に連絡することができます。チャットウィンドウに、テキスト入力ボックスの右上に新しいアイコンが表示されているはずです。アイコンをクリックして \"Start private conversation\" を選択してください。'Unverified' セッションが開始されます。Unverified セッションは暗号化されていますが、検証はされていません。つまり、OTR が入っているアカウントを使って秘密の会話をすることはできますが、会話の相手が友達かどうかは保証がありません。会話相手の検証をする方法はこのセクションでは説明しません。\n\n"
    },
    {
      "title": "Pidgin-Encryption",
      "level": 3,
      "content": "pidgin-encryptionAUR は RSA 暗号によってインスタントメッセージを透過的に暗号化します。使い方は簡単で、とてもセキュアです。\n\nPidgin-OTR と同じ方法で有効化できます。\n\n会話ウィンドウを開いてメニューに新しいアイコンがあることを確認してください。アイコンをクリックすると暗号化を有効化・無効化できます。また、デフォルトで暗号化を有効にしたい場合、友達の名前を右クリックして Turn Auto-Encrypt をオンにしてください。友達との新しい会話が開始されると、自動で暗号化がされるようになります。\n\n"
    },
    {
      "title": "Pidgin-GPG",
      "level": 3,
      "content": "Pidgin-GPG は GPG を使って会話を透過的に暗号化し、既存の WoT の機能を全て利用することができます。\n\nこのプラグインは AUR の pidgin-gpg-gitAUR でインストールすることができ、上記と同じ方法で有効にできます。\n\n"
    },
    {
      "title": "他のパッケージ",
      "level": 2,
      "content": "Arch には他にも Pidgin 関連のパッケージがあります。以下は有名なパッケージです (完全なリストは、AUR を検索してください):\n\n- pidgin-libnotify - のサポート、テーマにそって通知\n- pidgin-latexAUR - pidgin の小さな latex プラグイン。$$ の間に数式を記述するとレンダリングされます (相手側もインストールする必要があります)\n\n"
    },
    {
      "title": "サスペンド時に自動でログアウト",
      "level": 2,
      "content": "コンピューターをサスペンドした場合、pidgin は約15分間、接続中のままになります。メッセージを得損なわないようするには、サスペンドやハイバネーションをする前にステータスをオフラインに設定しなくてはなりません。ステータスメッセージは変更されません。\n\nしたがって /etc/systemd/system に新しい systemd ユニット pidgin-suspend を作成してください。以下のスニペットを使って myuser をあなたの使用しているユーザーに置き換えます。\n\n```\n[Unit]\nDescription=Suspend Pidgin\nBefore=sleep.target\nStopWhenUnneeded=yes\n\n[Service]\nType=oneshot\nUser=myuser\nRemainAfterExit=yes\nEnvironment=DISPLAY=:0\nExecStart=-/usr/bin/purple-remote setstatus?status=offline\nExecStop=-/usr/bin/purple-remote setstatus?status=available\n\n[Install]\nWantedBy=sleep.target\n```\n\npm-utils を使っている場合、代わりに /etc/pm/sleep.d/ に 00pidgin ファイルを作成することもできます。\n\n```\n#!/bin/sh\n#\n# 00pidgin: set offline/online status\n\ncase \"$1\" in\n    hibernate|suspend)\n        DISPLAY=:0 su -c 'purple-remote setstatus?status=offline' ''%myuser''\n    ;;\n    thaw|resume)\n        DISPLAY=:0 su -c 'purple-remote setstatus?status=available' ''%myuser''\n    ;;\n    *) exit $NA\n    ;;\nesac\n```\n\n"
    },
    {
      "title": "システムトレイに最小化",
      "level": 2,
      "content": "Xfce のシステムトレイを使用するには設定を開いて \"Interface\" セクションでシステムトレイを有効にしてください。これでメインウィンドウを閉じると pidgin が最小化されるようになります。システムトレイからメッセージの通知を見ることができます。\n\n"
    },
    {
      "title": "Kopete から Pidgin に履歴をインポート",
      "level": 2,
      "content": "- xalan-c をインストールして以下の内容で ~/bin/history_import_kopete2pidgin.sh を作成:\n\n```\n#!/bin/sh\n\nKOPETE_DIR=~/.kde4/share/apps/kopete/logs\nPIDGIN_DIR=~/.purple/logs\nCURRENT_DIR=~/bin\n\ncd\n\nif [ ! -d $KOPETE_DIR ];then\n    echo \"Kopete log directory not found\"\n    exit 1;\nfi\n\nif [ ! -d $PIDGIN_DIR ];then\n    echo \"Pidgin log directory not found\"\n    exit 2;\nfi\n\nfor KOPETE_PROTODIR in $(ls $KOPETE_DIR); do\n    PIDGIN_PROTODIR=$(echo $KOPETE_PROTODIR | sed 's/Protocol//' | tr [:upper:] [:lower:])\n    for accnum in $(ls $KOPETE_DIR/$KOPETE_PROTODIR); do\n        echo \"Account number: $accnum\"\n        for num in $(ls $KOPETE_DIR/$KOPETE_PROTODIR/$accnum); do\n            FILENAME=$(Xalan $KOPETE_DIR/$KOPETE_PROTODIR/$accnum/$num $CURRENT_DIR/history_import_kopete2pidgin_filename.xslt)\n            if [ $? = 0 ]; then\n                echo \"$KOPETE_DIR/$KOPETE_PROTODIR/$accnum/$num\"\n                echo \" -> $PIDGIN_DIR/$PIDGIN_PROTODIR/$FILENAME\"\n                mkdir -p $(dirname $PIDGIN_DIR/$PIDGIN_PROTODIR/$FILENAME)\n                Xalan -o $PIDGIN_DIR/$PIDGIN_PROTODIR/$FILENAME $KOPETE_DIR/$KOPETE_PROTODIR/$accnum/$num $CURRENT_DIR/history_import_kopete2pidgin.xslt\n            fi\n        done\n    done\ndone\n```\n\n- ~/bin/history_import_kopete2pidgin.sh を実行可能にする:\n\n```\nchmod +x ~/bin/history_import_kopete2pidgin.sh\n```\n\n- 以下の内容で ~/bin/history_import_kopete2pidgin.xslt を作成:\n\n```\n<?xml version=\"1.0\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n    <xsl:output method=\"text\" indent=\"no\" />\n\n    <xsl:template match=\"kopete-history\">\n        <xsl:apply-templates select=\"msg\"/>\n    </xsl:template>\n\n    <xsl:template match=\"msg\">\n        <xsl:text>(</xsl:text>\n        <xsl:value-of select=\"translate(substring-after(@time,' '),':',',')\"/>\n        <xsl:text>) </xsl:text>\n        <xsl:value-of select=\"@nick\"/>\n        <xsl:if test=\"not(@nick) or @nick = \">\n            <xsl:value-of select=\"@from\"/>\n        </xsl:if>\n        <xsl:text>: </xsl:text>\n        <xsl:value-of select=\".\"/>\n\t\t<xsl:text>\n</xsl:text>\n    </xsl:template>\n</xsl:stylesheet>\n</nowiki>\n```\n\n- 以下の内容で ~/bin/history_import_kopete2pidgin_filename.xslt を作成:\n\n```\n<?xml version=\"1.0\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n    <xsl:output method=\"text\" indent=\"no\" />\n\n    <xsl:template match=\"kopete-history\">\n        <xsl:value-of select=\"head/contact[@type = 'myself']/@contactId\"/>\n        <xsl:text>/</xsl:text>\n        <xsl:value-of select=\"head/contact[not(@type)]/@contactId\"/>\n        <xsl:text>/</xsl:text>\n        <xsl:value-of select=\"head/date/@year\"/>\n        <xsl:text>-</xsl:text>\n        <xsl:if test=\"head/date/@month &lt; 10\">0</xsl:if>\n        <xsl:value-of select=\"head/date/@month\"/>\n        <xsl:text>-</xsl:text>\n        <xsl:if test=\"string-length(substring-before(msg[1]/@time,' ')) &lt; 2\">0</xsl:if>\n        <xsl:value-of select=\"translate(msg[1]/@time,' :','.')\"/>\n        <xsl:text>+0200EET.txt</xsl:text>\n    </xsl:template>\n</xsl:stylesheet>\n```\n\n- シェルからコマンドを実行:\n\n```\n~/bin/history_import_kopete2pidgin.sh\n```\n\n"
    },
    {
      "title": "バックアップ",
      "level": 2,
      "content": "~/.purple をどこかに保存することでメッセージログやアカウント情報などのデータをバックアップできます。\n\n"
    },
    {
      "title": "Sametime の Version Match",
      "level": 3,
      "content": "Pidgin を使って Sametime に接続したときに \"Version Match\" という表示される問題があります。クライアント側でできる解決方法として accounts.xml でバージョンを偽るという方法があります。$HOME/.purple/ フォルダに存在する accounts.xml に含まれている Sametime アカウントの <settings> セクションで以下の行を追加・変更してください:\n\n```\n<setting name='fake_client_id' type='bool'>1</setting>\n<setting name='client_minor' type='int'>8511</setting>\n```\n\n"
    },
    {
      "title": "ブラウザのエラー",
      "level": 3,
      "content": "Pidgin の中でリンクをクリックすると、リンクを開くための 'sensible-browser' を使用しようとしているというエラーメッセージが作成される場合、~/.purple/prefs.xml を編集してください。'sensible-browser' に言及している行をさがして以下のように変更します:\n\n```\n<pref name='command' type='path' value='firefox'/>\n```\n\n上の例では Firefox を使用しています。\n\nPidgin の設定の \"Browser\" セクションで使いたいブラウザを設定するという方法もあります。\n\n"
    },
    {
      "title": "ICQ バディ情報のエンコーディングを修正",
      "level": 3,
      "content": "Buddy Information のエンコーディングが正しくない場合、ICQ アカウントのエンコーディングを変更することができます:\n\n```\nAccount > your ICQ account > Edit account > Advanced tab\n```\n\n(キリル文字の場合) Encoding: CP1251 を選択。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- Pidgin の使用方法\n- Wikipedia:Pidgin_(software)\n- Kopete から Pidgin への履歴インポート\n- Pidgin を使用して HipChat に接続する\n- finch, コンソールベースの libpurple クライアント\n\n"
    }
  ]
}