{
  "title": "Console Mouse Support (日本語)",
  "url": "https://wiki.archlinux.org/title/Console_Mouse_Support_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "GPM (General Purpose Mouse の略) は Linux の仮想コンソールでのマウスサポートを提供するデーモンです。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 設定 2.1 仮想環境\n- 3 参照\n\n- 2.1 仮想環境\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "gpm パッケージをインストールしてください。ノートパソコンのタッチパッドのサポートが必要な場合、ノートパソコン#タッチパッドを参照してください。 もインストールしてください。\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "-m パラメータで使用するマウスを、-t パラメータでマウスのタイプを定義します。-t オプションで使用できるタイプのリストを確認するには、-t help を付けて gpm を実行してください:\n\n```\n# gpm -m /dev/input/mice -t help\n```\n\ngpm パッケージは複数のパラメータを付けて起動する必要があります。パラメータは /etc/conf.d/gpm ファイルで指定したり、あるいは gpm を実行するときに直接使用できます。2016年現在、systemd 用の gpm.service ファイルには USB マウスのパラメータが指定されています:\n\n```\n/usr/lib/systemd/system/gpm.service\n```\n\n```\nExecStart=/usr/bin/gpm -m /dev/input/mice -t imps2\n```\n\n他のタイプのマウスを使用する場合はパラメータを編集する必要があります。ユニットファイルの編集方法は systemd#ユニットファイルの編集 を参照してください。\n\n- PS/2 マウスの場合、既存の行を以下のように置き換えてください:\n\n```\n-m /dev/psaux -t ps2\n```\n\n- USB マウスの場合:\n\n```\n-m /dev/input/mice -t imps2\n```\n\n- IBM トラックポイントの場合:\n\n```\n-m /dev/input/mice -t ps2\n```\n\n満足のいく設定が決められたら、gpm.service を起動・有効化してください。\n\n詳しい情報は gpm(8) を参照。\n\n"
    },
    {
      "title": "仮想環境",
      "level": 3,
      "content": "QEMU や VirtualBox でエミュレートされるマウスは、初期状態ではクリックやポインタの位置合わせに問題があります。 ホスト側のマウス位置が同期されず、仮想環境ウィンドウに繰り返し出入りしないとマウスを辿れない領域が生じています。Clicks register in a different location than the cursor was showing at.\n\n絶対座標が用いられる USB タブレットとしてマウスをエミュレートすることで解決します。 そのためには、USB タブレット対応の Pull Request [1] がマージされた gpm-vmAUR を使う必要があります。\n\nevent は標準では次のようになっていますが、場合によっては変更する必要があります:\n\n```\n/etc/gpm-vm.conf\n```\n\n```\nevent=\"/dev/input/event2\"\n```\n\nevent の情報を集めるには evtest を実行します:\n\n```\n# evtest\n```\n\n```\n...\n/dev/input/event2:      QEMU QEMU USB Tablet\n...\n```\n\ngpm に引数を追加で渡すには、/etc/gpm-vm.conf の additional_args を設定します。\n\n満足のいく設定が決められたら、gpm.service を起動・有効化してください。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- GPM - Gentoo Wiki\n- consolationAUR Alternative based on libinput\n\n"
    }
  ]
}