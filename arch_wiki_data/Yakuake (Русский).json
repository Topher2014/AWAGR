{
  "title": "Yakuake (Русский)",
  "url": "https://wiki.archlinux.org/title/Yakuake_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- KDE (Русский)\n\nYakuake (англ.) — выпадающий сверху эмулятор терминала для KDE в стиле Guake для GNOME, Tilda (англ.) или консоли в игре Quake.\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите пакет yakuake.\n\n"
    },
    {
      "title": "Использование",
      "level": 2,
      "content": "После установки можно запустить Yakuake следующей командой:\n\n```\n$ yakuake\n```\n\nТеперь можно настроить Yakuake, нажав на кнопку Открыть меню (средняя кнопка в правом нижнем углу окна терминала) и выбрав Комбинации клавиш для изменения сочетания клавиш для показа/скрытия терминала. По умолчанию используется клавиша F12.\n\n"
    },
    {
      "title": "Управление Yakuake из скрипта",
      "level": 2,
      "content": "Как и Guake, Yakuake позволяет контролировать себя во время исполнения посредством передачи сигналов через D-Bus. Таким образом, его можно использовать в сеансе, определяемом пользователем (user defined session). Возможно создавать вкладки, задавать им названия, запрашивать запуск конкретной команды в любой открытой вкладке или просто показывать/скрывать окно Yakuake, вручную в терминале или создав для этого отдельный скрипт.\n\nНиже приведён пример такого скрипта. Он включает в себя открытие и переименование вкладок, разделение окна терминала и запуск команд.\n\n```\n#!/bin/bash\n# Запуск Yakuake с настройками пользователя. Информация основана на https://forums.gentoo.org/viewtopic-t-873915-start-0.html\n# Добавление сессий с предыдущего сайта больше не работает, используйте этот: http://pawelkoston.pl/blog/sublime-text-3-cheatsheet-modules-web-develpment/\n\n# Данная строка нужна в случае, если Yakuake не воспринимает ввод через fcitx.\n/usr/bin/yakuake --im /usr/bin/fcitx --inputstyle onthespot &\n\n# Это даёт Yakuake несколько секунд перед отправкой сигналов D-Bus.\nsleep 2      \n                                                 \n# Запуск htop в отдельной вкладке, разделение терминала и запуск iotop.                                                        \nTERMINAL_ID_0=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.terminalIdsForSessionId 0)\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 0 \"user\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 0 \"htop\"\nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.splitTerminalLeftRight \"$TERMINAL_ID_0\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 1 \"iotop\n\n# Запуск нескольких сессий root-пользователя в одной вкладке (сверху и снизу).                                                                                \nSESSION_ID_1=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession)\nTERMINAL_ID_1=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.terminalIdsForSessionId \"$SESSION_ID_1\")\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 1 \"root\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 2 \"su\"\nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.splitTerminalTopBottom \"$TERMINAL_ID_1\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 3 \"su\" \n\n# Запуск irssi в отдельной вкладке.                                                                                          \nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 2 \"irssi\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 4 \"ssh home -t 'tmux attach -t irssi; bash -l'\" \n\n# Запуск нескольких терминалов SSH в одной вкладке.                                                                                   \nSESSION_ID_2=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.addSession)\nTERMINAL_ID_2=$(qdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.terminalIdsForSessionId \"$SESSION_ID_2\")\nqdbus org.kde.yakuake /yakuake/tabs setTabTitle 3 \"work server\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 5 \"ssh work\"\nqdbus org.kde.yakuake /yakuake/sessions org.kde.yakuake.splitTerminalLeftRight \"$TERMINAL_ID_2\"\nqdbus org.kde.yakuake /yakuake/sessions runCommandInTerminal 6 \"ssh work\"\n```\n\n"
    },
    {
      "title": "dbus-send вместо qdbus",
      "level": 3,
      "content": "Можно заменить qdbus из состава Qt более традиционной утилитой dbus-send. Например, чтобы показать/скрыть окно Yakuake:\n\n```\n$ dbus-send --type=method_call --dest=org.kde.yakuake /yakuake/window org.kde.yakuake.toggleWindowState\n```\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- Взаимодействие с Yakuake посредством D-Bus\n- Создание скриптов для Yakuake на coderwall.com (англ.)\n\n"
    }
  ]
}