{
  "title": "Aria2 (Русский)",
  "url": "https://wiki.archlinux.org/title/Aria2_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "С домашней страницы проекта:\n\n"
    },
    {
      "title": "Установка",
      "level": 2,
      "content": "Установите aria2 из официальных репозиториев.\n\nТакже можете поставить aria2-systemd для использования aria2 в качестве демона.\n\n"
    },
    {
      "title": "aria2.conf",
      "level": 3,
      "content": "aria2 использует файл $XDG_CONFIG_HOME/aria2/aria2.conf для установки глобальных параметров по умолчанию. Это поведение может быть изменено переключателем --conf-path:\n\n- Скачайте aria2.example.rar используя параметры, указанные в файле настроек /file/aria2.rapidshare\n\n```\n$ aria2c --conf-path=/file/aria2.rapidshare http://rapidshare.com/files/12345678/aria2.example.rar\n```\n\nЕсли существует $XDG_CONFIG_HOME/aria2/aria2.conf и параметры, указанные в /file/aria2.rapidshare нужны, то переключатель --no-conf должен быть добавлен к команде:\n\n- Не использовать файл настроек по умолчанию и скачать aria2.example.rar, используя параметры, указанные в файле настроек /file/aria2.rapidshare\n\n```\n$ aria2c --no-conf --conf-path=/file/aria2.rapidshare http://rapidshare.com/files/12345678/aria2.example.rar\n```\n\nЕсли $XDG_CONFIG_HOME/aria2/aria2.conf пока не существует, и вы хотите упростить управление параметрами настроек:\n\n```\n$ touch $XDG_CONFIG_HOME/aria2/aria2.conf\n```\n\n"
    },
    {
      "title": "Пример aria2.conf",
      "level": 3,
      "content": "```\ncontinue\ndir=${HOME}/Desktop\nfile-allocation=none\ninput-file=${HOME}/.aria2/input.conf\nlog-level=warn\nmax-connection-per-server=4\nmin-split-size=5M\non-download-complete=exit\n```\n\nЭто по существу тоже самое, что и при выполнении:\n\n```\n$ aria2c dir=${HOME}/Desktop file-allocation=none input-file=${HOME}/.aria2/input.conf on-download-complete=exit log-level=warn FILE\n```\n\n"
    },
    {
      "title": "Детали опций",
      "level": 4,
      "content": "- Загрузка aria2-1.10.0.tar.bz2 из двух отдельных источников, до соединения в ~/Desktop aria2-1.10.0.tar.bz2\n\n```\nhttp://aria2.net/files/stable/aria2-1.10.0/aria2-1.10.0.tar.bz2    http://sourceforge.net/projects/aria2/files/stable/aria2-1.10.0/aria2-1.10.0.tar.bz2\n```\n\n- Загрузить aria2-1.9.5.tar.bz2 и сохранить в /file/old как aria2.old.tar.bz2 &\n- Загрузить aria2-1.10.0.tar.bz2 и сохранить в ~/Desktop как aria2.new.tar.bz2\n\n```\nhttp://aria2.net/files/stable/aria2-1.9.5/aria2-1.9.5.tar.bz2\n  dir=/file/old\n  out=aria2.old.tar.bz2\nhttp://aria2.net/files/stable/aria2-1.10.0/aria2-1.10.0.tar.bz2\n  out=aria2.new.tar.bz2\n```\n\n"
    },
    {
      "title": "Пример aria2.rapidshare",
      "level": 3,
      "content": "```\nhttp-user=USER_NAME\nhttp-passwd=PASSWORD\nallow-overwrite=true\ndir=/file/Downloads\nfile-allocation=falloc\nenable-http-pipelining=true\ninput-file=/file/input.rapidshare\nlog-level=error\nmax-connection-per-server=2\nsummary-interval=120\n```\n\n"
    },
    {
      "title": "Дополнительные замечания",
      "level": 4,
      "content": "- Так как файл aria2.rapidshare содержит имя пользователя и пароль, рекомендуется установить права на файл 600, или аналогичные.\n\n```\n$ cd /file\n$ chmod 600 /file/aria2.rapidshare\n$ ls -l\ntotal 128M\n-rw------- 1 arch users  167 Aug 20 00:00 aria2.rapidshare\n```\n\n"
    },
    {
      "title": "Пример aria2.bittorrent",
      "level": 3,
      "content": "```\nbt-seed-unverified\nmax-overall-upload-limit=1M\nmax-upload-limit=128K\nseed-ratio=5.0\nseed-time=240\n```\n\n"
    },
    {
      "title": "Пример aria2.daemon",
      "level": 3,
      "content": "Эта настройка может быть использована для запуска Aria2 в качестве службы. Также может использоваться в сочетании с несколькими интерфейсами, перечисленными ниже. Обратите внимание, что RPC-пользователя и rpc-pass устарели, но большинство интерфейсов не были ещё портированы на новую аутентификацию. Не забудьте изменить пароль пользователя, и каталог Загрузки.\n\n```\ncontinue\ndaemon=true\ndir=/home/aria2/Downloads\nfile-allocation=falloc\nlog-level=warn\nmax-connection-per-server=4\nmax-concurrent-downloads=3\nmax-overall-download-limit=0\nmin-split-size=5M\nenable-http-pipelining=true\n\nenable-rpc=true\nrpc-listen-all=true\nrpc-user=rpcuser\nrpc-passwd=rpcpass\n```\n\n"
    },
    {
      "title": "Веб-интерфейсы",
      "level": 3,
      "content": "- Webui — Html фронтэнд для aria2.\n\n- aria2rpc — Инструмент командной строки для подключения к удаленному экземпляру aria2c. Если aria2c установлена его можно найти в /usr/share/doc/aria2/xmlrpc/aria2rpc.\n\n"
    },
    {
      "title": "Другие интерфейсы",
      "level": 3,
      "content": "Note: **не нужны** \n\n- aria2fe — Графический интерфейс CLI-based утилиты загрузок aria2.\n\n- Diana — Инструмент командной строки для aria2\n\n- uGet — Многофункциональный, многопоточный, с поддержкой докачки GTK+/CLI менеджер загрузок, который может использовать aria2 как бэкэнд, встроенный плагин.\n\n"
    },
    {
      "title": "Скачать пакеты без установки",
      "level": 3,
      "content": "Просто воспользуйтесь командой, приведенной ниже:\n\n```\n# pacman -Sp packages | aria2c -i -\n```\n\npacman -Sp покажет список адресов пакетов в стандартном выводе (stdout) вместо того, чтобы загрузить, затем | передаст их для следующей команды. И, наконец -i в aria2c -i - скажет aria2c, что URL-адреса для скачиваемых файлов должны быть считаны из указанного файла, но так как добавлен -, значит URL-адреса нужно брать из стандартного ввода (stdin).\n\n"
    },
    {
      "title": "pacman XferCommand",
      "level": 3,
      "content": "Смотрите pacman/Советы и приёмы#aria2.\n\n"
    },
    {
      "title": "Изменение User Agent",
      "level": 3,
      "content": "Некоторые сайты могут фильтровать запросы на основе вашего User Agent, поскольку Aria2 малоизвестный загрузчик, может оказаться полезным изменить User Agent, представляясь известным загрузчиком или браузером. Просто используйте опцию -U, как здесь:\n\n```\n$ aria2c -UWget http://some-url-to-download/file.xyz\n```\n\nВы можете использовать все, что пожелаете, например -UMozilla/5.0 и т.д.\n\n"
    },
    {
      "title": "Использование Aria2 с makepkg",
      "level": 3,
      "content": "Вы можете использовать Aria2 (Русский) вместо curl для скачивания файлов-исходников, просто измените переменную DLAGENTS следующим образом:\n\n```\n/etc/makepkg.conf\n```\n\n```\n[...]\nDLAGENTS=('ftp::/usr/bin/aria2c -UWget -s4 -x4 %u -o %o'\n          'http::/usr/bin/aria2c -UWget -s4 -x4 %u -o %o'\n          'https::/usr/bin/aria2c -UWget -s4 -x4 %u -o %o'\n          'rsync::/usr/bin/rsync --no-motd -z %u %o'\n          'scp::/usr/bin/scp -C %u %o')\n[...]\n```\n\n"
    },
    {
      "title": "Смотрите также",
      "level": 2,
      "content": "- Руководство - Официальное руководство aria2 на Русском\n- Примеры использования - официальный сайт\n\n"
    }
  ]
}