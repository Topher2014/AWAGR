{
  "title": "Blueman (日本語)",
  "url": "https://wiki.archlinux.org/title/Blueman_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- Bluetooth\n- Bluez4\n\nBlueman は、Python で記述され、GTK を使用するフル機能の Bluetooth マネージャーです。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 使用方法 2.1 自動起動 2.2 パーミッション 2.3 Bluetooth デバイスをマウント 2.4 Blueman と PulseAudio\n- 3 設定 3.1 自動電源オンを無効にする\n- 4 トラブルシューティング 4.1 アダプタが検出されない 4.2 ファイルを受信できない\n- 5 参照\n\n- 2.1 自動起動\n- 2.2 パーミッション\n- 2.3 Bluetooth デバイスをマウント\n- 2.4 Blueman と PulseAudio\n\n- 3.1 自動電源オンを無効にする\n\n- 4.1 アダプタが検出されない\n- 4.2 ファイルを受信できない\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "blueman または blueman-gitAUR (開発版) をインストールしてください。\n\nBluetooth デーモンを有効にして blueman-applet で Blueman を起動します。グラフィカルな設定パネルは blueman-manager で起動できます。\n\n"
    },
    {
      "title": "自動起動",
      "level": 3,
      "content": "Blueman をインストールすると次の autostart に /etc/xdg/autostart/blueman.desktop ファイルが作成されます。このため、ほとんどのデスクトップ環境で、何も設定しなくても Blueman は自動で起動します。自動起動に関する詳細は 自動起動 の記事や、使用しているデスクトップ環境またはウィンドウマネージャのページを見て下さい。\n\n"
    },
    {
      "title": "パーミッション",
      "level": 3,
      "content": "ファイルを受信するには Blueman のトレイアイコンを右クリックして Local Services > Transfer > File Receiving から \"Enabled\" の横にあるチェックボックスにチェックを入れて下さい。\n\nデバイスを管理できるようにするには、ユーザーを lp グループに追加する必要がある場合があります。そうしないと、デバイスへの接続時に次のエラーが表示される可能性があります: DBusFailedError: No such file or directory これは、ユーザーが D-Bus 経由で Bluetooth デーモンと通信することを許可される必要があるためです。lp グループは /etc/dbus-1/system.d/bluetooth.conf で指定されています。ユーザーをグループに追加する方法については、ユーザーとグループ#ユーザー管理の他の例 を参照してください。\n\nバージョン 2.0.6 以降、公式 ドキュメント では、ルートとして起動するたびに polkit エージェントがパスワードを要求するのを避けるために、polkit ルールを作成することを推奨しています。次の polkit ルールを追加して下さい。\n\n```\n/etc/polkit-1/rules.d/51-blueman.rules\n```\n\n```\n/* Allow users in wheel group to use blueman feature requiring root without authentication */\npolkit.addRule(function(action, subject) {\n    if ((action.id == \"org.blueman.network.setup\" ||\n         action.id == \"org.blueman.dhcp.client\" ||\n         action.id == \"org.blueman.rfkill.setstate\" ||\n         action.id == \"org.blueman.pppd.pppconnect\") &&\n        subject.isInGroup(\"wheel\")) {\n\n        return polkit.Result.YES;\n    }\n});\n```\n\nユーザーは wheel グループに属している必要があることに注意してください。\n\n"
    },
    {
      "title": "Bluetooth デバイスをマウント",
      "level": 3,
      "content": "以下の手順では、Blueman でさまざまなファイルマネージャーを使用する方法について説明します。このセクションの例は、Thunar に焦点を当てています。別のファイルマネージャーを使用している場合は、thunar を使用しているファイルマネージャーの名前に置き換えます。\n\n```\nobex_thunar.sh\n```\n\n```\n#!/bin/bash\nfusermount -u ~/bluetooth\nobexfs -b $1 ~/bluetooth\nthunar ~/bluetooth\n```\n\n上のスクリプトを適当な場所に置いて下さい (例: /usr/local/bin)。スクリプトを作ったら、実行可能属性を与えます:\n\n```\n# chmod +x /usr/local/bin/obex_thunar.sh\n```\n\n最後に Blueman トレイアイコン > Local Services > Transfer > Advanced の行を obex_thunar.sh %d に変更します。\n\n"
    },
    {
      "title": "Blueman と PulseAudio",
      "level": 3,
      "content": "PulseAudio で Bluetooth ヘッドセットを使用したいユーザーは Blueman の PulseAudio プラグインを有効にすると良いでしょう。オーディオデバイスが接続された後にプラグインが自動的に PulseAudio の Bluetooth モジュールをロードして、全ての音声を Bluetooth ヘッドセットに再生します。\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "設定は、/org/blueman の dconf (または gsettings または dconf-editor) を通じて行われます。\n\n"
    },
    {
      "title": "自動電源オンを無効にする",
      "level": 3,
      "content": "Blueman は、特定のイベント (起動時、ラップトップの蓋が開いたときなど) が発生すると、Bluetooth アダプター (rfkill unblock bluetooth) を自動的に有効にしますが、これは、org.blueman.plugins.powermanager の auto-power-on で無効にできます:\n\n```\n$ gsettings set org.blueman.plugins.powermanager auto-power-on false\n```\n\n"
    },
    {
      "title": "アダプタが検出されない",
      "level": 3,
      "content": "Bluetooth アプレットまたはマネージャーが Bluetooth アダプターを表示または検出しない場合は、ワイヤレスカードがブロックされている可能性があります。rfkill を使用してブロックを解除してみてください。\n\n"
    },
    {
      "title": "ファイルを受信できない",
      "level": 3,
      "content": "もしファイルの送受信ができず、process org.bluez.obex exited with status 1 のような python-dbus-exception エラーに遭遇したら、/usr/lib/bluetooth/obexd から手動で obexd-service を起動し、それが役に立つかどうか確認することをお勧めします。デフォルトのパーミッションは755なので、ユーザーアカウントからデーモンを起動することも可能です。\n\n次の行から始めてください:\n\n```\n# /usr/lib/bluetooth/obexd -n\n```\n\nコマンドを実行するターミナルを開き、ファイルの送信がうまくいくかテストします。実際にファイルを受け取れるか確認してください。このコマンドを 自動起動 に追加すれば、毎回手動でサービスを起動する必要がなくなります。デスクトップ環境の自動起動は、ログインするとプログラムを実行できます。手動で起動しなくてもファイルを受信できるようになるはずです。\n\nエラーが続くか別のエラーが発生する場合は、代わりに ObexFTP をファイル転送に使用してみてください。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- Blueman development, on GitHub\n\n"
    }
  ]
}