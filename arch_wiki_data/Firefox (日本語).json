{
  "title": "Firefox (日本語)",
  "url": "https://wiki.archlinux.org/title/Firefox_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- Firefox/設定\n- Firefox/プロファイルを RAM に置く\n- Firefox/プライバシー\n- ブラウザ拡張機能\n- Chromium\n\nFirefox は Mozilla によって開発されているオープンソースの人気グラフィカルウェブブラウザです。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 アドオン 2.1 検索エンジンの追加 2.1.1 firefox-extension-arch-search\n- 3 プラグイン\n- 4 設定 4.1 設定の保存 4.2 マルチメディアの再生 4.2.1 HTML5 DRM/Widevine 4.2.2 \"Open With\" 拡張機能 4.2.3 ハードウェアビデオアクセラレーション 4.3 スペルチェック 4.3.1 システム全体の Hunspell 辞書 4.3.2 拡張機能としての辞書 4.4 XDG Desktop Portal との統合 4.5 KDE との統合 4.6 GNOME との統合 4.7 聴く (テキストの読み上げ) 4.7.1 セットアップ 4.7.2 使用法 4.7.3 festival-us の音声を使用する\n- 5 ヒントとテクニック 5.1 ダークテーマ 5.2 フレームレート 5.3 メモリ制限 5.4 新しいタブの位置 5.5 ウェブページのスクリーンショット 5.6 Wayland 5.7 ウィンドウマネージャのルール 5.8 プロファイル 5.9 タッチスクリーンジェスチャとトラックパッドのスクロール 5.10 複数のホームページ 5.11 PDF ビューアで2つのページを並べて表示する 5.12 キオスクモード 5.13 コンパクトモード 5.14 GNOME 検索プロバイダ 5.15 ライブラリーウィンドウでカスタムの日付と時間の形式を使う 5.16 Firefox をシャットダウンする Ctrl+q キーバインドを無効化する 5.17 ハイブリッドポスト量子鍵交換を有効化する\n- 6 トラブルシューティング 6.1 トラブルシューティングモード 6.2 Firefox のリフレッシュ 6.3 ハードウェアビデオアクセラレーションの問題 6.4 拡張機能 X が一部の Mozilla 所有のドメインで動作しない 6.5 Firefox の起動に非常に時間がかかる 6.6 フォントのトラブルシューティング 6.7 メールクライアントの設定 6.8 ファイルの関連付け 6.9 Firefox が不必要に ~/Desktop を作成し続けてしまう 6.10 ダウンロードディレクトリに保存した覚えのないファイルが出現する 6.10.1 検討すべき追加の設定 6.11 userChrome.css と userContent.css の変更が無視される 6.12 中クリックの動作 6.13 バックスペースが '戻る' ボタンとして機能しない 6.14 Firefox がログイン情報を記憶しない 6.15 フルスクリーンにできない/解除できない 6.16 YouTube がフルスクリーンの時にスクロールバーが非表示にならない/無効化されない 6.17 一部のサイトで JavaScript のコンテキストメニューが表示されない 6.18 Firefox がデフォルトのスペルチェック言語を記憶しない 6.19 Firefox がシステム全体の Hunspell のスペルチェック辞書を見つけてくれない 6.20 一部の MathML 記号が表示されない 6.21 動画がロードされるが、再生されない 6.22 スクロール時にチラツキが発生する 6.23 Firefox の WebRTC モジュールがマイクを認識できない 6.24 WebRTC 共有インジケータが XML パースエラーを表示する 6.25 中国のアカウントでログインできません 6.26 JACK と PulseAudio を使用した場合、特定のビデオで音声が聞こえない 6.27 位置情報が機能しない 6.28 ウィンドウマネージャで、マウスの右ボタンを押すと最初のオプションが即座にクリックされる 6.29 コンポジットを無効にしたり有効にしたりすると、Firefox のウィンドウが再描画されない 6.30 Firefox が起動時にデフォルトブラウザとして設定するよう要求され続ける 6.31 動画のちらつき 6.32 一部のページでベンガル語フォントが壊れる 6.33 Web Speech API で音が出ない 6.34 ナレータ/聴くのアイコンがリーダーモードで表示されない 6.34.1 合成音声を有効化する 6.34.2 フィンガープリント採取防止機能を無効化する 6.34.3 filter voices を無効化する 6.35 ファイルをダウンロードするときにファイル選択ダイアログが開かない 6.36 タイル型ウィンドウマネージャや Wayland コンポジタで通知がフロート表示されない\n- 7 参照\n\n- 2.1 検索エンジンの追加 2.1.1 firefox-extension-arch-search\n\n- 2.1.1 firefox-extension-arch-search\n\n- 4.1 設定の保存\n- 4.2 マルチメディアの再生 4.2.1 HTML5 DRM/Widevine 4.2.2 \"Open With\" 拡張機能 4.2.3 ハードウェアビデオアクセラレーション\n- 4.3 スペルチェック 4.3.1 システム全体の Hunspell 辞書 4.3.2 拡張機能としての辞書\n- 4.4 XDG Desktop Portal との統合\n- 4.5 KDE との統合\n- 4.6 GNOME との統合\n- 4.7 聴く (テキストの読み上げ) 4.7.1 セットアップ 4.7.2 使用法 4.7.3 festival-us の音声を使用する\n\n- 4.2.1 HTML5 DRM/Widevine\n- 4.2.2 \"Open With\" 拡張機能\n- 4.2.3 ハードウェアビデオアクセラレーション\n\n- 4.3.1 システム全体の Hunspell 辞書\n- 4.3.2 拡張機能としての辞書\n\n- 4.7.1 セットアップ\n- 4.7.2 使用法\n- 4.7.3 festival-us の音声を使用する\n\n- 5.1 ダークテーマ\n- 5.2 フレームレート\n- 5.3 メモリ制限\n- 5.4 新しいタブの位置\n- 5.5 ウェブページのスクリーンショット\n- 5.6 Wayland\n- 5.7 ウィンドウマネージャのルール\n- 5.8 プロファイル\n- 5.9 タッチスクリーンジェスチャとトラックパッドのスクロール\n- 5.10 複数のホームページ\n- 5.11 PDF ビューアで2つのページを並べて表示する\n- 5.12 キオスクモード\n- 5.13 コンパクトモード\n- 5.14 GNOME 検索プロバイダ\n- 5.15 ライブラリーウィンドウでカスタムの日付と時間の形式を使う\n- 5.16 Firefox をシャットダウンする Ctrl+q キーバインドを無効化する\n- 5.17 ハイブリッドポスト量子鍵交換を有効化する\n\n- 6.1 トラブルシューティングモード\n- 6.2 Firefox のリフレッシュ\n- 6.3 ハードウェアビデオアクセラレーションの問題\n- 6.4 拡張機能 X が一部の Mozilla 所有のドメインで動作しない\n- 6.5 Firefox の起動に非常に時間がかかる\n- 6.6 フォントのトラブルシューティング\n- 6.7 メールクライアントの設定\n- 6.8 ファイルの関連付け\n- 6.9 Firefox が不必要に ~/Desktop を作成し続けてしまう\n- 6.10 ダウンロードディレクトリに保存した覚えのないファイルが出現する 6.10.1 検討すべき追加の設定\n- 6.11 userChrome.css と userContent.css の変更が無視される\n- 6.12 中クリックの動作\n- 6.13 バックスペースが '戻る' ボタンとして機能しない\n- 6.14 Firefox がログイン情報を記憶しない\n- 6.15 フルスクリーンにできない/解除できない\n- 6.16 YouTube がフルスクリーンの時にスクロールバーが非表示にならない/無効化されない\n- 6.17 一部のサイトで JavaScript のコンテキストメニューが表示されない\n- 6.18 Firefox がデフォルトのスペルチェック言語を記憶しない\n- 6.19 Firefox がシステム全体の Hunspell のスペルチェック辞書を見つけてくれない\n- 6.20 一部の MathML 記号が表示されない\n- 6.21 動画がロードされるが、再生されない\n- 6.22 スクロール時にチラツキが発生する\n- 6.23 Firefox の WebRTC モジュールがマイクを認識できない\n- 6.24 WebRTC 共有インジケータが XML パースエラーを表示する\n- 6.25 中国のアカウントでログインできません\n- 6.26 JACK と PulseAudio を使用した場合、特定のビデオで音声が聞こえない\n- 6.27 位置情報が機能しない\n- 6.28 ウィンドウマネージャで、マウスの右ボタンを押すと最初のオプションが即座にクリックされる\n- 6.29 コンポジットを無効にしたり有効にしたりすると、Firefox のウィンドウが再描画されない\n- 6.30 Firefox が起動時にデフォルトブラウザとして設定するよう要求され続ける\n- 6.31 動画のちらつき\n- 6.32 一部のページでベンガル語フォントが壊れる\n- 6.33 Web Speech API で音が出ない\n- 6.34 ナレータ/聴くのアイコンがリーダーモードで表示されない 6.34.1 合成音声を有効化する 6.34.2 フィンガープリント採取防止機能を無効化する 6.34.3 filter voices を無効化する\n- 6.35 ファイルをダウンロードするときにファイル選択ダイアログが開かない\n- 6.36 タイル型ウィンドウマネージャや Wayland コンポジタで通知がフロート表示されない\n\n- 6.10.1 検討すべき追加の設定\n\n- 6.34.1 合成音声を有効化する\n- 6.34.2 フィンガープリント採取防止機能を無効化する\n- 6.34.3 filter voices を無効化する\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "firefox パッケージをインストールしてください。\n\nその他にも、以下のような選択肢があります:\n\n- Firefox Developer Edition — 開発者向けのバージョン\n\n- Firefox Extended Support Release — 長期サポート版\n\n- Firefox Beta — ベータ版\n\n- Firefox Nightly — テスト用のナイトリービルド (実験的な機能)\n\n- Firefox KDE — OpenSUSE パッチが適用された Firefox。シンプルな Firefox プラグインで KDE との統合を実現しています。\n\n- 異なる Mozilla ビルドチャンネルの上に、多かれ少なかれ特別な機能を持ったフォークが多数存在します。アプリケーション一覧/インターネット#Gecko ベース を参照。\n\nFirefox では、標準の英語以外に、多くの言語パックが利用可能です。言語パックは通常 firefox-i18n-言語コード という名前です(ここで 言語コード には de, ja, fr など、任意の言語コードになりえます)。利用可能な言語パックの一覧については、firefox は firefox-i18n を、firefox-developer-edition は firefox-developer-edition-i18n を、firefox-nightlyAUR は firefox-nightly- を参照してください。\n\n"
    },
    {
      "title": "アドオン",
      "level": 2,
      "content": "Firefox は大量のアドオンのライブラリがあることで知られており、Firefox に機能を追加したり、もともとある機能の挙動を変更したりすることができます。Firefox の \"アドオンマネージャ\" から新しいアドオンを見つけたりインストールしたアドオンを管理できます。\n\nアドオンのインストール方法やアドオンの一覧は、ブラウザ拡張機能 を見て下さい。\n\n"
    },
    {
      "title": "検索エンジンの追加",
      "level": 3,
      "content": "検索エンジンはブックマークを作成することにより Firefox に追加することができます:\n\n- アドレスバーの星マークをクリックするか、Ctrl+d を押してください。\n- 作成したブックマークを右クリックし、ブックマークを編集... を押してください。\n- URL 欄に検索 URL を入力してください。クエリ部分は %s としてください。キーワード 欄にユーザ定義文字を入力してください。例えば:\n\n```\nURL:\nhttps://duckduckgo.com/html/?q=%s\nKeyword:\nd\n```\n\n検索は、指定した検索エンジンのキーワードを検索語の前に置くことで行われます: d archwiki は検索語 archwiki を使って DuckDuckGo を検索します。\n\nアドオン拡張機能でも検索エンジンを Firefox に追加できます。利用可能な検索ツールとエンジンのリストはこのページを見てください。\n\n検索エンジンの非常に広範なリストは Mycroft Project で見つけることができます。\n\n"
    },
    {
      "title": "firefox-extension-arch-search",
      "level": 4,
      "content": "firefox-extension-arch-searchAUR パッケージをインストールすることで、Firefox 検索ツールバーで Arch に関わる検索 (AUR, wiki, フォーラムなど) が追加できます。\n\n"
    },
    {
      "title": "プラグイン",
      "level": 2,
      "content": "Firefox 85 で Flash Player を含むすべてのプラグインのサポートが削除されました。[2][3]\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "Firefox では、多くの設定項目が公開されています。それらを調べるには、Firefox のアドレスバーに以下を入力します:\n\n```\nabout:config\n```\n\n一度設定すると、これらはユーザーの現在のプロファイルに影響を与え、Firefox Sync を介してすべてのデバイス間で同期させることができます。この方法で同期されるのは about:config エントリのサブセットのみで、正確なサブセットは about:config で services.sync.prefs を検索して見つけることができることに注意してください。追加の設定やサードパーティの設定は、設定値の前に services.sync.prefs.sync を付けて新しいブール値のエントリを作成することで同期させることができます。拡張機能のホワイトリストを同期するには、NoScript を使用します:\n\n```\nservices.sync.prefs.sync.capability.policy.maonoscript.sites\n```\n\nNoScript の残りの設定を Firefox Sync 経由で同期するには、ブール変数 noscript.sync.enabled を true に設定する必要があります。\n\n"
    },
    {
      "title": "設定の保存",
      "level": 3,
      "content": "Firefox はプロファイルの設定を prefs.js としてプロファイルフォルダ (通常は ~/.mozilla/firefox/xxxxxxxx.default/) に格納します。\n\nFirefox では、user.js ファイルを使用してプロファイルを設定することもできます: user.js もプロファイルフォルダに保存されます。user.js の設定は prefs.js よりも優先されます。user.js の設定はプロファイルの開始時にしかパースされません。ゆえに、about:config で変更をテストして、その結果を見つつ user.js を実行時に修正することができます。有用な出発点として、プライバシーやセキュリティに敏感なユーザーを対象とした custom user.js などを参照してください。\n\n上記のアプローチの欠点は、システム全体に適用されないことです。さらに、ブラウザの初回起動後にプロファイルディレクトリが作成されるため、「事前設定」としては役に立ちません。ただし、firefox に新しいプロファイルを作成させ、再び閉じた後に、既に作成されているプロファイルフォルダの内容を コピー することは可能です。\n\nカスタマイズされた Firefox を広く展開する際に役立つ機能として、特定の設定をロックすることが望まれる場合があります。システム全体の設定を作成するには、環境設定のロック で説明されている手順を実行します:\n\n1. /usr/lib/firefox/defaults/pref/autoconfig.js を作成する:\n\n```\npref(\"general.config.filename\", \"firefox.cfg\");\npref(\"general.config.obscure_value\", 0);\n```\n\n2. /usr/lib/firefox/firefox.cfg を作成する (これには実際の設定が保存されています):\n\n```\n//\n//...設定...\n// 例: Pocket を無効化するには、以下の行をアンコメントしてください。\n// lockPref(\"extensions.pocket.enabled\", false);\n// lockPref(\"browser.newtabpage.activity-stream.feeds.section.topstories\", false);\n```\n\n最初の行には正確に // が無ければならないことに注意してください。ファイルの構文は user.js のものと似ています。\n\n"
    },
    {
      "title": "マルチメディアの再生",
      "level": 3,
      "content": "Firefox は HTML5 の <audio> や <video> 要素内のマルチメディアを再生するために FFmpeg を使用しています。どのフォーマットが実際にサポートされているかを確認したい場合は、動画をテストするには https://cconcolato.github.io/media-mime-support/ を、音声をテストするには https://hpr.dogphilosophy.net/test/ を使ってください。\n\nFirefox は、音声の再生と取り込みに PulseAudio を使用します。PulseAudio がインストールされていない場合、Firefox は代わりに ALSA を使用します。デフォルトでは Firefox は音声付きのメディアをすべて自動再生しないことに注意してください。[4]\n\n"
    },
    {
      "title": "HTML5 DRM/Widevine",
      "level": 4,
      "content": "Widevine は、Netflix や Amazon Prime Video などがビデオコンテンツを保護するために使用しているデジタル著作権管理ツールです。設定 > 一般 > デジタル著作権管理(DRM)コンテンツ で有効にすることができます。この設定が無効になっているときに Widevine が有効なページにアクセスすると、Firefox はアドレスバーの下に DRM をインストールする許可を求めるプロンプトを表示します。これを承認し、ダウンロード中 バーが消えるのを待つと、Widevine で保護されたサイトのビデオを見ることができるようになります。\n\nFirefox では、ハードウェア DRM 再生 を使用していないため、Widevine では 720p の動画 (またはそれ以下) しか再生できません。また、ウィンドウと設定で、プライベート モードのブラウジングを無効にする必要があります。\n\n"
    },
    {
      "title": "\"Open With\" 拡張機能",
      "level": 4,
      "content": "1. Open With アドオンをインストールします。\n1. アドオン > Open With > Preferences に移動します。\n1. ファイルをシステムにインストールし、インストールをテストするための指示に従います。\n1. ブラウザの追加 をクリックします.\n1. ダイアログにこのメニューエントリの名前と, 動画ストリーミングプレイヤーを起動するコマンド (例: /usr/bin/mpv) を記述してください. 任意で、必要な引数をプレイヤーに追加する (例えば mpv には --force-window --ytdl が必要でしょう)。\n1. リンクを右クリックするか、動画を含むページを訪問してください。Open With のメニューから新しく作成したエントリを選択すると、そのサイトがサポートされていれば、期待通りにプレーヤーが開くでしょう。\n\n1. 任意で、必要な引数をプレイヤーに追加する (例えば mpv には --force-window --ytdl が必要でしょう)。\n\n同じ手順で、youtube-dl のようなビデオダウンローダーを関連付けることができます。\n\n"
    },
    {
      "title": "ハードウェアビデオアクセラレーション",
      "level": 4,
      "content": "VA-API によるハードウェアビデオアクセラレーション は Wayland [5] と Xorg [6] [7] で利用可能です。\n\nFirefox で VA-API を有効化するには:\n\n1. ビデオカードが ハードウェアビデオアクセラレーション に記載されている VA-API の設定に正しく設定されていることを確認してください。\n1. WebRender が有効になっていることを確認するために、about:support にアクセスし、Compositing の値が \"WebRender\" になっているか確認してください。GNOME やその他のデスクトップ環境ではデフォルトで有効になっています [8] \"Software WebRender\" が実行されていないことを確認してください。これは 2021 年 8 月時点では動作しません [9] 必要に応じて、Hardware WebRender を強制的に有効化するには、about:config で gfx.webrender.all を true に設定してください。\n1. VA-API は Intel GPU ではデフォルトで有効になっています (Firefox 115 以降を使用している場合) [10] その他の GPU では、about:config で media.ffmpeg.vaapi.enabled を true に設定してください。\n1. オプションとして、マルチ GPU システム (例:Ryzen 7000 シリーズの IGP と GPU を併用する環境) で電力を節約し、IGP/GPU が対応するより多くのビデオコーデックを活用するために、Firefox を起動する際に MOZ_DRM_DEVICE 環境変数を使用して優先するレンダリングデバイスを指定することができます。(利用可能なデバイスは stat /dev/dri/* で確認可能です。)\n\n- \"Software WebRender\" が実行されていないことを確認してください。これは 2021 年 8 月時点では動作しません [9]\n- 必要に応じて、Hardware WebRender を強制的に有効化するには、about:config で gfx.webrender.all を true に設定してください。\n\n- ハードウェアビデオアクセラレーションが about:support でエラーコード FEATURE_HARDWARE_VIDEO_DECODING_DISABLE または FEATURE_FAILURE_VIDEO_DECODING_TEST_FAILED によってブロックされている場合、media.hardware-video-decoding.force-enabled=true を設定することで上書きできます。詳細は [11] を参照してください。別の方法として、firefox-vaapiAUR をインストールすることも可能です。\n- NVIDIA のプロプライエタリドライバーは VA-API をサポートしていませんが、新しいバージョンでは DMA-BUF をサポートしています。libva-nvidia-driver を使用すると、CUDA を利用したハードウェア動画デコードが NVIDIA で可能になります。必要な環境変数や about:config の設定変更については、GitHub プロジェクト のドキュメントを参照してください。\n- 現在、Firefox の VA-API 実装は H.264/AVC、H.265/HEVC、VP8 & VP9、AV1 でエンコードされた動画をデコードできます。AV1 のサポートには Firefox 98 以上が必要です [12]。H.265/HEVC のサポートには Firefox 137 以上が必要です。[13]\n- マルチ GPU システムでは、この 解決済みの問題 に従い、自動的に適切な GPU が VA-API に選択されるはずです。\n- AMDGPU ユーザーで linux-hardened を使用している場合、mesa が kcmp システムコールを必要とする ため、linux-hardened を CONFIG_CHECKPOINT_RESTORE=y 設定で再構築する必要があるかもしれません。ただし、この バグの修正 により不要になった可能性があります。\n- Wayland は時々ハードウェア動画デコードを妨害することがあります。動画をフルスクリーンにした際に一瞬ちらつく場合は、about:config で widget.wayland.opaque-region.enabled=false を設定してください。\n- nvidia-open または nvidia-open-dkms を使用している場合、nvidia-smi で Firefox の VRAM 使用量が 0MB と表示されることがあります。これは正常な動作であり、無視して問題ありません。修正するには、ドライバーを nvidia または nvidia-dkms に切り替えてください。\n\nVA-API の使用状況は、Firefox の VA-API ログを確認することで検証できます。Firefox を MOZ_LOG=\"FFmpegVideo:5\" 環境変数付きで実行し、ログ出力内で \"VA-API\" という文字列を検索して、例えば動画を再生した際に VA-API が有効になっているか、使用されているかを確認してください。これらのログに注意を払い、前述の 2 つの可能なコンポジター (WebRender または OpenGL) のうち、どちらが VA-API と動作するかを特定してください。\n\n"
    },
    {
      "title": "スペルチェック",
      "level": 3,
      "content": "Firefox は、システム全体にインストールされている Hunspell 辞書と、独自の拡張システムを通じてインストールされた辞書を使用することができます。\n\n特定の言語のスペルチェックを有効にするには、任意のテキストフィールドを右クリックし、Check Spelling ボックスをチェックします。スペルチェックの言語を選択するには、もう一度右クリックし、言語 サブメニューから言語を選択します。\n\nデフォルトの言語選択が定着しない場合は、#Firefox がデフォルトのスペルチェック辞書を記憶しない を参照してください。\n\n"
    },
    {
      "title": "システム全体の Hunspell 辞書",
      "level": 4,
      "content": "Hunspell と必要な言語の辞書をインストールします。\n\n"
    },
    {
      "title": "拡張機能としての辞書",
      "level": 4,
      "content": "より多くの言語を取得するには、任意のテキストフィールドを右クリックして、辞書を追加... をクリックし、辞書と言語パックのリスト からインストールしたい辞書を選択するだけです。\n\n"
    },
    {
      "title": "XDG Desktop Portal との統合",
      "level": 3,
      "content": "バージョン 64 から、Firefox は任意で XDG デスクトップ ポータルを使用して、様々なデスクトップの機能 (ファイル選択ダイアログや MIME タイプ) を扱うことができます。例えば、デスクトップポータルによって、ウェブページにアップロードするためにファイルを選択する時や、名前を付けて保存... でダウンロード先を指定する時に表示するダイアログプログラムを設定することができます。利用可能なバックエンドのリストは XDG デスクトップ ポータル#バックエンドとインターフェースのリスト を見てください。\n\nFirefox には、各機能をデスクトップポータルのリクエストで処理するかどうかや、デフォルトの GTK 機能を使用するかどうかを指定するための多くの独立した設定項目が存在します。\n\n各設定には以下の値を設定できます:\n\n- 0 – しない\n- 1 – 常に\n- 2 – 自動 (大抵、Firefox が Flatpak 内から実行されているかや、GDK_DEBUG=portals 環境変数が設定されているかどうかに依存します。)\n\n設定項目は以下のとおりです:\n\n- widget.use-xdg-desktop-portal.file-picker – ファイル選択ダイアログに XDG ポータルを使用するか\n- widget.use-xdg-desktop-portal.mime-handler – MIME ハンドラに XDG ポータルを使用するか\n- widget.use-xdg-desktop-portal.settings – 設定やルックアンドフィールの情報に XDG ポータルの使用を試みるか\n- widget.use-xdg-desktop-portal.location – 位置情報に XDG ポータルを使用するか\n- widget.use-xdg-desktop-portal.open-uri – ファイルを開くために XDG ポータルを使用するか\n\n"
    },
    {
      "title": "KDE との統合",
      "level": 3,
      "content": "- GTK アプリ (Firefox を含む) に KDE の外観を導入するには、breeze-gtk と kde-gtk-config をインストールしてください。その後、システム設定から 外観 > アプリケーションスタイル > GNOME/GTK アプリケーションスタイルの設定...で 'Breeze' を選択してください。\n- Firefox 64 以降で KDE のファイル選択ダイアログを使うには、xdg-desktop-portal と xdg-desktop-portal-kde をインストールし、about:config で widget.use-xdg-desktop-portal.file-picker を 1 に設定してください。\n- KDE の MIME タイプシステム、プロキシ、ファイルダイアログとの統合のために、OpenSUSE のパッチを適用した AUR の firefox-kde-opensuseAUR を使うことができます。または、Firefox で使われている非推奨の ~/.local/share/applications/mimeapps.list から MIME データベース ~/.config/mimeapps.list へのシンボリックリンクを作成することで MIME タイプと統合することができます。XDG MIME Applications#mimeapps.list を参照してください。\n- 拡張機能/アドオンは、以下のような追加的な統合を提供することがあります: Plasma におけるブラウザの統合: plasma-browser-integration と Plasma Integration アドオン が必要です。\n\n- Plasma におけるブラウザの統合: plasma-browser-integration と Plasma Integration アドオン が必要です。\n\n"
    },
    {
      "title": "GNOME との統合",
      "level": 3,
      "content": "GNOME のファイル選択ダイアログを使用するには、xdg-desktop-portal-gnome をインストールし、about:config で widget.use-xdg-desktop-portal.file-picker を 2 から 1 に変更する必要があります。\n\n"
    },
    {
      "title": "聴く (テキストの読み上げ)",
      "level": 3,
      "content": "Firefox は、ウェブページを合成音声で読み上げることができます。\n\n"
    },
    {
      "title": "セットアップ",
      "level": 4,
      "content": "リーダービューに 聴く アイコンを表示させるには、テキストの読み上げをセットアップする必要があります。Firefox は Speech dispatcher を使用します。これは、音声合成エンジンを必要とします。現在推奨されている音声合成エンジンは Festival です。\n\n"
    },
    {
      "title": "使用法",
      "level": 4,
      "content": "Mozilla のウェブサイトでイラスト付きの手順を見てください。\n\n聴く アイコン (ヘッドフォンのアイコン) は、上記の設定をすべて行い、かつ Speech Dispatcher が動作していて、かつ Festival サーバを起動した後 (前ではいけません) に Firefox を起動したときにのみ、現れます。\n\nさらに、Festival サーバのプロセスは kill したあとも残っていることがありますが、Firefox を終了するとそのプロセスも終了します。\n\n一般的な問題については、#Web Speech API で音が出ない と #ナレータ/聴くのアイコンがリーダーモードで表示されない を見てください。\n\n"
    },
    {
      "title": "festival-us の音声を使用する",
      "level": 4,
      "content": "festival-us パッケージの音声は festival-english のものより良質な音を提供しますが、Firefox では動作しません。Firefox の利用可能な音声のリストに現れず、リーダービューを開いたときに Festival サーバのターミナル出力に以下のようなエラーメッセージが表示されます:\n\n```\nSIOD: unknown voice cmu_us_awb_cg\n```\n\nこれを修正するには、以下の行を編集する必要があります:\n\n- /usr/share/festival/voices/us/cmu_us_awb_cg/festvox/cmu_us_awb_cg.scm\n- /usr/share/festival/voices/us/cmu_us_rms_cg/festvox/cmu_us_rms_cg.scm\n- /usr/share/festival/voices/us/cmu_us_slt_cg/festvox/cmu_us_slt_cg.scm\n\nこれらのファイルそれぞれに対して、ファイルのコードの最後から2行目にコードを追加する必要があります。例えば、cmu_us_awb_cg.scm に対しては以下の行の前にコードを追加します:\n\n```\n(provide 'cmu_us_awb_cg)\n```\n\ncmu_us_awb_cg.scm に追加する必要のあるコードは以下のとおりです。他の2ファイルに対しても、音声の名前、性別、方言、説明文を適切に変更して追加してください。\n\n```\n(proclaim_voice\n 'cmu_us_awb_cg\n '((language english)\n   (gender male)\n   (dialect scottish)\n   (description \"This voice is Scottish\")))\n```\n\n"
    },
    {
      "title": "ヒントとテクニック",
      "level": 2,
      "content": "一般的な設定事項は Firefox 設定を、プライバシー関連の設定は Firefox プライバシーを参照してください。\n\n"
    },
    {
      "title": "ダークテーマ",
      "level": 3,
      "content": "Firefox は GTK のテーマ設定と OS 全体のダークモード外観設定 (GNOME 設定や KDE システム設定の Appearance セクションなど) に従うはずです。後者がうまく行かない場合、適切な xdg-desktop-portal パッケージがインストールされていることを確認してください。\n\nFirefox 68 から、システムの GTK テーマや Firefox テーマに関わらず、全ての Firefox インターフェイスとウェブサイトにダークテーマを適用することができます。そうしたい場合、about:config で ui.systemUsesDarkTheme を 1 に設定してください [14]。\n\nFirefox 100 現在、layout.css.prefers-color-scheme.content-override を使うことで、オプトインしている (CSS メディアクエリ prefers-color-scheme を使用している) ウェブページや Firefox 独自のコンテンツ内ページのダークテーマを更に制御することができます。それを 3 に設定することでブラウザテーマに、2 を設定することでシステム全体のダークモード設定に従うようになります (上記の ui.systemUsesDarkTheme は、ユーザがダークモードの設定を変更していない場合、またはシステムがシステム全体のダークモード設定をサポートしていない場合、デフォルトで 0 になります)。1 や 0 に設定すると、それぞれライトモードとダークモードを常に強制するようになります。この設定は Firefox のユーザ設定の 一般 > 言語と外観 > ウェブサイトの外観 からもアクセスできます。\n\n"
    },
    {
      "title": "フレームレート",
      "level": 3,
      "content": "​Firefox が正しい値を自動的に検出できない場合は、デフォルトで 60 fps に設定されます。​これを手動で修正するには、layout.frame_rate をモニタのリフレッシュレート (例:144 Hzの場合は 144) に設定します。\n\n"
    },
    {
      "title": "メモリ制限",
      "level": 3,
      "content": "ページがメモリを大量に消費してしまう (そして、OOM (メモリ不足) になってしまう) のを防ぐために、Firejail を rlimit-as オプションで使用することができます。\n\n"
    },
    {
      "title": "新しいタブの位置",
      "level": 3,
      "content": "​新しいタブを表示する場所を (相対的または絶対的に) 制御するには、 browser.tabs.insertAfterCurrent および browser.tabs.insertRelatedAfterCurrent を使用します。​詳細については、 [15] を参照してください。\n\n"
    },
    {
      "title": "ウェブページのスクリーンショット",
      "level": 3,
      "content": "ハンバーガーメニュー (「≡」) の その他のツール > ツールバーをカスタマイズ で追加できるスクリーンショットボタンを使うか、Ctrl+Shift+s を押すか、ウェブページを右クリックすることで、スクリーンショットを撮影 することができます。詳細は [16] を見てください。\n\nまたは、開発者ツールのスクリーンショットボタンを使うこともできます。開発者ツールの 設定 メニューの 利用可能なツールボックスボタン セクションから追加できます。開発者ツールの設定は、開発者ツールペインの右上にある、横に並んだ3つの点のボタンからアクセスできます。\n\n"
    },
    {
      "title": "Wayland",
      "level": 3,
      "content": "バージョン 121 から、Firefox はデフォルトで Xwayland ではなく Wayland モードを使用するため、設定は必要はありません。古いバージョンの Firefox では、環境変数によって Wayland モードへオプトインすることができます:\n\n```\n$ MOZ_ENABLE_WAYLAND=1 firefox\n```\n\nこれを永続的なものにするには、 環境変数#グラフィック環境 を参照してください。そして、通常通り Firefox をデスクトップランチャーから起動してください。\n\n動作していることを確認するには、about:support 内の ウィンドウプロトコル を見てください。wayland と表示されているはずです。x11 と表示されている場合、Firefox を Xorg ディスプレイサーバ下で実行していることを意味します。xwayland と表示されている場合、システムは Wayland を実行しているが Firefox をレガシーな X11 として実行していることを意味します。\n\nWayland と X.org を頻繁に切り替える必要がある場合、シェルのログインスタートアップスクリプトに条件分岐を追加すると便利かもしれません。例えば、Bash の ~/.bash_profile に:\n\n```\nif [ \"$XDG_SESSION_TYPE\" = \"wayland\" ]; then\n    export MOZ_ENABLE_WAYLAND=1\nfi\n```\n\n"
    },
    {
      "title": "ウィンドウマネージャのルール",
      "level": 3,
      "content": "Firefox ウィンドウに異なる設定を適用するには、 Firefox の --class オプションを使用して WM_CLASS 文字列を変更します。\n\n"
    },
    {
      "title": "プロファイル",
      "level": 3,
      "content": "新しい Firefox インスタンスを起動するには、複数のプロファイルが必要です。新しいプロファイルを作成するには、次の手順に従います:\n\n```\n$ firefox [--new-instance] -P\n```\n\nクラスは、使用されていないプロファイルで Firefox を起動するときに指定できます:\n\n```\n$ firefox [--new-instance] -P プロファイル名 --class=クラス名\n```\n\nFirefox Profilemaker を使うことで好きなデフォルトを持つ Firefox プロファイルを作成できます。\n\n"
    },
    {
      "title": "タッチスクリーンジェスチャとトラックパッドのスクロール",
      "level": 3,
      "content": "タッチジェスチャ (スクロールやピンチズームなど) や 1対1 のトラックパッドスクロール (Nautilus などの GTK 3 アプリケーションで確認できる) を有効にするには、 Firefox を起動する前に MOZ_USE_XINPUT2=1 環境変数 を設定します。Wayland では、MOZ_ENABLE_WAYLAND=1 だけを設定すれば大丈夫です。\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1568722 により、Wayland ではキネティックスクロールがゆるく感じます。about:config で apz.gtk.kinetic_scroll.enabled をオフにすることで、キネティックスクロールをオフにできます。しかし、そうすると長いページで最初から最後までスクロールするのが大変になります。\n\n"
    },
    {
      "title": "複数のホームページ",
      "level": 3,
      "content": "​Firefox の起動時に複数のタブを開くには、新しいウィンドウを開いてから、必要なサイトを \"ホームタブ\" として開きます。\n\n​設定 > ホーム に移動し、ホームページと新しいウィンドウ の下にある Firefox ホーム (既定) ボタンをクリックします。\n\n​または、設定 > ホーム に直接移動し、ホームページと新しいウィンドウ の下の最初のフィールドを カスタムURL.. に設定し、新しいホームページとして使用するページを次の形式で入力します:\n\n```\nhttps://url1.com|https://url2.com|https://url3.com\n```\n\n"
    },
    {
      "title": "PDF ビューアで2つのページを並べて表示する",
      "level": 3,
      "content": "統合 PDF ビューアで2つのページを同時に表示するには、about:config で pdfjs.spreadModeOnLoad を 1 に設定してください。\n\n"
    },
    {
      "title": "キオスクモード",
      "level": 3,
      "content": "Firefox は、chrome ブラウザ、コンテキストメニュー、その他典型的なデスクトップブラウジングで便利な機能を使用せずにページを全画面で表示するキオスクモードをサポートしています。これらは、ユーザがシステムのその他の部分を操作することを意図していない ATM や情報パネルで使用されています。\n\nキオスクモードを使うには、Firefox を以下のように起動してください:\n\n```\n$ firefox --kiosk url\n```\n\nスタートアップページは、設定やコマンドラインパラメータで設定できます。\n\n印刷する必要がある場合、以下の用にすることで用紙サイズの設定ダイアログを表示させないようにすることができます:\n\n```\n$ firefox --kiosk --kiosk-printing url\n```\n\n"
    },
    {
      "title": "コンパクトモード",
      "level": 3,
      "content": "Firefox 89 より、コンパクトモードの UI 密度オプションがカスタマイズパネルから削除されました [17]。しかし、依然としてコンパクトモードを使用することができます。使用するには、about:config で browser.uidensity を 1 に設定してください。\n\nUI のスケールを小さくすることもできます。Firefox/設定#DPI の値を設定する 章を参照してください。ただし、0 から 1 の間の値を使用してください。\n\n"
    },
    {
      "title": "GNOME 検索プロバイダ",
      "level": 3,
      "content": "Firefox には GNOME シェル用の検索プロバイダが含まれています。これは、Firefox の実行中に Firefox のブックマークと履歴を GNOME シェル検索に公開します。しかし、このプロバイダはデフォルトで無効化されています。このプロバイダを有効化するには、about:config で browser.gnome-search-provider.enabled を true に設定してください。\n\n"
    },
    {
      "title": "ライブラリーウィンドウでカスタムの日付と時間の形式を使う",
      "level": 3,
      "content": "ライブラリーウィンドウ (ブックマーク、履歴、ダウンロードを表示するウィンドウ、Ctrl+Shift+o と Ctrl+Shift+h でアクセス可能) で使われる日付と時間の形式は、user.js または about:config で intl.date_time.pattern_override.date_short、intl.date_time.pattern_override.time_short、intl.date_time.pattern_override.connector_short を設定することにより、カスタマイズできます。例えば、RFC:3339 (\"2022-12-31 22:49\") に似た形式を使うには、これら3つのパラメータをそれぞれ yyyy-MM-dd、HH:mm、{1} {0} に設定してください。\n\nLC_TIME 環境変数を en_DK.UTF-8 に設定する方法は、古い Firefox バージョン (おそらく、57以前) でしか機能しません。Mozilla のバグレポート 1426907 にさらなる情報があります。\n\n"
    },
    {
      "title": "Firefox をシャットダウンする Ctrl+q キーバインドを無効化する",
      "level": 3,
      "content": "about:config で browser.quitShortcut.disabled オプションを作成し、true に設定してください。\n\n"
    },
    {
      "title": "ハイブリッドポスト量子鍵交換を有効化する",
      "level": 3,
      "content": "Firefox は X25519Kyber768 をサポートしています。これは TLS 1.3 用のハイブリッドポスト量子鍵交換規格で、デフォルトでは無効化されています。有効化するには about:config で security.tls.enable_kyber を true に変更してください。Open Quantum Safe プロジェクトのテストページで動作するかテストすることができます。有効化したら、テストページで SSL_ERROR_NO_CYPHER_OVERLAP ではなく SEC_ERROR_UNKNOWN_ISSUER (自己署名された証明書が原因) というエラーが表示されるようになるはずです。\n\n"
    },
    {
      "title": "トラブルシューティングモード",
      "level": 3,
      "content": "コマンドラインスイッチ -safe-mode は、Firefox をトラブルシューティングモードで起動し、そのセッションの間、拡張機能、テーマ、ハードウェアアクセラレーション、JIT、その他のいくつかの機能を無効にします。\n\nこのモードは、Firefox が開いている間にハンバーガーメニューを押し、ヘルプ の トラブルシューティングモード を選択し、モーダルダイアログで許可することでも有効化できます。これはブラウザの再起動を要求することに注意してください。\n\nこのモードは Firefox 88 までセーフモードと呼ばれていました。\n\n"
    },
    {
      "title": "Firefox のリフレッシュ",
      "level": 3,
      "content": "Firefox の問題はプロファイルの問題 (プロファイルの破損など) によるものかもしれません。\n\n他の原因の可能性を潰したのであれば、テスト用の新しい Firefox プロファイルを作成して問題が解決するか調べてみるとよいかもしれません。新しいプロファイルを作成しプロファイルを切り替える方法に関する詳細は Firefox のサポートページで見られます。\n\nこれで問題が解決したならば、元のプロファイルに戻し、Firefox をリフレッシュすることを検討するべきです。\n\nプロファイルのリフレッシュは、すべてのブラウジング履歴、ダウンロード履歴、ブックマーク、ウェブフォーム自動入力データ、個人の辞書、パスワードは保持され、拡張機能、テーマ、拡張機能のデータと設定などが含まれていない新しいプロファイルに転送されます。古いプロファイルのバックアップも保持されます。\n\nプロファイルをリフレッシュするには、about:support に移動し、Firefox をリフレッシュ を押し、表示されるモーダルダイアログで許可してください。about:support は、ハンバーガーメニューの ヘルプ を押し、他のトラブルシューティング情報 をクリックすることでもアクセスできます。\n\nFirefox のリフレッシュに関する詳細 (新しいプロファイルに転送されるものに関する詳細など) は、Firefox のサポートページで見られます。\n\n"
    },
    {
      "title": "ハードウェアビデオアクセラレーションの問題",
      "level": 3,
      "content": "Firefox におけるハードウェアビデオアクセラレーションの問題 (例: フリーズやグラフィックの破損) が発生する場合、Firefox をトラブルシューティングモードで起動して、ハードウェアビデオアクセラレーションが原因であることを確認してください。トラブルシューティングモードで問題が解決する場合、about:config で media.ffmpeg.vaapi.enabled を false に設定し Firefox を再起動することでハードウェアビデオアクセラレーションを無効にできます。\n\n"
    },
    {
      "title": "拡張機能 X が一部の Mozilla 所有のドメインで動作しない",
      "level": 3,
      "content": "デフォルトでは、拡張機能は extensions.webextensions.restrictedDomains で指定されたページには影響を与えません。これを望まない場合、このフィールドをクリアすることができます (about:* などの特殊ページには影響しません)。そして、privacy.resistFingerprinting.block_mozAddonManager を作成し true に設定してください。\n\n"
    },
    {
      "title": "Firefox の起動に非常に時間がかかる",
      "level": 3,
      "content": "Firefox の起動に他のブラウザより時間がかかる場合、/etc/hosts の localhost の設定が不足している可能性があります。設定方法については ネットワーク設定#ローカルネットワークのホストネーム解決 を参照してください。\n\nFirefox 拡張機能が不具合を起こしていたり、拡張機能が多すぎたりしても、起動が遅くなる原因となる場合があります。再起動時に拡張機能を無効化するトラブルシューティングモードを使うことで確認できます。\n\n起動が遅くなる他の原因として、プロファイルの問題 (プロファイルの破損など) もあります。Firefox プロファイル関連のトラブルシューティング手順については、#Firefox のリフレッシュ を参照してください。\n\n"
    },
    {
      "title": "フォントのトラブルシューティング",
      "level": 3,
      "content": "フォント設定を参照してください。\n\nFirefox には Fontconfig で使用できるフォント置換の数を決める設定があります。全ての置換ルールを使用するには、gfx.font_rendering.fontconfig.max_generic_substitutions を (最大値の) 127 に変更してください。\n\nFirefox には Twemoji Mozilla フォントが同梱されています。システムの絵文字フォントを使用するには、about:config で font.name-list.emoji を emoji に設定してください。さらに、Mozilla のフォントがシステムの絵文字フォントと干渉しないようにするには、gfx.font_rendering.opentype_svg.enabled を false に設定するか、/usr/lib/firefox/fonts/TwemojiMozilla.ttf を削除してください (pacman#インストールさせないファイルを設定 も参照)。\n\n"
    },
    {
      "title": "メールクライアントの設定",
      "level": 3,
      "content": "ブラウザ内部では、mailto リンクが Gmail や Yahoo Mail などのウェブアプリケーションによってデフォルトで開かれます。外部の email プログラムを設定するには、設定 > 一般 > プログラム を開き、 mailto content type の 取り扱い方法 を変更してください。ファイルパスを設定する必要があります (例: Kmail の場合は /usr/bin/kmail)。\n\nブラウザ外部では、mailto リンクは x-scheme-handler/mailto mime タイプによって扱われます。これは xdg-mime で簡単に設定できます。詳細や代替については デフォルトアプリケーション を参照してください。\n\n"
    },
    {
      "title": "ファイルの関連付け",
      "level": 3,
      "content": "デフォルトアプリケーション を参照してください。\n\n"
    },
    {
      "title": "Firefox が不必要に ~/Desktop を作成し続けてしまう",
      "level": 3,
      "content": "Firefox はファイルをダウンロード・アップロードするためのデフォルトの場所として ~/Desktop を使っています。他のフォルダに変更するには、XDG ユーザーディレクトリ で説明されているように XDG_DESKTOP_DIR オプションを設定してください。\n\n"
    },
    {
      "title": "ダウンロードディレクトリに保存した覚えのないファイルが出現する",
      "level": 3,
      "content": "Firefox バージョン 98 では、外部プログラムでファイルを開く動作が静かに変更されました。ファイルを /tmp にダウンロードしてそのファイルの場所を子プロセスに与える代わりに、Firefox はユーザーがファイルを保存することを選択したかのようにファイルをダウンロードし、ダウンロードディレクトリ内のファイルの場所を子プロセスに与えるようになりました。その結果、ダウンロードには、閲覧するためだけに開くつもりだったファイルが散在することになります。これは、ダイアログでファイルを開くために使用するプログラムを選択した場合と、特定のプログラムで自動的に開くように設定したファイルの種類の場合の両方で発生します。特に、これは Firefox で内部的に開かれる一部のファイルタイプ (ブラウザ内の PDF.js ビューアが有効になっている場合の PDF ドキュメントなど) でも発生します。\n\nファイルをどうするか尋ねるダイアログでは、実際には常にファイルを保存しようとしているにもかかわらず、古い選択肢 (開く または 保存する) が表示されています。この動作は、ファイルがディスクに保存されないことを期待している特定のユーザーにとって、現実的にセキュリティやプライバシーのリスクをもたらす可能性があるため、新しい動作を無効にすることをお勧めします。\n\nこれを行うには、about:config で browser.download.start_downloads_in_tmp_dir を作成し、true に設定します。\n\nあるいは、PDF をブラウザ内蔵のビューアで開こうとした際にダウンロードディレクトリに自動で保存しないようにするには、about:config で browser.download.open_pdf_attachments_inline を true に設定してください。\n\n"
    },
    {
      "title": "検討すべき追加の設定",
      "level": 4,
      "content": "- browser.download.forbid_open_with: true (ファイル保存ダイアログで保存するかキャンセルするかを尋ねるだけであり、別のプログラムで開くように尋ねることはありません)\n- browser.download.always_ask_before_handling_new_types: true (設定 > 一般 > ファイルとプログラム > 他のファイルは Firefox でどのように扱いますか? > ファイルを開くか保存するかを尋ねると同じ)\n- Firefox 自体で開くように設定されているものを除き、設定 > 一般 > ファイルとプログラム で既知のファイルタイプをすべて 毎回確認する に設定します。\n\n"
    },
    {
      "title": "userChrome.css と userContent.css の変更が無視される",
      "level": 3,
      "content": "toolkit.legacyUserProfileCustomizations.stylesheets を about:config で true に設定します。\n\n"
    },
    {
      "title": "中クリックの動作",
      "level": 3,
      "content": "中クリックでオートスクロールさせる (Windows のブラウザではデフォルト) 方法として、以下の2つがあります:\n\n- Settings > General を開き、Browsing セクションで Use autoscrolling オプションを有効化する。\n\n- about:config で general.autoScroll を true に設定する。\n\nマウスの中ボタンをクリックしたときにクリップボード (PRIMARY セレクション) からペーストしないようするには、about:config で middlemouse.paste を false に設定してください。\n\n中ボタンをクリックしたときにクリップボードの内容を URL として読み出すには、about:config で middlemouse.contentLoadURL を true に設定してください。これは Firefox 57 より前ではデフォルトでした。\n\n"
    },
    {
      "title": "バックスペースが '戻る' ボタンとして機能しない",
      "level": 3,
      "content": "MozillaZine によれば、Backspace キーがどの機能にマッピングされるかはブラウザを動かしているプラットフォームによって決まっていました。妥協案として、Backspace キーで戻る/進む、ページ上/下スクロール、または何もしないようにする設定が作成されました。\n\nBackspace でタブの履歴の1ページ前に戻り、Shift+Backspace で進むようにするには、about:config で browser.backspace_action を 0 に設定してください。\n\nBackspace キーでページをスクロールアップ、Shift+Backspace でスクロールダウンするようにするには、browser.backspace_action を 1 に設定してください。このプロパティを他の値に設定すると、キーは割り当てられません (Arch Linux のデフォルトは 2 です。つまり、デフォルトでは割り当てられていません)。\n\n"
    },
    {
      "title": "Firefox がログイン情報を記憶しない",
      "level": 3,
      "content": "Firefox のプロファイルフォルダ内の cookies.sqlite ファイルが破損していることが原因かもしれません。このファイルを修正するには、Firefox が実行中でないときに cookie.sqlite の名前を変更するか削除してください。\n\n何らかのターミナルを起動し、以下を実行してください:\n\n```\n$ rm -f ~/.mozilla/firefox/<プロファイル id>.default/cookies.sqlite\n```\n\nプロファイル id はランダムな8文字の文字列です。\n\nFirefox を再起動し、問題が解決したかどうか確かめてください。\n\nうまく行かない場合、cookies.sqlite.bak ファイルがあるか調べてください。このファイルは、cookie を手動で復元するために使用できます。\n\n"
    },
    {
      "title": "フルスクリーンにできない/解除できない",
      "level": 3,
      "content": "Firefox は、EWMH/ICCCM に準拠したウィンドウマネージャを検出した場合、ルートウィンドウに WM_STATE メッセージを送信して、Firefox を (ウィンドウマネージャによって定義されている) フルスクリーンモードに入らせる (または解除させる) ことを要求しようと試みます。ウィンドウマネージャはそれを無視することができますが、無視した場合、Firefox は要求が拒否されたとみなし、要求をエンドユーザに伝搬し、その結果何も起こりません。その結果、動画をフルスクリーンにできないことになります。一般的な回避策は about:config で full-screen-api.ignore-widgets を true に設定することです。\n\n関連するバグレポート: Bugzilla 1189622。\n\n"
    },
    {
      "title": "YouTube がフルスクリーンの時にスクロールバーが非表示にならない/無効化されない",
      "level": 3,
      "content": "Table content:\nこの記事またはセクションの正確性には問題があります。 理由: このようなことが起こるはずがありません。uBlock Origin のフィルタを追加することは、やっつけ仕事的な回避策です。これはバグのように思えます (または、他の拡張機能が干渉しているのかもしれません)。 (議論: トーク:Firefox#)\n\nこれは uBlock Origin のフィルタを使うことで修正できます。フィルタを追加するには、uBlock Origin 拡張機能アイコン > 3つの歯車マーク (ダッシュボードを開く) > マイフィルター をクリックし、以下をテキスト入力枠に追加してください:\n\n```\nwww.youtube.com##ytd-app:style(overflow: hidden !important;)\n```\n\n変更を適用し、YouTube のウィンドウを再読込みしたら、フィルタが効果を発揮します。これが機能するためには、整形フィルタリング (中央の目のアイコンです) を有効化する必要があることに注意してください。\n\n"
    },
    {
      "title": "一部のサイトで JavaScript のコンテキストメニューが表示されない",
      "level": 3,
      "content": "about:config で dom.w3c_touch_events.enabled を 0 に設定してみることができます。\n\n"
    },
    {
      "title": "Firefox がデフォルトのスペルチェック言語を記憶しない",
      "level": 3,
      "content": "デフォルトのスペルチェック言語は以下のようにして設定できます:\n\n1. アドレスバーに about:config と入力。\n1. spellchecker.dictionary を使用したい言語に設定 (例: en_GB)。\n1. Firefox のプラグインとして辞書をインストールした場合、設定する文字列は en-GB となりますが、hunspell 辞書の場合は en_GB となるので注意してください。\n\nシステム全体で hunspell の辞書をインストールしているだけでは、Firefox はデフォルトの辞書言語の設定を記憶しません。Firefox プラグインとして辞書をインストールすることで問題は解決します。アドオン ページに 辞書 のタブが作られます。スペルチェックのデフォルトをアドオン辞書の言語にするために、about:preferences#general で ウェブページの表示に使用する言語の優先順位 の順番を変更する必要がある場合があります。\n\nStackExchange プラットフォームにおける関連する質問: [18], [19], [20]\n\n関連するバグレポート: Bugzilla 776028, Ubuntu bug 1026869\n\n"
    },
    {
      "title": "Firefox がシステム全体の Hunspell のスペルチェック辞書を見つけてくれない",
      "level": 3,
      "content": "spellchecker.dictionary_path の設定が存在していて、かつ、システムの Hunspell 辞書へのパス (/usr/share/hunspell) に設定されていることを確認してください。\n\n"
    },
    {
      "title": "一部の MathML 記号が表示されない",
      "level": 3,
      "content": "MathML を正しく表示するには Latin Modern Math や STIX などの Math フォントが必要になります (MDN のページを参照: [21])。\n\nArch Linux では、これらのフォントは texlive-fontsextra によって提供されていますが、デフォルトでは fontconfig から使うことはできません。詳しくは TeX Live#Fontconfig でフォントを利用可能にする を見て下さい。他の数学フォントを使うこともできます。このバグ [22] に遭遇した場合、otf-latinmodern-math をインストールすると解決する可能性があります。\n\n"
    },
    {
      "title": "動画がロードされるが、再生されない",
      "level": 3,
      "content": "PulseAudio の問題かもしれません。PulseAudio/トラブルシューティング#ブラウザ (firefox) が動画をロードするが、再生しない で提案されている修正法を見てください。\n\n"
    },
    {
      "title": "スクロール時にチラツキが発生する",
      "level": 3,
      "content": "設定 > 一般 > ブラウジング でスムーズスクロール機能を無効化してみてください。注意点として、これによりページがカクカクとスクロールするようになります。\n\n"
    },
    {
      "title": "Firefox の WebRTC モジュールがマイクを認識できない",
      "level": 3,
      "content": "WebRTC アプリケーション (例: Firefox WebRTC getUserMedia テストページ) でマイクが認識できないと表示されることがあります。ALSA と PulseAudio どちらの環境でも発生します。Firefox のデバッグログには以下のようなエラーが表示されます:\n\n```\n$ NSPR_LOG_MODULES=MediaManager:5,GetUserMedia:5 firefox\n```\n\n```\n...\n[Unnamed thread 0x7fd7c0654340]: D/GetUserMedia  VoEHardware:GetRecordingDeviceName: Failed 1\n```\n\nabout:config で media.navigator.audio.full_duplex プロパティを false に設定して Firefox を再起動してみてください。\n\nPulseAudio の module-echo-cancel を使用している場合も Firefox が仮想のエコー除去ソースを認識できないことがあり、上記の設定で解決することがあります。\n\n"
    },
    {
      "title": "WebRTC 共有インジケータが XML パースエラーを表示する",
      "level": 3,
      "content": "マイクロフォンやウェブカメラの共有に同意した後、黄褐色の背景に赤い境界線のウィンドウがプライマリウィンドウの左上隅に表示され、以下のエラーメッセージを表示することがあります:\n\n```\nXML Parsing Error: no root element found\nLocation: chrome://browser/content/webrtcLegacyIndicator.xhtml\nLine Number: 1, Column 1:\n^\n```\n\nこの場合、以下を行うことでこの問題を解決できるはずです:\n\n1. about:support を開く。\n1. 起動時キャッシュを消去 ボタンをクリックし、ブラウザの再起動に同意する。\n\n詳細は Mozilla のバグレポート を参照してください。\n\n"
    },
    {
      "title": "中国のアカウントでログインできません",
      "level": 3,
      "content": "Firefox は、中国のユーザ向けに、国際的なアカウントとは全く異なるローカルアカウントを使用したサービスを提供しています。firefox パッケージでインストールされた Firefox は、デフォルトで国際アカウントシステムを使用しています。中国ローカルサービスに変更するには、このページ にあるアドオンマネージャをインストールすると、中国アカウントでログインできるようになります。\n\n"
    },
    {
      "title": "JACK と PulseAudio を使用した場合、特定のビデオで音声が聞こえない",
      "level": 3,
      "content": "もしあなたが JACK と PulseAudio を組み合わせて使っていて、いくつかのビデオで音が聞こえない場合、それらのビデオはモノラル音声であることが原因かもしれません。これは、あなたの JACK セットアップがステレオ以上のものを使っていて、普通のヘッドホンを使っている場 合に起こります。これを解決するには、PulseAudio JACK Sink の front-center ポートをシステム出力の playback_1 と playback_2 ポートの両方に接続してみて下さい。\n\nこれは、スクリプトを使って自動的に行うこともできます。\n\n```\njack-mono.sh\n```\n\n```\n#!/bin/sh\njack_connect \"PulseAudio JACK Sink:front-center\" \"system:playback_1\"\njack_connect \"PulseAudio JACK Sink:front-center\" \"system:playback_2\"\n```\n\nシンクとポートの名前が異なる可能性があることに注意してください。あなたの JACK セットアップがどのようなものか、cadenceAUR の Catia のような Patchbay でチェックすることができます。\n\n"
    },
    {
      "title": "位置情報が機能しない",
      "level": 3,
      "content": "最近、Google は Arch Linux での位置情報サービスの使用を制限し、ウェブサイトで位置情報を有効にすると次のようなエラーが発生するようになりました。Geolocation error: Unknown error acquiring position。Hulu のようなリージョンロックされたサービスでは、サイトに対して位置情報サービスを許可しているにも関わらず、あなたの位置が特定できないことを示す同様のエラーが表示されることがあります。\n\nこれらの問題を回避するために、Mozilla Location Service を使用するように切り替えることができます。about:config で geo.provider.network.url の設定を変更してください。\n\n```\nhttps://location.services.mozilla.com/v1/geolocate?key=%MOZILLA_API_KEY%\n```\n\n詳しくは FS#65241 をご覧ください。\n\n"
    },
    {
      "title": "ウィンドウマネージャで、マウスの右ボタンを押すと最初のオプションが即座にクリックされる",
      "level": 3,
      "content": "この問題は、i3、bspwm、xmonad で確認されています。\n\nこの問題を解決するには、about:config に移動して ui.context_menus.after_mouseup を true に変更します。\n\n[23] を参照してください。\n\n"
    },
    {
      "title": "コンポジットを無効にしたり有効にしたりすると、Firefox のウィンドウが再描画されない",
      "level": 3,
      "content": "環境変数 MOZ_X11_EGL の設定を解除してください。\n\n関連するバグレポート: Bugzilla 1711039\n\n"
    },
    {
      "title": "Firefox が起動時にデフォルトブラウザとして設定するよう要求され続ける",
      "level": 3,
      "content": "デスクトップ環境 を使用している場合、システム設定で Firefox がデフォルトブラウザとして設定されているかどうかを確認してください。そうでなければ、xdg-utils パッケージが提供する以下の xdg-settings(1) コマンドを実行して、システムでどのブラウザがデフォルトとして設定されているかを確認することができます。\n\n```\nxdg-settings get default-web-browser\n```\n\n値が返されない場合、またはFirefoxでない場合は、次のコマンドを実行して設定します。\n\n```\n$ xdg-settings set default-web-browser firefox.desktop\n```\n\nそれでも Firefox がデフォルトブラウザとして設定するように要求してきた場合、URL スキームが http と https を処理するように設定すれば、静かになることがあります。これを行うには、以下の xdg-mime(1) コマンドを実行してください。\n\n```\n$ xdg-mime default firefox.desktop x-scheme-handler/http\n$ xdg-mime default firefox.desktop x-scheme-handler/https\n```\n\nこれらもうまくいかない場合は、環境変数 GTK_USE_PORTAL が設定されているかどうかを確認してください。(すべての値がバグの引き金になります) その場合は、設定を解除してください。関連するバグレポート Bugzilla 1516290 それでもうまくいかない場合、あるいは設定していない場合は、アドレスバーから about:config に移動し、変数 widget.use-xdg-desktop-portal が true に設定されているかを確認し、もしそうなら false を設定してください。\n\nデフォルトブラウザのチェックを完全に無効にしたい場合は、アドレスバーから about:config に移動し、browser.shell.checkDefaultBrowser を false に設定してください。\n\n"
    },
    {
      "title": "動画のちらつき",
      "level": 3,
      "content": "動画のちらつきが発生し、動画 (特に高解像度の動画) の視聴時に1つのコアの使用率だけが100%になる場合、以下で解決するかもしれません。\n\nabout:config を開き、dom.ipc.processCount と検索して dom.ipc.processCount.file を 1 からより高い値に変更してください。良い値を見つけるための暫定的な方法としては、良い結果を得られるまで値を1ずつ増やすというものがあります。しかし、4が良い値であるようです。\n\n"
    },
    {
      "title": "一部のページでベンガル語フォントが壊れる",
      "level": 3,
      "content": "ほとんどの場合、noto-fonts をインストールし、Fonts and Colors (訳注: Firefox 108.0.2 の時点でこの設定セクションはもはや存在せず、設定の 一般 > 言語と外観 > フォント がこれに相当します) の設定で Noto Sans Bengali をデフォルトにすると解決します。しかし、一部のソーシャルメディアサイトでは、ベンガル語のフォントは依然として壊れている場合があります。そのような場合、Mozilla は、ページ内でロードされているフォントを確認する詳細なガイドを提供しています。Page Inspector を使い、ページ内でロードされているすべてのフォントを確認してください。Noto Sans 以外のフォントをシステムから削除することで、この問題を恒久的に解決できます。\n\n一部のフォントは他のパッケージの依存関係としてインストールされます。例えば、chromium は ttf-liberation を依存関係としてインストールします。これは一部の Firefox ページで自動的に読み込まれ、そのようなページでベンガル語のフォントを破壊します。この問題を解決するには、以下のルールをフォント設定で使用してください:\n\n```\n$XDG_CONFIG_HOME/fontconfig/fonts.conf\n```\n\n```\n<match target=\"pattern\">\n <test qual=\"any\" name=\"family\"><string>Liberation</string></test>\n <edit mode=\"assign\" name=\"family\" binding=\"same\"><string>Noto Sans Bengali</string></edit>\n</match>\n```\n\n"
    },
    {
      "title": "Web Speech API で音が出ない",
      "level": 3,
      "content": "Firefox はテキストの読み上げ (TTS: Text To Speech) のために speechd を使用します。spd-say \"some test sentence\" コマンドを使ってテキストの読み上げが行われるかどうかを確認できます。また、spd-say -L を使って音声のリストを取得できます。音声がリストにない場合、espeak-ng パッケージでインストールできます。そのままではうまく動作しない場合、おそらく設定する必要があります。spd-conf コマンドを使うか、設定ファイル .config/speech-dispatcher/speechd.conf を編集することで可能です。以下の行が有効になっている必要があります (つまり、行頭に # が無い):\n\n```\nAddModule \"espeak-ng\"                \"sd_espeak-ng\" \"espeak-ng.conf\"\nDefaultModule espeak-ng\n```\n\n"
    },
    {
      "title": "合成音声を有効化する",
      "level": 4,
      "content": "https://developer.mozilla.org/ja/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API によると、合成音声を有効化する必要があります (デフォルトで有効化されています)。有効にするには、about:config で media.webspeech.synth.enabled を true に設定してください。\n\n"
    },
    {
      "title": "フィンガープリント採取防止機能を無効化する",
      "level": 4,
      "content": "https://support.mozilla.org/ja/kb/firefox-protection-against-fingerprinting によると、フィンガープリント採取防止機能は WebSpeech API を無効化します。このオプションを有効化している場合、それを無効化してナレータが機能するようにする必要があります。フィンガープリント採取防止機能を無効化するには、about:config で privacy.resistFingerprinting を false に設定してください。\n\n"
    },
    {
      "title": "filter voices を無効化する",
      "level": 4,
      "content": "ナレータアイコンが表示されない場合、about:config で narrate.filter-voices を false に設定してみてください。\n\nこれは、speech-dispatcher が動作するかどうかをチェックするために使用できます。うまく行く場合、リーダーモードで開いた記事の言語の音声を見逃すかもしれません (spd-say -L を確認)。リーダーの記事の言語の音声がインストールされている場合、speech-dispatcher の構成に関連する設定あるいはデフォルトが正しくないのかもしれません。\n\n"
    },
    {
      "title": "ファイルをダウンロードするときにファイル選択ダイアログが開かない",
      "level": 3,
      "content": "ファイルのダウンロード時に (Firefox の設定で「ファイルを開くか保存するかを確認する」オプションを有効にしていたとしても) ファイル選択ダイアログが表示されない場合、xdg-desktop-portal とそれの適切な実装をインストールしていないのかもしれません。デスクトップ環境は通常それの実装を提供しますが、スタンドアローンなウィンドウマネージャ (i3 など) を使用してる場合、場合によっては手動でインストールする必要があります。xdg-desktop-portal と (例えば) xdg-desktop-portal-gtk をインストールしてください。\n\n"
    },
    {
      "title": "タイル型ウィンドウマネージャや Wayland コンポジタで通知がフロート表示されない",
      "level": 3,
      "content": "タイル型ウィンドウマネージャや Wayland コンポジタ (sway や Hyprland) を使用していて、HTML 通知がフロート表示のポップアップではなく通常の Firefox ウィンドウで表示される場合、libnotify をインストールして、デスクトップ通知サーバー (例えば mako) を実行しておく必要があります。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- 公式ウェブサイト\n- Mozilla Foundation\n- MozillaWiki:Firefox\n- Wikipedia:Mozilla Firefox\n- Firefox アドオン\n- Firefox テーマ\n- Mozilla の FTP\n- mozillaZine 非公式フォーラム\n\n"
    }
  ]
}