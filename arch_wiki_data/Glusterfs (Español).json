{
  "title": "Glusterfs (Español)",
  "url": "https://wiki.archlinux.org/title/Glusterfs_(Espa%C3%B1ol)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **2020-12-10** \n\nArtículos relacionados\n\n- Ceph\n\nGlusterfs es un sistema de archivos en red escalable.\n\n"
    },
    {
      "title": "Instalación",
      "level": 2,
      "content": "Instale el paquete glusterfs.\n\n"
    },
    {
      "title": "Configuración",
      "level": 2,
      "content": "Glusterfs puede configurarse para ejecutarse en muchas opciones diferentes según las necesidades operativas, incluidas las distribuidas y las replicadas. Para el ejemplo a continuación, se está creando un servidor replicado de dos nodos, con los nodos gluster1 y gluster2. Cada uno tiene dos discos, uno que contiene el sistema operativo (sda), el otro para ser compartido por glusterfs (sdb). A menos que se indique, toda la configuración se realiza en gluster1:\n\n- Inicie/Active glusterd.service en ambos servidores.\n\n- Conecte los servidores:\n\n```\n# gluster peer probe gluster2\n```\n\n- Particione y formatee la unidad glusterfs en ambos servidores. Se recomienda crear una única partición y formatearla como xfs.\n\n- Se recomienda crear una única partición y formatearla como xfs.\n\n- En ambos servidores se montan automáticamente las unidades añadiendo /etc/fstab para incluir la siguiente linea, donde /dev/sdXY es el dispositivo apropiado (por ejemplo, /dev/sdb1):\n\n```\n/etc/fstab\n```\n\n```\n/dev/sdXY /export/sdXY xfs defaults 0 0\n```\n\n- En ambos servidores monte los discos. Luego cree un brick:\n\n```\n# mkdir -p /export/sdXY/brick\n```\n\n- Active la replicación en el servidor primario:\n\n```\n# gluster volume create gv0 replica 2 gluster1.mydomain.net:/export/sdb1/brick gluster2.mydomain.net:/export/sdb1/brick\n```\n\n- Asegúrese de que el volumen se crea correctamente:\n\n```\n# gluster volume info\n```\n\n- Inicie el volumen:\n\n```\n# gluster volume start gv0\n```\n\n- Y finalmente, monte el volumen:\n\n```\n# mkdir -p /mnt/glusterClientMount\n# mount -t glusterfs gluster1:/gv0 /mnt/glusterClientMount\n```\n\n"
    },
    {
      "title": "Automontar un volumen gluster en el arranque",
      "level": 2,
      "content": "Para montar un volumen gluster en el arranque, systemd debe esperar a que se inicien tanto la red como el servicio glusterd. Puede especificar las siguientes opciones de fstab para hacer esto:\n\n```\n/etc/fstab\n```\n\n```\nlocalhost:/gv0 /mnt/glusterClientMount glusterfs defaults,_netdev,x-systemd.requires=glusterd.service,x-systemd.automount 0 0\n```\n\n"
    },
    {
      "title": "Véase también",
      "level": 2,
      "content": "- Guía oficial de instalación de glusterfs\n- Blog que cubre la configuración de Glusterfs en Arch Linux\n\n"
    }
  ]
}