{
  "title": "Локализация",
  "url": "https://wiki.archlinux.org/title/%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Ссылки по теме\n\n- Fonts#Non-latin scripts\n- Локали\n- Input method\n\nПод локализацией (localization, l10n) и интернационализацией (internationalization, i18n) понимается процесс адаптации программного обеспечения к культуре какой-либо страны (см. Википедия:Локализация программного обеспечения).\n\nВ статье описано, как настроить поддержку русского языка в Arch Linux.\n\n"
    },
    {
      "title": "Настройка",
      "level": 2,
      "content": "Локализация системы подразумевает главным образом три вещи: настройку локали и настройку клавиатуры в виртуальной консоли и графическом окружении (Xorg). Ниже приведены краткие рекомендации по каждому из пунктов без углубления в детали. Более подробную информацию можно найти в профильных статьях:\n\n- Локали\n- Конфигурация клавиатуры в консоли\n- Конфигурация клавиатуры в Xorg\n\n"
    },
    {
      "title": "Локаль",
      "level": 3,
      "content": "Локаль — набор параметров, определяющий региональные настройки пользовательского интерфейса, такие как язык, страна, часовой пояс, набор символов, формат вывода даты, времени, используемая денежная единица. Чтобы настроить русскую локаль в вашей системе, следуйте инструкциям ниже.\n\nОтредактируйте файл /etc/locale.gen, раскомментировав строку ru_RU.UTF-8 UTF-8, после чего сгенерируйте локаль:\n\n```\n# locale-gen\n```\n\nПроверьте, что заявленная локаль теперь доступна, выполнив locale -a. Когда локаль сгенерирована, установите её в качестве системной:\n\n```\n# localectl set-locale ru_RU.UTF-8\n```\n\nПерезагрузитесь, чтобы изменения вступили в силу. Команда locale без аргументов выводит список относящихся к настройкам локали переменных окружения. Если всё в порядке, то приложения должны \"русифицироваться\".\n\n- Приложение русифицируется только в том случае, если такая возможность предусмотрена его программой.\n- Собственные языковые настройки приложений имеют приоритет перед настройками локали.\n\n"
    },
    {
      "title": "Виртуальная консоль",
      "level": 3,
      "content": "Настройки виртуальной консоли хранятся в файле /etc/vconsole.conf. Создайте файл и добавьте в него следующие строки:\n\n```\n/etc/vconsole.conf\n```\n\n```\nFONT=cyr-sun16\nKEYMAP=ru\n```\n\nВ примере используется шрифт cyr-sun16 из пакета kbd (установлен по умолчанию, зависимость systemd). Если необходим шрифт покрупнее, то набор Terminus содержит шрифты разных размеров с поддержкой кириллических символов. Установите пакет terminus-font, после чего задайте необходимый шрифт переменной FONT в файле /etc/vconsole.conf. Шрифты Terminus именуются по схеме ter-*, список доступных шрифтов можно вывести командой:\n\n```\n$ ls /usr/share/kbd/consolefonts/ | grep 'ter-' | cut -d. -f1\n```\n\nИзменения вступят в силу после перезагрузки. Переключение языков привязано к комбинации клавиш Ctrl+Shift.\n\n"
    },
    {
      "title": "Шрифты",
      "level": 4,
      "content": "Установите пакеты ttf-dejavu и ttf-liberation со шрифтами DejaVu и Liberation соответственно.\n\n"
    },
    {
      "title": "Клавиатура",
      "level": 4,
      "content": "Прежде всего необходимо узнать модель клавиатуры. Откройте графический эмулятор терминала (не виртуальную консоль!) и выполните:\n\n```\n$ setxkbmap -query\n```\n\nКоманда вернёт список основных настроек клавиатуры. Нас интересует значение в строке model:. Например, стандартная клавиатура для ПК будет называться pc104 или pc105. Для игровых клавиатур и клавиатур ноутбуков, которые часто имеют дополнительные клавиши, значение будет другим.\n\nЗадайте настройки клавиатуры с помощью утилиты localectl:\n\n```\n# localectl set-x11-keymap --no-convert us,ru pc105 \"\" grp:alt_shift_toggle\n```\n\n- us,ru — устанавливаются две языковые раскладки (layouts), английская (основная) и русская (дополнительная).\n- pc105 — модель клавиатуры; если ваша модель отличается, то укажите её.\n- \"\" — т.н. вариант раскладки. Поскольку указана пустая строка, то для обеих языковых раскладок будет использоваться вариант qwerty.\n- grp:alt_shift_toggle — блок дополнительных опций; в примере задаётся всего одна опция, переключение языков по комбинации клавиш Alt+Shift.\n\nПерезапустите Xorg или перезагрузитесь, чтобы изменения вступили в силу.\n\n"
    },
    {
      "title": "Русские man-страницы",
      "level": 3,
      "content": "Установите пакет man-pages-ru с русскими страницами.\n\nman показывает страницы с учётом локали. Для принудительного показа русских страниц используйте следующую команду:\n\n```\n$ man -L ru страница\n```\n\n"
    },
    {
      "title": "Перекодировка тегов MP3",
      "level": 3,
      "content": "Установите пакет python-mutagen и выполните следующую команду в каталоге с коллекцией MP3-файлов:\n\n```\n$ find -iname '*.mp3' -print0 | xargs -0 mid3iconv -eCP1251 --remove-v1\n```\n\nКоманда перекодирует старые теги из кодировки CP1251 в UTF8, запишет тег версии id3v2.4 и удалит теги первой версии.\n\nNote: Опционально:\n\n```\n$ mpc update # дождитесь завершения, статус можно смотреть запуская mpc без параметров\n$ mpc clear\n$ mpc listall\n```\n\nОпционально:\n\n```\n$ mpc rm all\n$ mpc save all\n```\n\n"
    }
  ]
}