{
  "title": "MPlayer (日本語)",
  "url": "https://wiki.archlinux.org/title/MPlayer_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- mpv\n\nMPlayer は GNU/Linux 向けの人気のある動画プレイヤーです。多くの動画・音声フォーマットをサポートしており、動画の再生以外にも多目的に使用することができます。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール 1.1 フロントエンド / GUI\n- 2 設定 2.1 キーバインディング\n- 3 ヒントとテクニック 3.1 ハードウェアアクセラレーション 3.1.1 VDPAU の有効化 3.1.2 VA-API の有効化 3.2 Radeon カードで Composite が有効になった状態の半透明再生 3.3 ビデオストリームの再生 3.3.1 DVB-T ストリーミング 3.4 DVD の再生 3.5 JACK サポート 3.6 高度な字幕 3.7 インターネットラジオ 3.8 追加のバイナリコーデック\n- 4 トラブルシューティング 4.1 再生中に Mplayer がランダムで停止する 4.2 MPlayer で空白を含むファイルを開けない 4.3 SMPlayer: 動画が表示されない問題 4.4 SMPlayer: 一時停止した後、再生ができない 4.5 SMPlayer: GNOME で透過を使うと動画が表示されない 4.6 SMPlayer: OSD のフォントが大きすぎる / 字幕の文章が小さすぎる 4.7 MPlayer で字幕の文字がクエスチョンマークで表示される 4.8 音楽 CD の再生が途切れがちになる\n- 5 参照\n\n- 1.1 フロントエンド / GUI\n\n- 2.1 キーバインディング\n\n- 3.1 ハードウェアアクセラレーション 3.1.1 VDPAU の有効化 3.1.2 VA-API の有効化\n- 3.2 Radeon カードで Composite が有効になった状態の半透明再生\n- 3.3 ビデオストリームの再生 3.3.1 DVB-T ストリーミング\n- 3.4 DVD の再生\n- 3.5 JACK サポート\n- 3.6 高度な字幕\n- 3.7 インターネットラジオ\n- 3.8 追加のバイナリコーデック\n\n- 3.1.1 VDPAU の有効化\n- 3.1.2 VA-API の有効化\n\n- 3.3.1 DVB-T ストリーミング\n\n- 4.1 再生中に Mplayer がランダムで停止する\n- 4.2 MPlayer で空白を含むファイルを開けない\n- 4.3 SMPlayer: 動画が表示されない問題\n- 4.4 SMPlayer: 一時停止した後、再生ができない\n- 4.5 SMPlayer: GNOME で透過を使うと動画が表示されない\n- 4.6 SMPlayer: OSD のフォントが大きすぎる / 字幕の文章が小さすぎる\n- 4.7 MPlayer で字幕の文字がクエスチョンマークで表示される\n- 4.8 音楽 CD の再生が途切れがちになる\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "mplayer パッケージをインストールしてください。開発版は mplayer-svnAUR パッケージでインストールできます。\n\n注目すべきバリエーションとしては、VA-API を有効にする mplayer-vaapiAUR です。\n\n"
    },
    {
      "title": "フロントエンド / GUI",
      "level": 3,
      "content": "アプリケーション一覧/マルチメディア#MPlayer-based をご覧ください。\n\n"
    },
    {
      "title": "設定",
      "level": 2,
      "content": "システム全体の設定は /etc/mplayer/ に、ローカルユーザーの設定は ~/.mplayer/ に保存されます。/etc/mplayer/ に含まれているデフォルトのファイル:\n\n- codecs.conf - コーデックの設定を記述します。\n- example.conf - mplayer.conf のサンプルファイルです。mplayer.conf はインストールしただけでは自動で作成されません。\n- input.conf - ホットキーの設定を記述します。\n\n~/.mplayer/ にはデフォルトで config という名前のファイルが作成されます。\n\n参照: MPlayer サンプル設定ファイル, mplayer(1)。\n\n"
    },
    {
      "title": "キーバインディング",
      "level": 3,
      "content": "システム全体のキーバインディングは /etc/mplayer/input.conf で設定します。ユーザー別のキーバインディングは ~/.mplayer/input.conf に保存されています。以下はデフォルトの MPlayer の基本的なキーの一部です。キーボードショートカットの完全なリストは mplayer(1) を見て下さい。\n\n参照: LQWiki:XF86 keyboard symbols\n\n"
    },
    {
      "title": "ハードウェアアクセラレーション",
      "level": 3,
      "content": "ハードウェアビデオアクセラレーションを見てください。\n\n"
    },
    {
      "title": "VDPAU の有効化",
      "level": 4,
      "content": "以下をシステム全体の設定ファイル (/etc/mplayer/mplayer.conf) かユーザー別の設定ファイル (~/.mplayer/config) どちらかに追加してください:\n\n```\nvo=vdpau,\nvc=ffh264vdpau,ffmpeg12vdpau,ffodivxvdpau,ffwmv3vdpau,ffvc1vdpau,ffhevcvdpau,\n```\n\n- 最後のカンマは意味があります。指定されたドライバーが見つからない時に他のドライバーとコーデックにフォールバックします。\n- -vo オプションは VDPAU ビデオ出力ドライバーを選択します。-vc オプションは VDPAU ビデオコーデックを選択します。\n- ffodivxvdpau コーデックは、最新シリーズの NVIDIA ハードウェアでのみサポートされています。特定のハードウェアに基づいて省略することを検討してください。詳細については、ハードウェアビデオアクセラレーション#NVIDIA を参照してください。\n\n"
    },
    {
      "title": "VA-API の有効化",
      "level": 4,
      "content": "メインラインの MPlayer は VA-API をサポートしていませんが、サポートを追加する mplayer-vaapiAUR フォークが存在します。\n\n```\n$ mplayer -vo vaapi -va vaapi foobar.mpeg\n```\n\n- -vo - vaapi ビデオ出力ドライバの選択\n- -va - vaapi ビデオデコードドライバの選択\n\nMPlayer ベースのプレイヤー:\n\n- gnome-mplayer: ハードウェアアクセラレーションを有効にするには: 編集 -> 環境設定 -> プレイヤー からビデオの出力を \"vaapi\" に設定してください。\n- smplayer: ハードウェアアクセラレーションを有効にするには: オプション -> 環境設定 -> 全般 -> ビデオ から出力ドライバーを \"vaapi\" に設定してください。\n\n"
    },
    {
      "title": "Radeon カードで Composite が有効になった状態の半透明再生",
      "level": 3,
      "content": "X で半透明のビデオ出力をするには MPlayer のテクスチャビデオを有効にする必要があります:\n\n```\n$ mplayer -vo xv:adaptor=1 file\n```\n\nもしくは ~/.mplayer/config に以下の行を追加してください:\n\n```\nvo=xv:adaptor=1\n```\n\nxvinfo を使うことでビデオモードがあなたのグラフィックカードをサポートしているかどうか確認できます。\n\n"
    },
    {
      "title": "ビデオストリームの再生",
      "level": 3,
      "content": "ビデオストリーム (例: ASX リンク) を再生するには次のコマンドを使って下さい:\n\n```\n$ mplayer -playlist link-to-stream.asx\n```\n\nストリームは実際はプレイリストなので再生するには -playlist オプションが必須です。\n\n"
    },
    {
      "title": "DVB-T ストリーミング",
      "level": 4,
      "content": "詳しくは DVB-T を見て下さい。\n\n"
    },
    {
      "title": "DVD の再生",
      "level": 3,
      "content": "MPlayer で DVD を再生するには:\n\n```\n$ mplayer dvd://N\n```\n\nN は再生したいタイトル番号に置き換えてください。よくわからない場合は 1 から順に使ってみて下さい。特定のチャプターを再生するには '-chapter' フラグを使って下さい。例えば、コマンドに '-chapter 5' を追加すればタイトルのチャプター5から dvd の再生が始まります。\n\nMplayer はデフォルトでは /dev/dvd を確認します。コマンドラインで dvd-device を使うか ~/.mplayer/config で dvd-device 変数を使うかして /dev/sr0 を利用するようにしてください。\n\nDVD イメージファイルを再生するには:\n\n```\n$ mplayer -dvd-device movie.iso dvd://N\n```\n\nDVD のメニューを有効にするには:\n\n```\n$ mplayer dvdnav://\n```\n\nDVD のメニューでのマウスサポートを有効にするには:\n\n```\n$ mplayer -mouse-movements dvdnav://\n```\n\n音声言語を確認するには、-v スイッチをつけて MPlayer を実行するとオーディオ ID を出力します。音声トラックは -aid audio_id で選択します。デフォルトの音声言語は ~/.mplayer/config を編集して設定します、英語音声なら alang=en という行を追加してください。\n\nMPlayer では、DVD のボリュームが低く設定されているかもしれません。最大ボリュームを 400% にまで増加させるには、softvol=yes と softvol-max=400 を使って下さい。最初のボリュームがソフトウェアボリュームの 100% にデフォルトが設定され、全体的なミキサーのレベルはそのままになります。9 と 0 キーを使うことで、ボリュームを 0 から 400 パーセントまで調整可能です。\n\n```\nalang=en\nsoftvol=yes\nsoftvol-max=400\n```\n\n"
    },
    {
      "title": "JACK サポート",
      "level": 3,
      "content": "MPlayer のオーディオ出力先を JACK にするのをデフォルトにするには、~/.mplayer/config を編集して次を追加してください:\n\n```\nao=jack\n```\n\nJACK を常時実行していない場合は、次のようにしてコマンドラインから MPlayer を呼び出すことで必要に応じて MPlayer を JACK に出力することができます:\n\n```\n$ mplayer -ao jack [path/to/file]\n```\n\n"
    },
    {
      "title": "高度な字幕",
      "level": 3,
      "content": "Advanced SubStation Alpha (ass) または SubStation Alpha (ssa) フォーマットの字幕を正しく表示するには、~/.mplayer/config を編集して以下を追加するか:\n\n```\nass=true\n```\n\nもしくはコマンドラインに -ass を追加する必要があります:\n\n```\n$ mplayer -ass path/to/subtitledVideo.mkv\n```\n\n上記のフラグを有効にする必要があるのは字幕に数字が表示される場合などです。位置情報が誤って画面に表示するテキストとして認識されると発生します。また、Mplayer によって字幕が長すぎる、改行が多すぎるとエラーが吐かれることもあります。\n\nass を有効にすると埋め込みフォントも有効になります。mplayer のマニュアルページによれば fontconfig がバージョン 2.4.2 以上であれば embeddedfonts=true の追加は不要です。埋め込みフォントが存在しない場合は Fontconfig によって使用するフォントが選択されます。OSD の字幕レンダラーと異なるフォントが使われるようになる場合があります。\n\n"
    },
    {
      "title": "インターネットラジオ",
      "level": 3,
      "content": "以下は事前に定義したラジオ局を再生・停止するスクリプトの例です [1]:\n\n```\n#!/bin/bash\nXX=\"X\"$1;\nPLAYIT='mplayer  -loop 0 -playlist http://*.*.*.*:8000/listen.pls';\n\nif [ \"$XX\" == \"Xstop\" ]; then\n  killall mplayer;\nelse\n  if [ 'EX' == 'EX'\"$(pidof mplayer)\" ]; then\n    if [ \"$UID\" -ne 0 ]; then \n      nohup $PLAYIT &> /dev/null & disown;\n    else \n      echo The \"root\" user is not allowed to run this script.\n    fi\n  else\n    echo mplayer is already running by user: $(ps -eo user,comm | grep -i \"mplayer\"$ | sed 's/ mplayer/,/m') | sed \"s/ ,$/./m\";\n  fi\nfi\n```\n\n実行中の mplayer インスタンスを確認するには:\n\n```\n$ ps -eo pcpu,pid,user,comm | grep -i \"mplayer\"$ | sed  \"s/ mplayer$//m\"\n```\n\n"
    },
    {
      "title": "追加のバイナリコーデック",
      "level": 3,
      "content": "cook、drvc、または sipr コーデックでエンコードされたメディアを再生する必要がある場合は、codecs64AUR パッケージで \"essentials\" バイナリコーデックパックをインストールできます。詳細については、http://www.mplayerhq.hu/design7/dload.html を参照してください。\n\n"
    },
    {
      "title": "再生中に Mplayer がランダムで停止する",
      "level": 3,
      "content": "Mplayer は alsa での再生に問題を抱えているようです。pulseaudio に切り替えれば、動画再生で発生する mplayer のランダムな停止を回避できます。\n\n"
    },
    {
      "title": "MPlayer で空白を含むファイルを開けない",
      "level": 3,
      "content": "空白の入っているファイルを開こうとすると (例: 'The Movie')、ファイル file:///The%20Movie が開けないと表示して MPlayer がファイルのオープンに失敗することがあります (空白は全て %20 に変換されます)。この問題は /usr/share/applications/mplayer.desktop を編集して以下の行を:\n\n```\nExec=mplayer %U\n```\n\n次のように変更することで修正できます:\n\n```\nExec=mplayer \"%F\"\n```\n\nMPlayer のフロントエンド/GUI を使用している場合は、Exec=gui_name \"%F\" としてください。\n\n"
    },
    {
      "title": "SMPlayer: 動画が表示されない問題",
      "level": 3,
      "content": "SMPlayer が MP4 (または FLV) ビデオを開いたときに問題が起こることがあります。音声だけが流れて動画が出ない場合、~/.mplayer/config ファイルに以下の行を追加すると直るかもしれません:\n\n```\n[extension.mp4]\ndemuxer=mov\n```\n\nこれでも問題が直らない場合、SMPlayer が特定のファイルの設定を維持してしまっているのが原因です。SMPlayer が使っている全てのファイルの設定を削除すれば問題が解決するでしょう:\n\n```\n$ rm -rf ~/.config/smplayer/file_settings\n```\n\n"
    },
    {
      "title": "SMPlayer: 一時停止した後、再生ができない",
      "level": 3,
      "content": "オーディオ出力ドライバーが間違って設定されていると SMPlayer は動画の再生を停止します。オーディオドライバーの設定を正しくすることで修正できます。例えば、PulseAudio を使っている場合、-ao pulse 引数を付けて MPlayer を起動するか、~/.mplayer/config ファイルに以下を追記することで解決可能です:\n\n```\nao=pulse\n```\n\nまた、SMPlayer で Options > Preferences > General > Audio を開いて Output Driver' オプションを pulse に設定することでも変更できます。\n\n"
    },
    {
      "title": "SMPlayer: GNOME で透過を使うと動画が表示されない",
      "level": 3,
      "content": "Compiz を使って透過を行っている場合に GNOME でこの問題が発生することがあります: SMPlayer は透過画面で音声を再生しますが、動画が表示されません。この問題を修正するには、(root で) 以下のファイルを作成してください:\n\n```\n/usr/local/bin/smplayer.helper\n```\n\n```\nexport XLIB_SKIP_ARGB_VISUALS=1\nexec smplayer.real \"$@\"\n```\n\nそして以下を実行:\n\n```\n# chmod 755 /usr/local/bin/smplayer.helper\n# ln -sf /usr/local/bin/smplayer.helper /usr/local/bin/smplayer\n```\n\n"
    },
    {
      "title": "SMPlayer: OSD のフォントが大きすぎる / 字幕の文章が小さすぎる",
      "level": 3,
      "content": "SMPlayer 0.8.2.1 (と MPlayer2 20121128-1) から、字幕フォントと OSD フォントの比率がおかしいことになっています。そのために、OSD のテキストが画面全体を覆って、字幕は異常に小さく読めない事態になることがあります。この問題は以下を SMPlayer から MPlayer に渡されるオプションに追加することで解決できます:\n\n```\n-subfont-osd-scale 2\n```\n\nオプションは Options > Preferences > Advanced > Options for MPlayer にあります。また、以下の行を ~/.mplayer/config に追加することでも同じように問題は解決します:\n\n```\nsubfont-osd-scale=2\n```\n\n"
    },
    {
      "title": "MPlayer で字幕の文字がクエスチョンマークで表示される",
      "level": 3,
      "content": "字幕のコードページが utf8 の場合、以下を使ってみてください:\n\n```\n-subcp utf8\n```\n\n字幕のコードページは次のコマンドで確認できます:\n\n```\nfile subtitles.srt\n```\n\nmplayer-shows-question-marks-for-some-characters-on-subtitle を参照。\n\n"
    },
    {
      "title": "音楽 CD の再生が途切れがちになる",
      "level": 3,
      "content": "CDROM のスピンダウンが発生すると CDDA の再生に数行ごとに割り込みが入ります。問題を解決するには -cache オプションを使ってキャッシュあるいはバッファを設定してください:\n\n```\nmplayer cdda://:1 -cache 1024\n```\n\n:1 で CDROM の速度が低くなり安定して回転してノイズが減ります。\n\n"
    },
    {
      "title": "参照",
      "level": 2,
      "content": "- MPlayer FAQ\n- MPlayer ヒント\n- How to configure MPlayer\n- playerctl: メディアプレイヤーを操作するためのコマンドラインユーティリティとライブラリ\n\n"
    }
  ]
}