{
  "title": "Xdg-menu (Español)",
  "url": "https://wiki.archlinux.org/title/Xdg-menu_(Espa%C3%B1ol)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "Note: **2022-10-03** \n\nxdg-menu es una herramienta que genera Menus de XDG Desktop para los siguientes gestores de ventanas:\n\n- awesome\n- Blackbox\n- Fluxbox\n- FVWM2\n- IceWM\n- Openbox\n- twm\n- Window Maker\n\nKDE, GNOME, Xfce y Enlightenment ya son compatibles con XDG.\n\n"
    },
    {
      "title": "Instalación",
      "level": 2,
      "content": "Instale el paquete archlinux-xdg-menu.\n\n"
    },
    {
      "title": "Jerarquía del menú",
      "level": 2,
      "content": "- Aplicaciones Accesibilidad Accesorios Desarrollo Educación Juegos Gráficos Internet Multimedia Oficina Otros Ciencia Sistema\n\n- Accesibilidad\n- Accesorios\n- Desarrollo\n- Educación\n- Juegos\n- Gráficos\n- Internet\n- Multimedia\n- Oficina\n- Otros\n- Ciencia\n- Sistema\n\n"
    },
    {
      "title": "Configuración",
      "level": 2,
      "content": "xdg_menu ocupa tres fuentes para generar menús: el menú raíz, o en otras palabras, una plantilla de menú XML usualmente pasada por la consola; la fecha en cache de cuando se ejecutó por ultima vez; y una serie de archivos de configuración.\n\n- Puede encontrar plantillas de menú XML en /etc/xdg/menus.\n- Si cambia el código en xdg_menu} para alterar el diseño, asegúrese de eliminar todo en ~/.xdg_menu_cache, o va a pasar horas tratando de descifrar porque no se aplican sus cambios en el script de Perl.\n- Puede encontrar los archivos de configuración individuales de las aplicaciones en /usr/share/applications.\n\nHay más carpetas con archivos de configuración en /usr/share. En la mayoría de los casos no necesitará tocar esos. Aunque sí quiere cambiar ligeramente el diseño de su menú, puede modificar la plantilla. Los cambios más drásticos requieren que cambie el script de Perl xdg_menu. Si encuentra que las aplicaciones no aparecen o que tienen nombres raros, tendrá que ver su archivo .desktop en /usr/share/applications. Vea la especificación de entradas de escritorio.\n\n"
    },
    {
      "title": "Añadiendo entradas de escritorio desde otros directorios",
      "level": 3,
      "content": "Por defecto, el Xdg-menu sera populado con las aplicaciones que instales sus entradas de escritorio en /usr/share/applications. Para añadir aplicaciones que instalan sus entradas de escritorio en una carpeta de usuario como ~/.local/share/applications edite el archivo /etc/xdg/menus/arch-applications.menu y añada una etiqueta <AppDir> para el directorio deseado, como en lo siguiente:\n\n```\n/etc/xdg/menus/arch-applications.menu\n```\n\n```\n<Menu>\n\n  <Name>Applications</Name>\n  <Directory>Arch-Applications.directory</Directory>\n  <DefaultAppDirs/>\n  <AppDir>/home/nombre-de-usuario/.local/share/applications</AppDir>\n  <DefaultDirectoryDirs/>\n  <DefaultMergeDirs/>\n  ...\n```\n\n"
    },
    {
      "title": "xdg_menu",
      "level": 3,
      "content": "```\nxdg_menu [--format <format>] [--desktop <desktop>] \n         [--charset <charset>] [--language <language>]  \n\t [--root-menu <root-menu>] [--die-on-error]\n\t [--fullmenu] [--help]\n\t\t \n\tformat - output format\n\t         possible formats: twm, WindowMaker, fvwm2, icewm, ion3\n\t                           blackbox, fluxbox, openbox, \n\t\t\t\t   xfce4, openbox3, openbox3-pipe, awesome\n\t\t\t\t   readable\n\t\t default: WindowMaker\n\t\t\n \tfullmenu  - output a full menu and not only a submenu\n\n\tdesktop - desktop name for NotShowIn and OnlyShowIn\n\t\t default: the same as format\n\t\t\t \n\tcharset - output charset\n\t\t default: <locale>\n\t\t\t \n\tlanguage - output language\n\t\t default: <locale>\n\t\t\t \n\troot-menu - location of root menu file\n\t\t default: /opt/gnome/etc/xdg/menus/applications.menu\n\t\t\t \n\tdie-on-error - abort execution on any error, \n\t\t default: try to continue\n\n\tverbose - print debugging information\n\t\t \n\thelp - print this text\n```\n\n"
    },
    {
      "title": "update-menus",
      "level": 3,
      "content": "update-menus actualiza los menús de los gestores de ventanas con los datos de XDG y puede hacerlo automáticamente configurándolo.\n\nEs un wrapper de xdg_menu que depende de /etc/update-menus.conf\n\nPara usarlo, debe instalar el paquete archlinux-xdg-menu (xdg_menu)\n\nEn /etc/update-menus.conf debe seleccionar desde una lista de gestores de ventanas para los cuales quiere generar el menú. Puede poner comentarios con #.\n\nLos menús son generados en /var/cache/xdg-menu/. Vea información especifica para varios gestores de ventanas en la sección #Ejemplos.\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "```\n$ xdg_menu --format awesome --root-menu /etc/xdg/menus/arch-applications.menu > ~/.config/awesome/archmenu.lua\n```\n\nY, edite su rc.lua como se muestra más abajo.\n\n- Añada una declaración statment para su nuevo archivo menu.lua.\n- Añada una entrada para su objeto awful.menu para su nuevo menú que invoca a xdg-menu.\n\n```\n...\nxdg_menu = require(\"archmenu\")\n...\n\n...\nmymainmenu = awful.menu({ items = { { \"awesome\", myawesomemenu, beautiful.awesome_icon },\n                                    { \"Applications\", xdgmenu },\n                                    { \"open terminal\", terminal }\n                                  }\n                        })\n...\n```\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "```\n$ xdg_menu --format icewm --fullmenu --root-menu /etc/xdg/menus/arch-applications.menu >> ~/.icewm/programs\n```\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente icewm en /etc/update-menus.conf.\n- Ejecute update-menus como root.\n- Enlace /var/cache/xdg-menu/icewm/programs a ~/.icewm/programs.\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "```\n$ xdg_menu --format fluxbox --root-menu /etc/xdg/menus/arch-applications.menu > ~/.fluxbox/mi-menu\n```\n\nCambie su archivo de menú para que incluya el menú generado.\n\nPor ejemplo, añada la linea:\n\n```\n[include] (mi-menu)\n```\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente fluxbox en /etc/update-menus.conf.\n- Ejecute update-menus como root.\n- Cambie su archivo de menú para que incluya el menú generado.\n\nPor ejemplo, añada la linea:\n\n```\n[include] (/var/cache/xdg-menu/fluxbox/boxrc)\n```\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "Genere el menú con:\n\n```\n$ xdg_menu --format openbox3 --root-menu /etc/xdg/menus/arch-applications.menu > xdg-menu.xml\n```\n\nY añadalo manualmente a su menu.xml. Por ejemplo, agregue xdg-menu.xml en menu.xml y añada:\n\n```\n<menu id=\"Applications\" />\n```\n\nEn root-menu.\n\n"
    },
    {
      "title": "Como pipe menu (menú de tubería)",
      "level": 4,
      "content": "Usar xdg_open como menú de tubería tiene el beneficio añadido de tener un menú que se actualiza automáticamente cuando se instalan aplicaciones nuevas.\n\nAñada lo siguiente en alguna parte de su menu.xml entre las etiqueta de su menú raíz (root menu):\n\n```\n<menu id=\"applications\" label=\"Applications\" execute=\"xdg_menu --format openbox3-pipe --root-menu /etc/xdg/menus/arch-applications.menu\" />\n```\n\nUn ejemplo básico:\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<openbox_menu xmlns=\"http://openbox.org/3.4/menu\">\n\n<menu id=\"root-menu\" label=\"Openbox 3\">\n  <menu id=\"applications\" label=\"Applications\" execute=\"xdg_menu --format openbox3-pipe --root-menu /etc/xdg/menus/arch-applications.menu\" />\n  <separator />\n  <item label=\"Log Out\">\n    <action name=\"Exit\">\n      <prompt>yes</prompt>\n    </action>\n  </item>\n</menu>\n\n</openbox_menu>\n```\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente openbox en /etc/update-menus.conf.\n- Ejecute update-menus como root.\n- Cambie su archivo menu.xml para que incluya el menú generado.\n\nPor ejemplo, añada lo siguiente a root-menu:\n\n```\n<menu id=\"xdg-menu\" label=\"XDG Menu\" execute=\"cat /var/cache/xdg-menu/openbox/menu.xml\"/>\n```\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "Ejecute:\n\n```\n$ xdg_menu --format twm --root-menu /etc/xdg/menus/arch-applications.menu >menu-twm\n```\n\nY añadalo manualmente a twmrc. En el caso de un derivado de twm con preprocesado m4 como vtwm o ctwm, puede ser incluido añadiendo:\n\n```\nsinclude(`/UBICACION/DE/SU/menu-twm')\n```\n\nA *twmrc.\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente twm en /etc/update-menus.conf.\n- Añada a /etc/X11/twm/system.twmrc un archivo de menú de aplicaciones (añadalo en defops menu):\n\n```\n\"apps\"          f.menu \"Applications\"\n```\n\n- Ejecute update-menus como root.\n- Ejecute twm -f /var/cache/xdg-menu/twm/twmrc.\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "Ejecute:\n\n```\n$ xdg_menu --format WindowMaker --root-menu /etc/xdg/menus/arch-applications.menu >mi-menu-wm\n```\n\nY añada:\n\n```\n#include \"mi-menu-wm\"\n```\n\nEn su archivo de menú de WindowMaker.\n\nTambién puede usar «Application Menu Definitions» en WPrefs, y añadir el comando de xdg como parámetro en el objeto «Generated Submenu».\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente WindowMaker en /etc/update-menus.conf.\n- Ejecute update-menus como root.\n- Añada:\n\n```\n#include \"/var/cache/xdg-menu/WindowMaker/wmrc\"\n```\n\nA su archivo de menú.\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "Genere el menú:\n\n```\n$ xdg_menu --format fvwm2 --root-menu /etc/xdg/menus/arch-applications.menu >fvwm2-menu\n```\n\nY añada el menú en el menú raíz:\n\n```\nread fvwm2-menu\n\nAddToMenu MenuFvwmRoot  \"Root Menu\"             Title\n+                       \"&0. XDG Menu\"          Popup xdg_menu\n```\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente fvwm2 en /etc/update-menus.conf.\n- Ejecute update-menus como root.\n- Cambie su archivo .fvwm2rc para que incluya el menú generado. Por ejemplo:\n\n```\nAddToMenu MenuFvwmRoot  \"Root Menu\"             Title\n+                       \"&0. XDG Menu\"          Popup xdg_menu\n```\n\n```\nread /var/cache/xdg-menu/fvwm2/fvwm2rc\n```\n\n"
    },
    {
      "title": "Con xdg_menu",
      "level": 4,
      "content": "```\n$ xdg_menu --format blackbox --root-menu /etc/xdg/menus/arch-applications.menu >mi-menu\n```\n\nCambie su archivo de menú para que incluya el menú generado.\n\nPor ejemplo, añada la linea:\n\n```\n[include] (mi-menu)\n```\n\n"
    },
    {
      "title": "Con update-menus",
      "level": 4,
      "content": "- Descomente blackbox en /etc/update-menus.conf.\n- Ejecute update-menus como root.\n- Cambie su archivo de menú para que incluya el menú generado.\n\nPor ejemplo, añada la linea:\n\n```\n[include] (/var/cache/xdg-menu/blackbox/boxrc)\n```\n\n"
    },
    {
      "title": "Véase también",
      "level": 2,
      "content": "- Sawfish#Menus\n- https://github.com/gapan/xdgmenumaker\n\n"
    }
  ]
}