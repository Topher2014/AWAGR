{
  "title": "Fingerprint-gui (日本語)",
  "url": "https://wiki.archlinux.org/title/Fingerprint-gui_(%E6%97%A5%E6%9C%AC%E8%AA%9E)",
  "sections": [
    {
      "title": "Introduction",
      "level": 1,
      "content": "関連記事\n\n- Fprint\n- ThinkFinger\n\nFingerprint-gui は指紋リーダーのインターフェイスとドライバーを提供するプログラムです。パッケージにはオープンソースプロジェクト fprint のドライバーだけでなく fprint には含まれていないプロプライエタリのドライバーも入っています。\n\n"
    },
    {
      "title": "目次",
      "level": 2,
      "content": "- 1 インストール\n- 2 指紋を登録する\n- 3 認証\n- 4 検証\n- 5 エクスポート\n- 6 パスワード\n- 7 既知の問題 7.1 デバイスが認識されない\n\n- 7.1 デバイスが認識されない\n\n"
    },
    {
      "title": "インストール",
      "level": 2,
      "content": "AUR から fingerprint-guiAUR をインストールしてください。このパッケージには html 形式のインストールガイドが含まれており /usr/share/doc/fingerprint-gui/Manual_en.html にあります。\n\nGNOME か KDE を使っている場合は pacman の指示に従って以下のファイルを削除してください:\n\n```\n/etc/xdg/autostart/\n```\n\n```\npolkit-gnome-authentication-agent-1.desktop\npolkit-kde-authentication-agent-1.desktop\n```\n\nウィンドウマネージャを使っている場合、認証エージェントが必要です。パッケージには /lib/fingerprint-gui/fingerprint-polkit-agent 認証エージェントが含まれています。ウィンドウマネージャが XDG に完全準拠しているのであれば、エージェントは自動的に起動します。エージェントが必要なのは指紋を登録するときだけで、認証時には必要ありません。\n\n"
    },
    {
      "title": "指紋を登録する",
      "level": 2,
      "content": "インストール後、設定ユーティリティを起動してハードウェアが認識されているか、正しく動作するかをテストしてください:\n\n```\n$ fingerprint-gui -d\n```\n\n-d はデバッグモードで、イベントの詳細なログを作成します。デバッグ情報が必要ないときは、このフラグは外してかまいません。\n\nデバイスが認識されない場合、udev がデバイスに適切なパーミッションを設定するように再起動する必要があります。また、ユーザーを plugdev と scanner グループに追加しなくてはなりません。\n\n指紋を設定ツールで登録するには、\"Finger\" タブを選択し、指を選んで \"Next\" をクリックしてください。\n\n"
    },
    {
      "title": "認証",
      "level": 2,
      "content": "指紋を登録しても、セットアップの \"test\" セクションは動きません。これは必要な認証が適切な pam.d ファイルで認定されていないためです。\n\n既定のサービスの指紋認証を設定する方法の例として、まずは sudo で設定しています。/etc/pam.d/sudo をテキストエディタで開いて以下の太字のテキストを挿入してください:\n\n```\n/etc/pam.d/sudo\n```\n\n```\n#%PAM-1.0\nauth\t\tsufficient\tpam_fingerprint-gui.so\nauth\t\trequired\tpam_unix.so\nauth\t\trequired\tpam_nologin.so\n```\n\n'sudo' ファイルには他にもエントリを含めることができます。\n\nユーザーによっては sudo をインストールしていない(もしくはしたくない)かもしれません。その場合、su の認証に指紋を使うことができます。sudo の例とほとんど同じですが、代わりに /etc/pam.d/su にエントリを追加するのが違います。以下の太字のテキストを挿入してください。\n\n```\n/etc/pam.d/su\n```\n\n```\n#%PAM-1.0\n auth\t\tsufficient\tpam_rootok.so\n auth\t\tsufficient\tpam_fingerprint-gui.so\n auth\t\trequired\tpam_unix.so\n account\t\trequired\tpam_unix.so\n session\t\trequired\tpam_unix.so\n```\n\nGDM, KDM, LightDM, Gnome-Screensaver なども同じように設定できます。別の情報や設定が必要な場合は、付属のマニュアルを参照してください。また、Package Maintainer's Manual には付属のマニュアルに書かれていない細かい情報が書かれています。\n\n"
    },
    {
      "title": "検証",
      "level": 2,
      "content": "必要な認証を pam に追加したら、設定が上手くいったか確認することができます。一番簡単な確認方法は、fingerprint-gui を起動することです。(指紋は既に設定されているので) 手順を繰り返すのではなく、直接 Settings タブをクリックしてください。ここからテストしたい機能を選択することが可能です (sudo, su, gdm など)。\n\nまた、登録した指紋が認識されるか確認するためのユーティリティも含まれています。次を実行することで確認できます:\n\n```\n$ fingerprint-identifier\n```\n\n画面上の指示に従って下さい。\n\n"
    },
    {
      "title": "エクスポート",
      "level": 2,
      "content": "ユーザーの指紋データをファイルに保存したいときは、Settings タブの Export ボタンを使って下さい。\"Fingerprints.tar.gz\" ファイルが作成されます。現段階では、ファイルを保存してもあまり意味はありません、\"Import\" 機能がないためです。\n\n"
    },
    {
      "title": "パスワード",
      "level": 2,
      "content": "場合によっては、指紋を使ってシステムをログインすることはデスクトップ環境の機能を制限してしまうことがあります。例えば、GNOME Keyring はキーリングのデータを暗号化するのにパスワードに依存しています。この問題に対処するため、fingerprint-gui には暗号化されたパスワードをリムーバブルメディア (USB) に保存できる機能があります。リムーバブルメディアが接続されているときに指紋認証を行うことでキーを使ってキーチェインを復号化できます。\n\nマニュアルでは、機能を使うには USB ドライブをマウントして書き込み権限が必要です。fingerprint-gui の \"Password\" タブで \"Save to directory\" と書かれている部分にデバイスのパスを入力してください (gvfs を使用している場合、パスは /run/media/your_uid/device などとなります)。パスワードを入力して \"save\" を選択してください。これでリムーバブルメディアに隠しディレクトリ /.fingerprints が作成され username@hostname.xml ファイルが作られます。ローカルマシン側には /var/lib/fingerprint-gui/username/config.xml ファイルが作成されます。\n\n"
    },
    {
      "title": "デバイスが認識されない",
      "level": 3,
      "content": "デバイス(例えば、最近の ThinkPad に見られる 06cb:00bd)が CLI(fprint)では認識されるのに、GUI では認識されない場合、それは現在の指紋認証 GUI が古いバージョンに基づいているためです。詳細については、[1] を参照してください。\n\n"
    }
  ]
}